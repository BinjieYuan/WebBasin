(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-d2739f82"],{"00b4":function(t,e,i){"use strict";i("ac1f");var n=i("23e7"),r=i("da84"),a=i("c65b"),o=i("e330"),s=i("1626"),l=i("861d"),u=function(){var t=!1,e=/[ac]/;return e.exec=function(){return t=!0,/./.exec.apply(this,arguments)},!0===e.test("abc")&&t}(),c=r.Error,h=o(/./.test);n({target:"RegExp",proto:!0,forced:!u},{test:function(t){var e=this.exec;if(!s(e))return h(this,t);var i=a(e,this,t);if(null!==i&&!l(i))throw new c("RegExp exec method returned something other than an Object or null");return!!i}})},"04d1":function(t,e,i){var n=i("342f"),r=n.match(/firefox\/(\d+)/i);t.exports=!!r&&+r[1]},"057f":function(t,e,i){var n=i("c6b6"),r=i("fc6a"),a=i("241c").f,o=i("4dae"),s="object"==typeof window&&window&&Object.getOwnPropertyNames?Object.getOwnPropertyNames(window):[],l=function(t){try{return a(t)}catch(e){return o(s)}};t.exports.f=function(t){return s&&"Window"==n(t)?l(t):a(r(t))}},"0a06":function(t,e,i){"use strict";var n=i("c532"),r=i("30b5"),a=i("f6b4"),o=i("5270"),s=i("4a7b"),l=i("848b"),u=l.validators;function c(t){this.defaults=t,this.interceptors={request:new a,response:new a}}c.prototype.request=function(t){"string"===typeof t?(t=arguments[1]||{},t.url=arguments[0]):t=t||{},t=s(this.defaults,t),t.method?t.method=t.method.toLowerCase():this.defaults.method?t.method=this.defaults.method.toLowerCase():t.method="get";var e=t.transitional;void 0!==e&&l.assertOptions(e,{silentJSONParsing:u.transitional(u.boolean),forcedJSONParsing:u.transitional(u.boolean),clarifyTimeoutError:u.transitional(u.boolean)},!1);var i=[],n=!0;this.interceptors.request.forEach((function(e){"function"===typeof e.runWhen&&!1===e.runWhen(t)||(n=n&&e.synchronous,i.unshift(e.fulfilled,e.rejected))}));var r,a=[];if(this.interceptors.response.forEach((function(t){a.push(t.fulfilled,t.rejected)})),!n){var c=[o,void 0];Array.prototype.unshift.apply(c,i),c=c.concat(a),r=Promise.resolve(t);while(c.length)r=r.then(c.shift(),c.shift());return r}var h=t;while(i.length){var d=i.shift(),p=i.shift();try{h=d(h)}catch(f){p(f);break}}try{r=o(h)}catch(f){return Promise.reject(f)}while(a.length)r=r.then(a.shift(),a.shift());return r},c.prototype.getUri=function(t){return t=s(this.defaults,t),r(t.url,t.params,t.paramsSerializer).replace(/^\?/,"")},n.forEach(["delete","get","head","options"],(function(t){c.prototype[t]=function(e,i){return this.request(s(i||{},{method:t,url:e,data:(i||{}).data}))}})),n.forEach(["post","put","patch"],(function(t){c.prototype[t]=function(e,i,n){return this.request(s(n||{},{method:t,url:e,data:i}))}})),t.exports=c},"0b42":function(t,e,i){var n=i("da84"),r=i("e8b5"),a=i("68ee"),o=i("861d"),s=i("b622"),l=s("species"),u=n.Array;t.exports=function(t){var e;return r(t)&&(e=t.constructor,a(e)&&(e===u||r(e.prototype))?e=void 0:o(e)&&(e=e[l],null===e&&(e=void 0))),void 0===e?u:e}},"0cb2":function(t,e,i){var n=i("e330"),r=i("7b0b"),a=Math.floor,o=n("".charAt),s=n("".replace),l=n("".slice),u=/\$([$&'`]|\d{1,2}|<[^>]*>)/g,c=/\$([$&'`]|\d{1,2})/g;t.exports=function(t,e,i,n,h,d){var p=i+t.length,f=n.length,m=c;return void 0!==h&&(h=r(h),m=u),s(d,m,(function(r,s){var u;switch(o(s,0)){case"$":return"$";case"&":return t;case"`":return l(e,0,i);case"'":return l(e,p);case"<":u=h[l(s,1,-1)];break;default:var c=+s;if(0===c)return r;if(c>f){var d=a(c/10);return 0===d?r:d<=f?void 0===n[d-1]?o(s,1):n[d-1]+o(s,1):r}u=n[c-1]}return void 0===u?"":u}))}},"0d3b":function(t,e,i){var n=i("d039"),r=i("b622"),a=i("c430"),o=r("iterator");t.exports=!n((function(){var t=new URL("b?a=1&b=2&c=3","http://a"),e=t.searchParams,i="";return t.pathname="c%20d",e.forEach((function(t,n){e["delete"]("b"),i+=n+t})),a&&!t.toJSON||!e.sort||"http://a/c%20d?a=1&c=3"!==t.href||"3"!==e.get("c")||"a=1"!==String(new URLSearchParams("?a=1"))||!e[o]||"a"!==new URL("https://a@b").username||"b"!==new URLSearchParams(new URLSearchParams("a=b")).get("a")||"xn--e1aybc"!==new URL("http://тест").host||"#%D0%B1"!==new URL("http://a#б").hash||"a1c3"!==i||"x"!==new URL("http://x",void 0).host}))},"0df6":function(t,e,i){"use strict";t.exports=function(t){return function(e){return t.apply(null,e)}}},"107c":function(t,e,i){var n=i("d039"),r=i("da84"),a=r.RegExp;t.exports=n((function(){var t=a("(?<a>b)","g");return"b"!==t.exec("b").groups.a||"bc"!=="b".replace(t,"$<a>c")}))},1276:function(t,e,i){"use strict";var n=i("2ba4"),r=i("c65b"),a=i("e330"),o=i("d784"),s=i("44e7"),l=i("825a"),u=i("1d80"),c=i("4840"),h=i("8aa5"),d=i("50c4"),p=i("577e"),f=i("dc4a"),m=i("4dae"),g=i("14c3"),y=i("9263"),_=i("9f7f"),v=i("d039"),b=_.UNSUPPORTED_Y,L=4294967295,w=Math.min,k=[].push,D=a(/./.exec),S=a(k),T=a("".slice),M=!v((function(){var t=/(?:)/,e=t.exec;t.exec=function(){return e.apply(this,arguments)};var i="ab".split(t);return 2!==i.length||"a"!==i[0]||"b"!==i[1]}));o("split",(function(t,e,i){var a;return a="c"=="abbc".split(/(b)*/)[1]||4!="test".split(/(?:)/,-1).length||2!="ab".split(/(?:ab)*/).length||4!=".".split(/(.?)(.?)/).length||".".split(/()()/).length>1||"".split(/.?/).length?function(t,i){var a=p(u(this)),o=void 0===i?L:i>>>0;if(0===o)return[];if(void 0===t)return[a];if(!s(t))return r(e,a,t,o);var l,c,h,d=[],f=(t.ignoreCase?"i":"")+(t.multiline?"m":"")+(t.unicode?"u":"")+(t.sticky?"y":""),g=0,_=new RegExp(t.source,f+"g");while(l=r(y,_,a)){if(c=_.lastIndex,c>g&&(S(d,T(a,g,l.index)),l.length>1&&l.index<a.length&&n(k,d,m(l,1)),h=l[0].length,g=c,d.length>=o))break;_.lastIndex===l.index&&_.lastIndex++}return g===a.length?!h&&D(_,"")||S(d,""):S(d,T(a,g)),d.length>o?m(d,0,o):d}:"0".split(void 0,0).length?function(t,i){return void 0===t&&0===i?[]:r(e,this,t,i)}:e,[function(e,i){var n=u(this),o=void 0==e?void 0:f(e,t);return o?r(o,e,n,i):r(a,p(n),e,i)},function(t,n){var r=l(this),o=p(t),s=i(a,r,o,n,a!==e);if(s.done)return s.value;var u=c(r,RegExp),f=r.unicode,m=(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.unicode?"u":"")+(b?"g":"y"),y=new u(b?"^(?:"+r.source+")":r,m),_=void 0===n?L:n>>>0;if(0===_)return[];if(0===o.length)return null===g(y,o)?[o]:[];var v=0,k=0,D=[];while(k<o.length){y.lastIndex=b?0:k;var M,x=g(y,b?T(o,k):o);if(null===x||(M=w(d(y.lastIndex+(b?k:0)),o.length))===v)k=h(o,k,f);else{if(S(D,T(o,v,k)),D.length===_)return D;for(var C=1;C<=x.length-1;C++)if(S(D,x[C]),D.length===_)return D;k=v=M}}return S(D,T(o,v)),D}]}),!M,b)},"14c3":function(t,e,i){var n=i("da84"),r=i("c65b"),a=i("825a"),o=i("1626"),s=i("c6b6"),l=i("9263"),u=n.TypeError;t.exports=function(t,e){var i=t.exec;if(o(i)){var n=r(i,t,e);return null!==n&&a(n),n}if("RegExp"===s(t))return r(l,t,e);throw u("RegExp#exec called on incompatible receiver")}},"159b":function(t,e,i){var n=i("da84"),r=i("fdbc"),a=i("785a"),o=i("17c2"),s=i("9112"),l=function(t){if(t&&t.forEach!==o)try{s(t,"forEach",o)}catch(e){t.forEach=o}};for(var u in r)r[u]&&l(n[u]&&n[u].prototype);l(a)},"17c2":function(t,e,i){"use strict";var n=i("b727").forEach,r=i("a640"),a=r("forEach");t.exports=a?[].forEach:function(t){return n(this,t,arguments.length>1?arguments[1]:void 0)}},"1bab":function(t,e,i){"use strict";var n=i("bc3a"),r=i.n(n),a=r.a.create({baseURL:"/api",timeout:5e3});e["a"]=a},"1d2b":function(t,e,i){"use strict";t.exports=function(t,e){return function(){for(var i=new Array(arguments.length),n=0;n<i.length;n++)i[n]=arguments[n];return t.apply(e,i)}}},"1dde":function(t,e,i){var n=i("d039"),r=i("b622"),a=i("2d00"),o=r("species");t.exports=function(t){return a>=51||!n((function(){var e=[],i=e.constructor={};return i[o]=function(){return{foo:1}},1!==e[t](Boolean).foo}))}},"243d":function(t,e,i){"use strict";(function(t){i("d81d"),i("e9c4"),i("b0c0"),i("ac1f"),i("00b4"),i("5319"),i("4d63"),i("c607"),i("2c3e"),i("25f0"),i("d3b7"),i("3ca3"),i("ddb0"),i("2b3d"),i("9861"),i("a4d3"),i("e01a");var n=i("bc3a"),r=i.n(n),a=i("1bab");i("34a0"),i("9912");e["a"]={name:"BasinShow",created:function(){this.initLevelLabel()},mounted:function(){this.initMap(),this.initController(),this.initLayers(),this.listenDraw(),this.showRiverLayer(this.riverCkb),this.showBasinsLayer(this.basinCkb),window.Vue=this},data:function(){return{mapEl:null,baseLayers:null,drawingLayerGroup:null,riverLayer:null,riverCkb:!1,basinCkb:!0,basinType:"standard",levelSelect:7,levelSelectCustom:5,levelLayerList:[],basinLayer:null,wholeUpstreamLayer:null,lakesLayer:null,wholeBasinLayer:null,wholeBasinCkb:!1,wholeUpstreamCkb:!1,uploadCSVModal:!1,toUploadCSV:null,csvName:"",batchStatus:"csvUpload",basinRangesUrl:"",uploadGeoJSONModal:!1,lisfloodModal:!1,toUploadGeoJSON:null,geoJSONName:"",downloadDataModal:!1,downloadUpatreamDataModal:!1,levelSelectDownload:1,loadingDEM:!1,loadingDir:!1,loadingAcc:!1,loadingLake:!1,loadingBasin:!1,loadingSlope:!1,loadingRiver:!1,resetDataModal:!1,customDataModal:!1,showDownloadGeoJSONBtn:!1,toDownloadGeoJSONStr:"",querySwitch:!1,upstreamQuerySwitch:!1,queryType:"standard",levelSelectQuery:5,upstreamDir:!1,upstreamElv:!1,upstreamUpa:!1,downloadUpstreamTimestamp:0,paramData:{rainParam:"",startParamD:"",startParamT:"",endParamD:"",endParamT:""},paramValidate:{rainParam:[{required:!0,message:"The value cannot be empty",trigger:"blur"}],startParamD:[{required:!0,type:"date",message:"Please select the date",trigger:"change"}],startParamT:[{required:!0,type:"string",message:"Please select time",trigger:"change"}],endParamD:[{required:!0,type:"date",message:"Please select the date",trigger:"change"}],endParamT:[{required:!0,type:"string",message:"Please select time",trigger:"change"}]},modelStatus:"modelSetting",resetData:{riverThreshold:100,lakeThreshold:1e3},resetValidate:{riverThreshold:[{required:!0,message:"The value cannot be empty",trigger:"blur"}],lakeThreshold:[{required:!0,message:"The value cannot be empty",trigger:"blur"}]},resetStatus:"resetSetting",resultDataUrl:"",customDataSetting:{demFileName:"",lakeZipName:"",riverThreshold:100},customValidate:{demFileName:[{required:!0,message:"The file is required",trigger:"blur"}],lakeZipName:[{required:!0,message:"The file is required",trigger:"blur"}],riverThreshold:[{required:!0,message:"The value cannot be empty",trigger:"blur"}],lakeThreshold:[{required:!0,message:"The value cannot be empty",trigger:"blur"}]},customStatus:"customSetting",customDataUrl:"",scrollOps:{bar:{background:"#808695"}}}},methods:{initMap:function(){this.mapEl=L.map("leafletMap",{zoom:5,center:[34,110],crs:L.CRS.TianDiTu_WGS84,timeDimension:!0,timeDimensionControl:!0})},initController:function(){this.drawingLayerGroup=L.layerGroup([]),this.drawingLayerGroup.addTo(this.mapEl)},initLayers:function(){var t=L.supermap.tiandituTileLayer({key:"56b0c218a6c4020cd38b5fc2be7c6202",layerType:"vec"}),e=L.supermap.tiandituTileLayer({key:"56b0c218a6c4020cd38b5fc2be7c6202",layerType:"vec",isLabel:!0}),i=L.supermap.tiandituTileLayer({key:"56b0c218a6c4020cd38b5fc2be7c6202",layerType:"img"}),n=L.supermap.tiandituTileLayer({key:"56b0c218a6c4020cd38b5fc2be7c6202",layerType:"img",isLabel:!0}),r=L.supermap.tiandituTileLayer({key:"56b0c218a6c4020cd38b5fc2be7c6202",layerType:"ter"}),a=L.supermap.tiandituTileLayer({key:"56b0c218a6c4020cd38b5fc2be7c6202",layerType:"ter",isLabel:!0}),o=L.layerGroup([t,e]),s=L.layerGroup([i,n]),l=L.layerGroup([r,a]);this.baseLayers={"矢量地图":o,"影像地图":s,"地形地图":l};var u={};L.control.layers(this.baseLayers,u).addTo(this.mapEl),this.baseLayers["矢量地图"].addTo(this.mapEl),this.baseLayers["矢量地图"].setZIndex(0),this.baseLayers["影像地图"].setZIndex(0),this.baseLayers["地形地图"].setZIndex(0),L.control.scale({position:"bottomleft"}).addTo(this.mapEl)},listenDraw:function(){var t=this,e=this;this.mapEl.on("pm:create",(function(t){e.showDownloadGeoJSONBtn=!1,e.drawingLayerGroup.clearLayers(),e.drawingLayerGroup.addLayer(t.layer)})),this.mapEl.on("pm:remove",(function(t){e.showDownloadGeoJSONBtn=!1,e.drawingLayerGroup.clearLayers()})),this.mapEl.on("click",(function(i){if(e.querySwitch){var n=i.latlng,r=n["lng"],o=n["lat"],s="";switch(e.queryType){case"standard":s="/basins/querySubLevel/"+t.levelSelect+"?lon="+r+"&lat="+o;break;case"upstream":s="/basins/upstream";break;case"pointupstream":var l=(new Date).getTime();e.downloadUpstreamTimestamp=l,s="/basins/queryUpstreamBasin/"+t.levelSelect+"?lon="+r+"&lat="+o+"&dir="+upstreamDir+"&upa="+upstreamUpa+"&elv="+upstreamElv+"&timeStamp="+l;break;case"whole":s="/basins/queryScope"}t.$Spin.show(),a["a"].get(s).then((function(t){if(0!=t.data){var i=t.data;e.showDownloadGeoJSONBtn=!0,e.toDownloadGeoJSONStr=i,e.addGeoJSONToMap(JSON.stringify(i),"red"),e.$Spin.hide()}else e.$Message.error("No Basin Info Here."),e.$Spin.hide()})).catch((function(t){confirm("Something Wrong!"),e.$Spin.hide()}))}}))},initLevelLabel:function(){for(var t=5;t<10;t++){var e={value:t,label:"level "+t};this.levelLayerList.push(e)}},showRiverLayer:function(t){if(t)this.riverLayer=L.tileLayer("http://172.21.212.233:8085/tile/{z}/{x}/{y}.png").addTo(this.mapEl);else try{this.riverLayer.remove()}catch(e){}},showBasinsLayer:function(t){if(t)this.changeBainsType();else{console.log("Hide Basins Layer.");try{this.basinLayer.remove()}catch(e){}}},changeBainsType:function(){switch(this.basinType){case"standard":this.changeStandardBasinsLevel();break;case"custom":this.changeCustomBasinsLevel();break}},changeStandardBasinsLevel:function(){try{this.basinLayer.remove()}catch(e){}var t=this.levelSelect;this.basinLayer=L.tileLayer.wms("http://210.26.48.56:30122/geoserver/Basin_shp/wms",{layers:"Asia_level_0"+t,format:"image/png",transparent:!0,noWarp:!0}).addTo(this.mapEl),console.log("Show Standard Basin Layer in Level "+t+".")},changeCustomBasinsLevel:function(){try{this.basinLayer.remove()}catch(e){}var t=this.levelSelectCustom;console.log("Show Basin Layer with Lakes in Level "+t+".")},showWholeUpstreamLayer:function(t){t?console.log("Show Lakes & their Upstream Layer."):console.log("Hide Lakes & their Upstream Layer.")},showWholeBasinLayer:function(t){t?this.wholeBasinLayer=L.tileLayer("http://172.21.213.155:8085/tile/{z}/{x}/{y}.png").addTo(this.mapEl):this.wholeBasinLayer.remove()},changeQueryBasinBtn:function(t){t?(console.log("Allow Click Query Scope."),this.queryType="standard",this.changeQueryType()):(console.log("Stop Click Query Scope."),this.upstreamQuerySwitch=!1)},changeQueryType:function(){switch(this.queryType){case"standard":this.changeQueryBasinsLevel(),this.changeUpstreamQuerySwitch();break;case"upstream":console.log("Query Whole Upstream of Lakes."),this.changeUpstreamQuerySwitch();break;case"pointupstream":console.log("PointUpstream Query Whole Upstream of Lakes.");break;case"whole":console.log("Query Whole Basins."),this.changeUpstreamQuerySwitch()}},changeQueryBasinsLevel:function(){console.log("Query Standard Basins in level "+this.levelSelectQuery+".")},changeUpstreamQuerySwitch:function(){"pointupstream"!=this.queryType&&(this.upstreamQuerySwitch=!1)},showUploadCSVModal:function(){this.toUploadCSV=null,this.csvName="",this.uploadCSVModal=!0},cancelCSVSelect:function(){this.toUploadCSV=null,this.csvName=""},gatherCSVFile:function(t){this.toUploadCSV=t,this.csvName=t.name},uploadCSV:function(){var t=this;if(null!=this.toUploadCSV){this.$Message.success("Please wait for Data!"),this.batchStatus="basinRunning";var e=new FormData;e.append("pointsCSV",this.toUploadCSV),r()({url:"/basins/queryMultiScope/"+this.levelSelect,method:"post",data:e}).then((function(e){console.log(e.data),t.batchStatus="basinDownload",t.basinRangesUrl=e.data})).catch((function(e){confirm("Run Custom Data Error!"),t.batchStatus="basinDownload",t.basinRangesUrl=""}))}else confirm("No File has be Added.")},downloadMultiBasins:function(){confirm("Download Custom Data. Url: "+this.basinRangesUrl),window.open(this.basinRangesUrl)},downloadRangeGeoJSON:function(){var e=this.toDownloadGeoJSONStr,i=new Blob([JSON.stringify(e,null,2)],{type:"application/json"}),n=new FileReader,r="basin.geojson";n.readAsDataURL(i),n.onload=function(e){var i=document.createElement("a");i.download=r,i.href=e.target.result,t("body").append(i),i.click(),t(i).remove()}},showRunLisfloodModal:function(){this.modelStatus="modelSetting",this.paramData={rainParam:"",startParamD:"",startParamT:"",endParamD:"",endParamT:""},this.lisfloodModal=!0},dateFormat:function(t,e){var i={"M+":t.getMonth()+1,"d+":t.getDate(),"H+":t.getHours(),"m+":t.getMinutes(),"s+":t.getSeconds(),"q+":Math.floor((t.getMonth()+3)/3),S:t.getMilliseconds()};for(var n in/(y+)/.test(e)&&(e=e.replace(RegExp.$1,(t.getFullYear()+"").substr(4-RegExp.$1.length))),i)new RegExp("("+n+")").test(e)&&(e=e.replace(RegExp.$1,1==RegExp.$1.length?i[n]:("00"+i[n]).substr((""+i[n]).length)));return e},showSimulationURL:function(t,e,i){var n=L.TimeDimension.Util.explodeTimeRange(new Date(e),new Date(i),"PT30M");this.mapEl.timeDimension.setAvailableTimes(n,"replace");var r=L.tileLayer.wms(t,{layers:"Band1",format:"image/png",transparent:!0,noWarp:!0}),a=L.timeDimension.layer.wms(r);a.addTo(this.mapEl)},runLFModel:function(t){var e=this;this.$refs[t].validate((function(t){var i=e.levelSelect;if(t&&9==i){e.$Message.success("Please wait for computation!"),e.modelStatus="modelRunning";var n=e.dateFormat(e.paramData.startParamD,"yyyy-MM-dd"),a=n+"-"+e.paramData.startParamT,o=(e.dateFormat(e.paramData.endParamD,"yyyy-MM-dd"),n+"-"+e.paramData.endParamT),s=new FormData;s.append("geojsonStr",JSON.stringify(e.toDownloadGeoJSONStr)),s.append("param1",e.paramData.rainParam),s.append("param2",a),s.append("param3",o),r()({url:"/runLISFloodModel",method:"post",data:s}).then((function(t){console.log(t.data);var i=t.data,n=e.dateFormat(e.paramData.startParamD,"yyyy-MM-dd")+"T"+e.paramData.startParamT+"Z",r=e.dateFormat(e.paramData.endParamD,"yyyy-MM-dd")+"T"+e.paramData.endParamT+"Z";e.showSimulationURL(i,n,r),e.$Message.success("Show Result on Map!"),e.modelStatus="over",e.lisfloodModal=!1})).catch((function(t){confirm("Run Custom Data Error!"),e.modelStatus="over",e.lisfloodModal=!1}))}else confirm("Value Can not be Empty OR  you must select level 9.")}))},showUploadGeoJSONModal:function(){this.toUploadGeoJSON=null,this.geoJSONName="",this.uploadGeoJSONModal=!0},gatherFile:function(t){this.toUploadGeoJSON=t,this.geoJSONName=t.name},cancelGeoJSONSelect:function(){this.toUploadGeoJSON=null,this.geoJSONName=""},uploadGeoJSON:function(){var t=this;if(null!=this.toUploadGeoJSON){this.showDownloadGeoJSONBtn=!1,this.drawingLayerGroup.clearLayers();var e=new FileReader;e.readAsText(this.toUploadGeoJSON),e.onload=function(e){var i=e.target.result;t.addGeoJSONToMap(i,"blue"),t.uploadGeoJSONModal=!1}}else confirm("No File has be Added.")},showDownloadModal:function(){if(this.drawingLayerGroup.getLayers().length)switch(this.queryType){case"standard":this.downloadDataModal=!0;break;case"pointupstream":this.downloadUpatreamDataModal=!0;break}else confirm("Please Give a Scope on Map.")},downloadUpstreamDEM:function(){var t=this;this.loadingDEM=!0,a["a"].get("/downloadUpstream",{fileName:timestamp+"_elv.tif"},{responseType:"arraybuffer"}).then((function(t){var e=timestamp+"_elv.tif",i=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",e),document.body.appendChild(n),n.click()})).catch((function(e){t.$Message.error("Download Upstream DEM Failed.")})),window.setTimeout((function(){t.loadingDEM=!1,confirm("Download DEM.")}),3e3)},downloadUpstreamDir:function(){var t=this;this.loadingDir=!0,a["a"].get("/downloadUpstream",{fileName:timestamp+"_dir.tif"},{responseType:"arraybuffer"}).then((function(t){var e=timestamp+"_dir.tif",i=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",e),document.body.appendChild(n),n.click()})).catch((function(e){t.$Message.error("Download Upstream Flow Direction Failed.")})),window.setTimeout((function(){t.loadingDir=!1,confirm("Download DEM.")}),3e3)},downloadUpstreamUpa:function(){var t=this;this.loadingAcc=!0,a["a"].get("/downloadUpstream",{fileName:timestamp+"_upa.tif"},{responseType:"arraybuffer"}).then((function(t){var e=timestamp+"_upa.tif",i=window.URL.createObjectURL(new Blob([t.data])),n=document.createElement("a");n.href=i,n.setAttribute("download",e),document.body.appendChild(n),n.click()})).catch((function(e){t.$Message.error("Download Upstream Flow Accumulation Failed.")})),window.setTimeout((function(){t.loadingAcc=!1,confirm("Download DEM.")}),3e3)},downloadDEM:function(){var t=this;this.loadingDEM=!0,window.setTimeout((function(){t.loadingDEM=!1,confirm("Download DEM.")}),3e3)},downloadDir:function(){var t=this;this.loadingDir=!0,window.setTimeout((function(){t.loadingDir=!1,confirm("Download Dir.")}),3e3)},downloadAcc:function(){var t=this;this.loadingAcc=!0,window.setTimeout((function(){t.loadingDir=!1,confirm("Download Acc.")}),3e3)},downloadLake:function(){var t=this;this.loadingLake=!0,window.setTimeout((function(){t.loadingLake=!1,confirm("Download Lakes.")}),3e3)},downloadBasins:function(){var t=this,e=this.levelSelectDownload;this.loadingBasin=!0,window.setTimeout((function(){t.loadingBasin=!1,confirm("Download Basins Data in level "+e+".")}),3e3)},downloadSlopeSurface:function(){var t=this;this.loadingSlope=!0,window.setTimeout((function(){t.loadingSlope=!1,confirm("Download Slope Surface.")}),3e3)},downloadRivers:function(){var t=this;this.loadingRiver=!0,window.setTimeout((function(){t.loadingRiver=!1,confirm("Download Rivers.")}),3e3)},showResetModal:function(){this.drawingLayerGroup.getLayers().length?(this.resetStatus="resetSetting",this.resetDataModal=!0):confirm("Please Give a Scope on Map.")},runResetData:function(t){var e=this;this.$refs[t].validate((function(t){t?(e.$Message.success("Please wait for Data!"),e.resetStatus="resetRunning",console.log(e.resetData),window.setTimeout((function(){e.resetStatus="reset4Download",e.resultDataUrl="XXX"}),3e3)):confirm("Value Can not be Empty.")}))},downloadResetData:function(){confirm("Download Reset Data. Url: "+this.resultDataUrl)},showCustomDataModal:function(){this.customDataModal=!0,this.customDataSetting.demFileName="",this.customDataSetting.lakeZipName="",this.customStatus="customSetting"},gatherDEM:function(t){this.customDEMFile=t,this.customDataSetting.demFileName=t.name},cancelDEMSelect:function(){this.customDEMFile=null,this.customDataSetting.demFileName=""},gatherLakeZip:function(t){this.customLakeZip=t,this.customDataSetting.lakeZipName=t.name},cancelLakeZipSelect:function(){this.customLakeZip=null,this.customDataSetting.lakeZipName=""},runCustomData:function(t){var e=this;this.$refs[t].validate((function(t){if(t){e.$Message.success("Please wait for Data!"),e.customStatus="customRunning",console.log(e.customData);var i=new FormData;i.append("fileDEM",e.customDEMFile),i.append("fileLake",e.customLakeZip),i.append("threshold",e.customDataSetting.riverThreshold),r()({url:"/runCustomData",method:"post",data:i}).then((function(t){console.log(t.data),e.customStatus="custom4Download",e.customDataUrl=t.data})).catch((function(t){confirm("Run Custom Data Error!"),e.customStatus="custom4Download",e.customDataUrl=""}))}else confirm("Value Can not be Empty.")}))},downloadCustomData:function(){confirm("Download Custom Data. Url: "+this.customDataUrl),window.open(this.customDataUrl)},addGeoJSONToMap:function(t,e){this.drawingLayerGroup.clearLayers();var i=JSON.parse(t),n=L.geoJSON(i,{style:function(t){return{color:e,fillColor:e,fillOpacity:0}}}).bindPopup((function(t){return t.feature.properties.description}));this.loadFeatures(n),this.mapEl.fitBounds(n.getBounds())},loadFeatures:function(t){var e=this;t.eachLayer((function(t){e.drawingLayerGroup.addLayer(t)}))}}}}).call(this,i("1157"))},2444:function(t,e,i){"use strict";(function(e){var n=i("c532"),r=i("c8af"),a=i("387f"),o={"Content-Type":"application/x-www-form-urlencoded"};function s(t,e){!n.isUndefined(t)&&n.isUndefined(t["Content-Type"])&&(t["Content-Type"]=e)}function l(){var t;return("undefined"!==typeof XMLHttpRequest||"undefined"!==typeof e&&"[object process]"===Object.prototype.toString.call(e))&&(t=i("b50d")),t}function u(t,e,i){if(n.isString(t))try{return(e||JSON.parse)(t),n.trim(t)}catch(r){if("SyntaxError"!==r.name)throw r}return(i||JSON.stringify)(t)}var c={transitional:{silentJSONParsing:!0,forcedJSONParsing:!0,clarifyTimeoutError:!1},adapter:l(),transformRequest:[function(t,e){return r(e,"Accept"),r(e,"Content-Type"),n.isFormData(t)||n.isArrayBuffer(t)||n.isBuffer(t)||n.isStream(t)||n.isFile(t)||n.isBlob(t)?t:n.isArrayBufferView(t)?t.buffer:n.isURLSearchParams(t)?(s(e,"application/x-www-form-urlencoded;charset=utf-8"),t.toString()):n.isObject(t)||e&&"application/json"===e["Content-Type"]?(s(e,"application/json"),u(t)):t}],transformResponse:[function(t){var e=this.transitional||c.transitional,i=e&&e.silentJSONParsing,r=e&&e.forcedJSONParsing,o=!i&&"json"===this.responseType;if(o||r&&n.isString(t)&&t.length)try{return JSON.parse(t)}catch(s){if(o){if("SyntaxError"===s.name)throw a(s,this,"E_JSON_PARSE");throw s}}return t}],timeout:0,xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN",maxContentLength:-1,maxBodyLength:-1,validateStatus:function(t){return t>=200&&t<300},headers:{common:{Accept:"application/json, text/plain, */*"}}};n.forEach(["delete","get","head"],(function(t){c.headers[t]={}})),n.forEach(["post","put","patch"],(function(t){c.headers[t]=n.merge(o)})),t.exports=c}).call(this,i("4362"))},"25f0":function(t,e,i){"use strict";var n=i("e330"),r=i("5e77").PROPER,a=i("6eeb"),o=i("825a"),s=i("3a9b"),l=i("577e"),u=i("d039"),c=i("ad6d"),h="toString",d=RegExp.prototype,p=d[h],f=n(c),m=u((function(){return"/a/b"!=p.call({source:"a",flags:"b"})})),g=r&&p.name!=h;(m||g)&&a(RegExp.prototype,h,(function(){var t=o(this),e=l(t.source),i=t.flags,n=l(void 0===i&&s(d,t)&&!("flags"in d)?f(t):i);return"/"+e+"/"+n}),{unsafe:!0})},"280b":function(t,e,i){"use strict";i.r(e);var n=function(){var t=this,e=t.$createElement,i=t._self._c||e;return i("div",[i("div",{staticClass:"map",attrs:{id:"leafletMap"}}),i("div",{attrs:{id:"controllerDiv"}},[i("vue-scroll",{attrs:{ops:t.scrollOps,id:"controllerScroll"}},[i("Card",{staticClass:"controllerItemDiv",attrs:{bordered:!1}},[i("strong",{attrs:{slot:"title"},slot:"title"},[t._v("Data Applications")]),i("p",[t._v("Simulate Flood Status of Selected Region:")]),i("div",[i("i-button",{staticClass:"modelBtn",attrs:{disabled:!t.showDownloadGeoJSONBtn,size:"small",type:"warning",ghost:""},on:{click:t.showRunLisfloodModal}},[i("p",[t._v("Simulate Regional Flood Status")])]),i("div",{staticClass:"txtCenter"},[i("small",[t._v("(usable after being given a region)")])])],1),i("Divider",{staticClass:"divider",attrs:{size:"small"}}),i("div",{staticClass:"txtCenter"},[i("p",[t._v("Under Developing...")])])],1),i("Card",{staticClass:"controllerItemDiv",attrs:{bordered:!1}},[i("strong",{attrs:{slot:"title"},slot:"title"},[t._v("Custom Data Generation")]),i("p",[t._v("Reset the Parameters of Result Data:")]),i("div",{staticClass:"customDiv"},[i("i-button",{staticClass:"customBtn",attrs:{size:"small",type:"primary",ghost:""},on:{click:t.showResetModal}},[i("p",[t._v("Setting & Download")])]),i("div",[i("small",[t._v("(Use the Data Provided)")])])],1),i("Divider",{staticClass:"divider",attrs:{size:"small"}}),i("p",[t._v("Use Custom Data for Generation:")]),i("div",{staticClass:"customDiv"},[i("i-button",{staticClass:"customBtn",attrs:{size:"small",type:"primary",ghost:""},on:{click:t.showCustomDataModal}},[i("p",[t._v("Upload & Setting & Download")])])],1)],1),i("Card",{staticClass:"controllerItemDiv",attrs:{bordered:!1}},[i("strong",{attrs:{slot:"title"},slot:"title"},[t._v("Data Service Tools")]),i("div",{staticClass:"batchQueryDiv"},[i("span",[t._v("Batch Query Basin Scopes:")]),i("i-button",{staticClass:"uploadCSV",attrs:{size:"small",type:"primary",ghost:""},on:{click:t.showUploadCSVModal}},[i("Icon",{attrs:{type:"ios-cloud-upload",size:"15"}}),i("Icon",{attrs:{type:"ios-cloud-download",size:"15"}})],1)],1),i("span",[t._v("Query Basin Scope by Click:")]),i("i-switch",{staticClass:"clickSwitch",attrs:{size:"large"},on:{"on-change":t.changeQueryBasinBtn},model:{value:t.querySwitch,callback:function(e){t.querySwitch=e},expression:"querySwitch"}},[i("Icon",{attrs:{slot:"open",type:"md-pin",size:"20"},slot:"open"}),i("Icon",{attrs:{slot:"close",type:"md-close",size:"20"},slot:"close"})],1),i("div",{staticClass:"queryTypeDiv"},[i("Radio-group",{on:{"on-change":t.changeQueryType},model:{value:t.queryType,callback:function(e){t.queryType=e},expression:"queryType"}},[i("Radio",{staticClass:"basinLabel",attrs:{label:"standard",disabled:!t.querySwitch}},[i("span",[t._v("Standard Basins: "),i("span",[t._v("level "+t._s(t.levelSelect))])])]),i("Radio",{staticClass:"basinLabel",attrs:{label:"pointupstream",disabled:!t.querySwitch},model:{value:t.upstreamQuerySwitch,callback:function(e){t.upstreamQuerySwitch=e},expression:"upstreamQuerySwitch"}},[i("span",[t._v("Whole Upstream of Point")])]),i("div",{staticClass:"basinTypeDiv"},[i("Checkbox-group",[i("Checkbox",{attrs:{size:"small",disabled:!t.upstreamQuerySwitch},model:{value:t.upstreamDir,callback:function(e){t.upstreamDir=e},expression:"upstreamDir"}},[i("span",[t._v("Flow Direction")])]),i("br"),i("Checkbox",{attrs:{size:"small",disabled:!t.upstreamQuerySwitch},model:{value:t.upstreamUpa,callback:function(e){t.upstreamUpa=e},expression:"upstreamUpa"}},[i("span",[t._v("Upstream Area")])]),i("br"),i("Checkbox",{attrs:{size:"small",disabled:!t.upstreamQuerySwitch},model:{value:t.upstreamElv,callback:function(e){t.upstreamElv=e},expression:"upstreamElv"}},[i("span",[t._v("Elevation")])])],1)],1),i("Radio",{staticClass:"basinLabel",attrs:{label:"upstream",disabled:!t.querySwitch}},[i("span",[t._v("Whole Upstream of Lakes")])]),i("Radio",{staticClass:"basinLabel",attrs:{label:"whole",disabled:!t.querySwitch}},[i("span",[t._v("Whole Basins")])])],1)],1),i("div",[i("i-button",{attrs:{disabled:!t.showDownloadGeoJSONBtn,size:"small",type:"success",ghost:""},on:{click:t.downloadRangeGeoJSON}},[i("p",[t._v("Download Basin Boundary to GeoJSON")])])],1),i("Divider",{staticClass:"divider",attrs:{size:"small"}}),i("span",[t._v("Download Data by Geometry:")]),i("div",{staticClass:"basinTypeDiv"},[i("div",[i("span",[t._v("Upload Custom Scope:")]),i("i-button",{staticClass:"uploadGeoJSON",attrs:{size:"small",type:"primary",ghost:""},on:{click:t.showUploadGeoJSONModal}},[i("Icon",{attrs:{type:"ios-cloud-upload",size:"15"}}),i("span",[t._v("Upload")])],1)],1),i("small",[t._v("(Or Use Existing Geometry on the Map)")]),i("div",[i("span",[t._v("Select Data to Download:")]),i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.showDownloadModal}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1)],1)])],1),i("Card",{staticClass:"controllerItemDiv",attrs:{bordered:!1}},[i("strong",{attrs:{slot:"title"},slot:"title"},[t._v("Data Layers Display")]),i("Checkbox",{on:{"on-change":t.showRiverLayer},model:{value:t.riverCkb,callback:function(e){t.riverCkb=e},expression:"riverCkb"}},[t._v("Rivers Layer")]),i("Divider",{staticClass:"divider",attrs:{size:"small"}}),i("Checkbox",{on:{"on-change":t.showBasinsLayer},model:{value:t.basinCkb,callback:function(e){t.basinCkb=e},expression:"basinCkb"}},[t._v("Basins Layer")]),i("i-select",{staticClass:"basinSelecter",attrs:{size:"small",disabled:!t.basinCkb},on:{"on-change":t.changeStandardBasinsLevel},model:{value:t.levelSelect,callback:function(e){t.levelSelect=e},expression:"levelSelect"}},t._l(t.levelLayerList,(function(e){return i("i-option",{key:e.value,attrs:{value:e.value}},[t._v(t._s(e.label))])})),1),i("div",{staticClass:"basinTypeDiv"},[i("Radio-group",{on:{"on-change":t.changeBainsType},model:{value:t.basinType,callback:function(e){t.basinType=e},expression:"basinType"}},[i("Radio",{staticClass:"basinLabel",attrs:{label:"standard",disabled:!t.basinCkb}},[i("span",[t._v("Standard Basins")])]),i("Radio",{staticClass:"basinLabel",attrs:{label:"custom",disabled:!t.basinCkb}},[i("span",[t._v("Basins & Lakes")])])],1)],1),i("Divider",{staticClass:"divider",attrs:{size:"small"}}),i("Checkbox",{on:{"on-change":t.showWholeUpstreamLayer},model:{value:t.wholeUpstreamCkb,callback:function(e){t.wholeUpstreamCkb=e},expression:"wholeUpstreamCkb"}},[t._v("Whole Upstream of Lake Layer")]),i("Divider",{staticClass:"divider",attrs:{size:"small"}}),i("Checkbox",{on:{"on-change":t.showWholeBasinLayer},model:{value:t.wholeBasinCkb,callback:function(e){t.wholeBasinCkb=e},expression:"wholeBasinCkb"}},[t._v("Whole Basins Layer")])],1)],1)],1),i("Modal",{attrs:{title:"Upload CSV to Batch Query Basin Scopes",width:"600",draggable:""},model:{value:t.uploadCSVModal,callback:function(e){t.uploadCSVModal=e},expression:"uploadCSVModal"}},["csvUpload"==t.batchStatus?i("div",[i("div",{staticClass:"showGeoJSONInfoDiv"},[i("span",[t._v("Selected File:")]),i("i-input",{staticClass:"csvInfo",attrs:{readonly:"",size:"small",border:!1,placeholder:"Please select csv file..."},model:{value:t.csvName,callback:function(e){t.csvName=e},expression:"csvName"}}),""!=t.csvName?i("i-button",{staticClass:"fileBtnHoverRed",attrs:{size:"small",id:"removeCSVSelect"},on:{click:t.cancelCSVSelect}},[i("Icon",{attrs:{type:"md-close",size:"20"}})],1):t._e()],1),i("Upload",{attrs:{"max-size":1048576,type:"drag","before-upload":t.gatherCSVFile,action:"-"}},[i("div",{staticStyle:{padding:"20px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"50"}}),i("p",[t._v(" Click or Drag CSV File here to Upload. ")])],1)]),i("div",[i("span",[t._v("Selected Level: "+t._s(t.levelSelect))])])],1):"basinRunning"==t.batchStatus?i("div",[i("i-progress",{attrs:{percent:99.99,status:"active","hide-info":""}}),i("span",[t._v("Running...")])],1):"basinDownload"==t.batchStatus&&""!=t.basinRangesUrl?i("div",{staticClass:"downloadBasinsBtnDiv"},[i("i-button",{staticClass:"customOperationBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:function(e){return t.downloadMultiBasins()}}},[i("p",[t._v("Download")])]),i("i-button",{staticClass:"resetMultiBasins",attrs:{size:"small",shape:"circle",type:"primary",ghost:""},on:{click:function(e){return t.setDownloadMultiBasins()}}},[i("p",[t._v("Reset")])])],1):t._e(),"csvUpload"==t.batchStatus?i("div",{attrs:{slot:"footer"},slot:"footer"},[i("i-button",{on:{click:function(e){t.uploadCSVModal=!1}}},[t._v("Cancel")]),i("i-button",{attrs:{type:"success"},on:{click:function(e){return t.uploadCSV()}}},[t._v("Upload")])],1):i("div",{attrs:{slot:"footer"},slot:"footer"},[i("i-button",{attrs:{size:"small"},on:{click:function(e){t.uploadCSVModal=!1}}},[t._v("Close")])],1)]),i("Modal",{attrs:{title:"Simulate Regional Flood Situation by LISFlood Model",width:"500",draggable:""},model:{value:t.lisfloodModal,callback:function(e){t.lisfloodModal=e},expression:"lisfloodModal"}},[i("h3",{staticStyle:{"margin-bottom":"20px"}},[t._v("Parameters for Running:")]),i("i-form",{ref:"paramData",attrs:{model:t.paramData,"label-position":"left","label-width":100,rules:t.paramValidate}},[i("Form-item",{attrs:{label:"Precipitation:"}},[i("i-input",{attrs:{placeholder:"Precipitation (Unit: mm/hr)"},model:{value:t.paramData.rainParam,callback:function(e){t.$set(t.paramData,"rainParam",e)},expression:"paramData.rainParam"}})],1),i("Form-item",{attrs:{label:"Start time:"}},[i("Row",[i("i-col",{attrs:{span:"11"}},[i("Form-item",{attrs:{prop:"date"}},[i("Date-picker",{attrs:{type:"date",placeholder:"Select date"},model:{value:t.paramData.startParamD,callback:function(e){t.$set(t.paramData,"startParamD",e)},expression:"paramData.startParamD"}})],1)],1),i("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("-")]),i("i-col",{attrs:{span:"11"}},[i("Form-item",{attrs:{prop:"time"}},[i("Time-picker",{attrs:{type:"time",placeholder:"Select time"},model:{value:t.paramData.startParamT,callback:function(e){t.$set(t.paramData,"startParamT",e)},expression:"paramData.startParamT"}})],1)],1)],1)],1),i("Form-item",{attrs:{label:"End time:"}},[i("Row",[i("i-col",{attrs:{span:"11"}},[i("Form-item",{attrs:{prop:"date"}},[i("Date-picker",{attrs:{type:"date",placeholder:"Select date"},model:{value:t.paramData.endParamD,callback:function(e){t.$set(t.paramData,"endParamD",e)},expression:"paramData.endParamD"}})],1)],1),i("i-col",{staticStyle:{"text-align":"center"},attrs:{span:"2"}},[t._v("-")]),i("i-col",{attrs:{span:"11"}},[i("Form-item",{attrs:{prop:"time"}},[i("Time-picker",{attrs:{type:"time",placeholder:"Select time"},model:{value:t.paramData.endParamT,callback:function(e){t.$set(t.paramData,"endParamT",e)},expression:"paramData.endParamT"}})],1)],1)],1)],1)],1),i("div",{staticClass:"runStatusDiv"},["modelSetting"==t.modelStatus?i("i-button",{staticClass:"customOperationBtn",attrs:{size:"small",type:"primary",ghost:""},on:{click:function(e){return t.runLFModel("paramData")}}},[i("p",[t._v("Run")])]):"modelRunning"==t.modelStatus?i("div",[i("i-progress",{attrs:{percent:99.99,status:"active","hide-info":""}}),i("span",[t._v("Running...")])],1):t._e()],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("i-button",{attrs:{size:"small"},on:{click:function(e){t.lisfloodModal=!1}}},[t._v("Close")])],1)],1),i("Modal",{attrs:{title:"Upload GeoJSON",width:"600",draggable:""},model:{value:t.uploadGeoJSONModal,callback:function(e){t.uploadGeoJSONModal=e},expression:"uploadGeoJSONModal"}},[i("div",{staticClass:"showGeoJSONInfoDiv"},[i("span",[t._v("Selected File:")]),i("i-input",{staticClass:"geoJSONInfo",attrs:{readonly:"",size:"small",border:!1,placeholder:"Please select geojson file..."},model:{value:t.geoJSONName,callback:function(e){t.geoJSONName=e},expression:"geoJSONName"}}),""!=t.geoJSONName?i("i-button",{staticClass:"fileBtnHoverRed",attrs:{size:"small",id:"removeGeoJSONSelect"},on:{click:t.cancelGeoJSONSelect}},[i("Icon",{attrs:{type:"md-close",size:"20"}})],1):t._e()],1),i("Upload",{attrs:{"max-size":1048576,type:"drag","before-upload":t.gatherFile,action:"-"}},[i("div",{staticStyle:{padding:"20px 0"}},[i("Icon",{staticStyle:{color:"#3399ff"},attrs:{type:"ios-cloud-upload",size:"50"}}),i("p",[t._v(" Click or Drag GeoJSON File here to Upload. ")])],1)]),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("i-button",{on:{click:function(e){t.uploadGeoJSONModal=!1}}},[t._v("Cancel")]),i("i-button",{attrs:{type:"success"},on:{click:function(e){return t.uploadGeoJSON()}}},[t._v("Upload")])],1)],1),i("Modal",{attrs:{title:"Select Data to Download",width:"1000",draggable:""},model:{value:t.downloadDataModal,callback:function(e){t.downloadDataModal=e},expression:"downloadDataModal"}},[i("h4",[t._v("Basic Data:")]),i("div",{staticClass:"selectDataDiv"},[i("span",[t._v("Hydrologically Adjusted Elevations")]),t.loadingDEM?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadDEM}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Adjusted elevation is reprepared in 4-byte float (float32). The elevations are adjusted to satisfy the condition 'downstream is not higher than its upstream' while minimizing the required modifications from the original DEM. The elevation above EGM96 geoid is represented in meter, and the vertical increment is set to 10cm. The undefined pixels (oceans) are represented by the value -9999.")]),i("br"),i("span",[t._v("Flow Direction")]),t.loadingDir?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadDir}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Flow direction is prepared in 1-byte SIGNED integer (int8). The flow direction is represented as follows. 1: east, 2: southeast, 4: south, 8: southwest, 16: west, 32: northwest, 64: north. 128: northeast 0: river mouth, -1: inland depression, -9: undefined (ocean) NOTE: If a flow direction file is opened as UNSIGNED integer, undefined=247 and inland depression=255.")]),i("br"),i("span",[t._v("Upstream Drainage Area (Flow Accumulation Area)")]),t.loadingAcc?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadAcc}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Drainage area is reprepared in 4-byte float (float32). The drainage area is represented in km2. The undefined pixels (oceans) are represented by the value -9999.")]),i("br"),i("span",[t._v("Lakes (Cite HydroLAKES)")]),t.loadingLake?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadLake}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Lakes are in a database aiming to provide the shoreline polygons of all global lakes with a surface area of at least 10 ha.")])],1),i("h4",[t._v("Product Data:")]),i("div",{staticClass:"selectDataDiv"},[i("span",[t._v("Standard Basins: "),i("span",[t._v("level "+t._s(t.levelSelect))])]),t.loadingBasin?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadBasins}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Basins in Pfafstetter Code System (From level 1 to level 12). A basin is divided into two sub-basins at every location where two river branches meet which each have an individual upstream area of at least 100 km2. ")]),i("br"),i("span",[t._v("Slope Surface")]),t.loadingSlope?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadSlopeSurface}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("The slope surface region on which water flow directly into ​​the lake/reservoir after runoff. In this database, the upstream area of slope surface region is less than 100km2.")]),i("br"),i("span",[t._v("Rivers")]),t.loadingRiver?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadRivers}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("The rivers are definited by threshold from the database of Upstream Drainage Area (Flow Accumulation Area). In this result database, the upstream area of rivers is less than 100km2. The rivers are represented by the value 1.")])],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("i-button",{attrs:{size:"small"},on:{click:function(e){t.downloadDataModal=!1}}},[t._v("Close")])],1)]),i("Modal",{attrs:{title:"Select Data to Download",width:"1000",draggable:""},model:{value:t.downloadUpatreamDataModal,callback:function(e){t.downloadUpatreamDataModal=e},expression:"downloadUpatreamDataModal"}},[i("h4",[t._v("Basic Data of Upstream Basin:")]),i("div",{staticClass:"selectDataDiv"},[i("span",[t._v("Boundary of Upstream Basin")]),t.loadingDEM?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadDEM}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Adjusted elevation is reprepared in 4-byte float (float32). The elevations are adjusted to satisfy the condition 'downstream is not higher than its upstream' while minimizing the required modifications from the original DEM. The elevation above EGM96 geoid is represented in meter, and the vertical increment is set to 10cm. The undefined pixels (oceans) are represented by the value -9999.")]),i("br"),i("span",[t._v("Elevations of Upstream Basin")]),t.loadingDEM?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadDEM}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Adjusted elevation is reprepared in 4-byte float (float32). The elevations are adjusted to satisfy the condition 'downstream is not higher than its upstream' while minimizing the required modifications from the original DEM. The elevation above EGM96 geoid is represented in meter, and the vertical increment is set to 10cm. The undefined pixels (oceans) are represented by the value -9999.")]),i("br"),i("span",[t._v("Flow Direction of Upstream Basin")]),t.loadingDir?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadDir}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Flow direction is prepared in 1-byte SIGNED integer (int8). The flow direction is represented as follows. 1: east, 2: southeast, 4: south, 8: southwest, 16: west, 32: northwest, 64: north. 128: northeast 0: river mouth, -1: inland depression, -9: undefined (ocean) NOTE: If a flow direction file is opened as UNSIGNED integer, undefined=247 and inland depression=255.")]),i("br"),i("span",[t._v("Flow Accumulation Area of Upstream Basin")]),t.loadingAcc?i("i-button",{attrs:{loading:"",shape:"circle",type:"success",ghost:"",size:"small"}}):i("i-button",{staticClass:"downloadBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:t.downloadAcc}},[i("Icon",{attrs:{type:"md-download",size:"20"}})],1),i("br"),i("Tag",{staticClass:"dataTag",attrs:{color:"cyan"}},[t._v("Drainage area is reprepared in 4-byte float (float32). The drainage area is represented in km2. The undefined pixels (oceans) are represented by the value -9999.")]),i("br")],1)]),i("Modal",{attrs:{title:"Reset the Parameters of Result Data",width:"450",draggable:""},model:{value:t.resetDataModal,callback:function(e){t.resetDataModal=e},expression:"resetDataModal"}},[i("i-form",{ref:"resetData",attrs:{model:t.resetData,"label-position":"top",rules:t.resetValidate}},[i("Form-item",{attrs:{label:"River Definition Threshold (Minimal Upstream Area, Unit: km2)"}},[i("i-input",{model:{value:t.resetData.riverThreshold,callback:function(e){t.$set(t.resetData,"riverThreshold",e)},expression:"resetData.riverThreshold"}})],1),i("Form-item",{attrs:{label:"Minimal Area of Lakes (Unit: km2)"}},[i("i-input",{model:{value:t.resetData.lakeThreshold,callback:function(e){t.$set(t.resetData,"lakeThreshold",e)},expression:"resetData.lakeThreshold"}})],1)],1),i("div",{staticClass:"runStatusDiv"},["resetSetting"==t.resetStatus?i("i-button",{staticClass:"resetOperationBtn",attrs:{size:"small",type:"primary",ghost:""},on:{click:function(e){return t.runResetData("resetData")}}},[i("p",[t._v("Run")])]):"resetRunning"==t.resetStatus?i("div",[i("i-progress",{attrs:{percent:99.99,status:"active","hide-info":""}}),i("span",[t._v("Running...")])],1):"reset4Download"==t.resetStatus?i("i-button",{staticClass:"resetOperationBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:function(e){return t.downloadResetData()}}},[i("p",[t._v("Download")])]):t._e()],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("i-button",{attrs:{size:"small"},on:{click:function(e){t.resetDataModal=!1}}},[t._v("Close")])],1)],1),i("Modal",{attrs:{title:"Use Custom Data for Generation",width:"450",draggable:""},model:{value:t.customDataModal,callback:function(e){t.customDataModal=e},expression:"customDataModal"}},[i("i-form",{ref:"customDataSetting",attrs:{model:t.customDataSetting,"label-position":"top",rules:t.customValidate}},[i("Form-item",{attrs:{label:"DEM (Digital Elevation Model)"}},[i("i-input",{staticClass:"customFileInput",model:{value:t.customDataSetting.demFileName,callback:function(e){t.$set(t.customDataSetting,"demFileName",e)},expression:"customDataSetting.demFileName"}}),""==t.customDataSetting.demFileName?i("Upload",{staticClass:"customUploadBtn",attrs:{"before-upload":t.gatherDEM,action:"-"}},[i("i-button",{attrs:{icon:"md-cloud-upload",type:"primary",ghost:""}},[t._v("Select File")])],1):i("i-button",{staticClass:"fileBtnHoverRed",attrs:{id:"removeCustomSelect"},on:{click:t.cancelDEMSelect}},[i("Icon",{attrs:{type:"md-close",size:"20"}})],1)],1),i("Form-item",{attrs:{label:"Lakes (format: ESRI Shapefile in Zip file)"}},[i("i-input",{staticClass:"customFileInput",model:{value:t.customDataSetting.lakeZipName,callback:function(e){t.$set(t.customDataSetting,"lakeZipName",e)},expression:"customDataSetting.lakeZipName"}}),""==t.customDataSetting.lakeZipName?i("Upload",{staticClass:"customUploadBtn",attrs:{"before-upload":t.gatherLakeZip,action:"-"}},[i("i-button",{attrs:{icon:"md-cloud-upload",type:"primary",ghost:""}},[t._v("Select File")])],1):i("i-button",{staticClass:"fileBtnHoverRed",attrs:{id:"removeCustomSelect"},on:{click:t.cancelLakeZipSelect}},[i("Icon",{attrs:{type:"md-close",size:"20"}})],1)],1),i("Form-item",{attrs:{label:"River Definition Threshold (Minimal Upstream Area, Unit: km2)"}},[i("i-input",{model:{value:t.customDataSetting.riverThreshold,callback:function(e){t.$set(t.customDataSetting,"riverThreshold",e)},expression:"customDataSetting.riverThreshold"}})],1),i("Form-item",{attrs:{label:"Minimal Area of Lakes (Unit: km2)"}},[i("i-input",{model:{value:t.customDataSetting.lakeThreshold,callback:function(e){t.$set(t.customDataSetting,"lakeThreshold",e)},expression:"customDataSetting.lakeThreshold"}})],1)],1),i("div",{staticClass:"runStatusDiv"},["customSetting"==t.customStatus?i("i-button",{staticClass:"customOperationBtn",attrs:{size:"small",type:"primary",ghost:""},on:{click:function(e){return t.runCustomData("customDataSetting")}}},[i("p",[t._v("Run")])]):"customRunning"==t.customStatus?i("div",[i("i-progress",{attrs:{percent:99.99,status:"active","hide-info":""}}),i("span",[t._v("Running...")])],1):"custom4Download"==t.customStatus?i("i-button",{staticClass:"customOperationBtn",attrs:{size:"small",type:"success",ghost:""},on:{click:function(e){return t.downloadCustomData()}}},[i("p",[t._v("Download")])]):t._e()],1),i("div",{attrs:{slot:"footer"},slot:"footer"},[i("i-button",{attrs:{size:"small"},on:{click:function(e){t.customDataModal=!1}}},[t._v("Close")])],1)],1)],1)},r=[],a=i("243d"),o=a["a"],s=(i("be62"),i("2877")),l=Object(s["a"])(o,n,r,!1,null,"0579064e",null);e["default"]=l.exports},"2b3d":function(t,e,i){"use strict";i("3ca3");var n,r=i("23e7"),a=i("83ab"),o=i("0d3b"),s=i("da84"),l=i("0366"),u=i("e330"),c=i("37e8"),h=i("6eeb"),d=i("19aa"),p=i("1a2d"),f=i("60da"),m=i("4df4"),g=i("4dae"),y=i("6547").codeAt,_=i("5fb2"),v=i("577e"),b=i("d44e"),L=i("9861"),w=i("69f3"),k=w.set,D=w.getterFor("URL"),S=L.URLSearchParams,T=L.getState,M=s.URL,x=s.TypeError,C=s.parseInt,P=Math.floor,E=Math.pow,R=u("".charAt),O=u(/./.exec),I=u([].join),U=u(1..toString),B=u([].pop),N=u([].push),A=u("".replace),j=u([].shift),F=u("".split),G=u("".slice),z=u("".toLowerCase),q=u([].unshift),V="Invalid authority",H="Invalid scheme",J="Invalid host",$="Invalid port",Z=/[a-z]/i,W=/[\d+-.a-z]/i,Q=/\d/,K=/^0x/i,X=/^[0-7]+$/,Y=/^\d+$/,tt=/^[\da-f]+$/i,et=/[\0\t\n\r #%/:<>?@[\\\]^|]/,it=/[\0\t\n\r #/:<>?@[\\\]^|]/,nt=/^[\u0000-\u0020]+|[\u0000-\u0020]+$/g,rt=/[\t\n\r]/g,at=function(t){var e,i,n,r,a,o,s,l=F(t,".");if(l.length&&""==l[l.length-1]&&l.length--,e=l.length,e>4)return t;for(i=[],n=0;n<e;n++){if(r=l[n],""==r)return t;if(a=10,r.length>1&&"0"==R(r,0)&&(a=O(K,r)?16:8,r=G(r,8==a?1:2)),""===r)o=0;else{if(!O(10==a?Y:8==a?X:tt,r))return t;o=C(r,a)}N(i,o)}for(n=0;n<e;n++)if(o=i[n],n==e-1){if(o>=E(256,5-e))return null}else if(o>255)return null;for(s=B(i),n=0;n<i.length;n++)s+=i[n]*E(256,3-n);return s},ot=function(t){var e,i,n,r,a,o,s,l=[0,0,0,0,0,0,0,0],u=0,c=null,h=0,d=function(){return R(t,h)};if(":"==d()){if(":"!=R(t,1))return;h+=2,u++,c=u}while(d()){if(8==u)return;if(":"!=d()){e=i=0;while(i<4&&O(tt,d()))e=16*e+C(d(),16),h++,i++;if("."==d()){if(0==i)return;if(h-=i,u>6)return;n=0;while(d()){if(r=null,n>0){if(!("."==d()&&n<4))return;h++}if(!O(Q,d()))return;while(O(Q,d())){if(a=C(d(),10),null===r)r=a;else{if(0==r)return;r=10*r+a}if(r>255)return;h++}l[u]=256*l[u]+r,n++,2!=n&&4!=n||u++}if(4!=n)return;break}if(":"==d()){if(h++,!d())return}else if(d())return;l[u++]=e}else{if(null!==c)return;h++,u++,c=u}}if(null!==c){o=u-c,u=7;while(0!=u&&o>0)s=l[u],l[u--]=l[c+o-1],l[c+--o]=s}else if(8!=u)return;return l},st=function(t){for(var e=null,i=1,n=null,r=0,a=0;a<8;a++)0!==t[a]?(r>i&&(e=n,i=r),n=null,r=0):(null===n&&(n=a),++r);return r>i&&(e=n,i=r),e},lt=function(t){var e,i,n,r;if("number"==typeof t){for(e=[],i=0;i<4;i++)q(e,t%256),t=P(t/256);return I(e,".")}if("object"==typeof t){for(e="",n=st(t),i=0;i<8;i++)r&&0===t[i]||(r&&(r=!1),n===i?(e+=i?":":"::",r=!0):(e+=U(t[i],16),i<7&&(e+=":")));return"["+e+"]"}return t},ut={},ct=f({},ut,{" ":1,'"':1,"<":1,">":1,"`":1}),ht=f({},ct,{"#":1,"?":1,"{":1,"}":1}),dt=f({},ht,{"/":1,":":1,";":1,"=":1,"@":1,"[":1,"\\":1,"]":1,"^":1,"|":1}),pt=function(t,e){var i=y(t,0);return i>32&&i<127&&!p(e,t)?t:encodeURIComponent(t)},ft={ftp:21,file:null,http:80,https:443,ws:80,wss:443},mt=function(t,e){var i;return 2==t.length&&O(Z,R(t,0))&&(":"==(i=R(t,1))||!e&&"|"==i)},gt=function(t){var e;return t.length>1&&mt(G(t,0,2))&&(2==t.length||"/"===(e=R(t,2))||"\\"===e||"?"===e||"#"===e)},yt=function(t){return"."===t||"%2e"===z(t)},_t=function(t){return t=z(t),".."===t||"%2e."===t||".%2e"===t||"%2e%2e"===t},vt={},bt={},Lt={},wt={},kt={},Dt={},St={},Tt={},Mt={},xt={},Ct={},Pt={},Et={},Rt={},Ot={},It={},Ut={},Bt={},Nt={},At={},jt={},Ft=function(t,e,i){var n,r,a,o=v(t);if(e){if(r=this.parse(o),r)throw x(r);this.searchParams=null}else{if(void 0!==i&&(n=new Ft(i,!0)),r=this.parse(o,null,n),r)throw x(r);a=T(new S),a.bindURL(this),this.searchParams=a}};Ft.prototype={type:"URL",parse:function(t,e,i){var r,a,o,s,l=this,u=e||vt,c=0,h="",d=!1,f=!1,y=!1;t=v(t),e||(l.scheme="",l.username="",l.password="",l.host=null,l.port=null,l.path=[],l.query=null,l.fragment=null,l.cannotBeABaseURL=!1,t=A(t,nt,"")),t=A(t,rt,""),r=m(t);while(c<=r.length){switch(a=r[c],u){case vt:if(!a||!O(Z,a)){if(e)return H;u=Lt;continue}h+=z(a),u=bt;break;case bt:if(a&&(O(W,a)||"+"==a||"-"==a||"."==a))h+=z(a);else{if(":"!=a){if(e)return H;h="",u=Lt,c=0;continue}if(e&&(l.isSpecial()!=p(ft,h)||"file"==h&&(l.includesCredentials()||null!==l.port)||"file"==l.scheme&&!l.host))return;if(l.scheme=h,e)return void(l.isSpecial()&&ft[l.scheme]==l.port&&(l.port=null));h="","file"==l.scheme?u=Rt:l.isSpecial()&&i&&i.scheme==l.scheme?u=wt:l.isSpecial()?u=Tt:"/"==r[c+1]?(u=kt,c++):(l.cannotBeABaseURL=!0,N(l.path,""),u=Nt)}break;case Lt:if(!i||i.cannotBeABaseURL&&"#"!=a)return H;if(i.cannotBeABaseURL&&"#"==a){l.scheme=i.scheme,l.path=g(i.path),l.query=i.query,l.fragment="",l.cannotBeABaseURL=!0,u=jt;break}u="file"==i.scheme?Rt:Dt;continue;case wt:if("/"!=a||"/"!=r[c+1]){u=Dt;continue}u=Mt,c++;break;case kt:if("/"==a){u=xt;break}u=Bt;continue;case Dt:if(l.scheme=i.scheme,a==n)l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=g(i.path),l.query=i.query;else if("/"==a||"\\"==a&&l.isSpecial())u=St;else if("?"==a)l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=g(i.path),l.query="",u=At;else{if("#"!=a){l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=g(i.path),l.path.length--,u=Bt;continue}l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,l.path=g(i.path),l.query=i.query,l.fragment="",u=jt}break;case St:if(!l.isSpecial()||"/"!=a&&"\\"!=a){if("/"!=a){l.username=i.username,l.password=i.password,l.host=i.host,l.port=i.port,u=Bt;continue}u=xt}else u=Mt;break;case Tt:if(u=Mt,"/"!=a||"/"!=R(h,c+1))continue;c++;break;case Mt:if("/"!=a&&"\\"!=a){u=xt;continue}break;case xt:if("@"==a){d&&(h="%40"+h),d=!0,o=m(h);for(var _=0;_<o.length;_++){var b=o[_];if(":"!=b||y){var L=pt(b,dt);y?l.password+=L:l.username+=L}else y=!0}h=""}else if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(d&&""==h)return V;c-=m(h).length+1,h="",u=Ct}else h+=a;break;case Ct:case Pt:if(e&&"file"==l.scheme){u=It;continue}if(":"!=a||f){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()){if(l.isSpecial()&&""==h)return J;if(e&&""==h&&(l.includesCredentials()||null!==l.port))return;if(s=l.parseHost(h),s)return s;if(h="",u=Ut,e)return;continue}"["==a?f=!0:"]"==a&&(f=!1),h+=a}else{if(""==h)return J;if(s=l.parseHost(h),s)return s;if(h="",u=Et,e==Pt)return}break;case Et:if(!O(Q,a)){if(a==n||"/"==a||"?"==a||"#"==a||"\\"==a&&l.isSpecial()||e){if(""!=h){var w=C(h,10);if(w>65535)return $;l.port=l.isSpecial()&&w===ft[l.scheme]?null:w,h=""}if(e)return;u=Ut;continue}return $}h+=a;break;case Rt:if(l.scheme="file","/"==a||"\\"==a)u=Ot;else{if(!i||"file"!=i.scheme){u=Bt;continue}if(a==n)l.host=i.host,l.path=g(i.path),l.query=i.query;else if("?"==a)l.host=i.host,l.path=g(i.path),l.query="",u=At;else{if("#"!=a){gt(I(g(r,c),""))||(l.host=i.host,l.path=g(i.path),l.shortenPath()),u=Bt;continue}l.host=i.host,l.path=g(i.path),l.query=i.query,l.fragment="",u=jt}}break;case Ot:if("/"==a||"\\"==a){u=It;break}i&&"file"==i.scheme&&!gt(I(g(r,c),""))&&(mt(i.path[0],!0)?N(l.path,i.path[0]):l.host=i.host),u=Bt;continue;case It:if(a==n||"/"==a||"\\"==a||"?"==a||"#"==a){if(!e&&mt(h))u=Bt;else if(""==h){if(l.host="",e)return;u=Ut}else{if(s=l.parseHost(h),s)return s;if("localhost"==l.host&&(l.host=""),e)return;h="",u=Ut}continue}h+=a;break;case Ut:if(l.isSpecial()){if(u=Bt,"/"!=a&&"\\"!=a)continue}else if(e||"?"!=a)if(e||"#"!=a){if(a!=n&&(u=Bt,"/"!=a))continue}else l.fragment="",u=jt;else l.query="",u=At;break;case Bt:if(a==n||"/"==a||"\\"==a&&l.isSpecial()||!e&&("?"==a||"#"==a)){if(_t(h)?(l.shortenPath(),"/"==a||"\\"==a&&l.isSpecial()||N(l.path,"")):yt(h)?"/"==a||"\\"==a&&l.isSpecial()||N(l.path,""):("file"==l.scheme&&!l.path.length&&mt(h)&&(l.host&&(l.host=""),h=R(h,0)+":"),N(l.path,h)),h="","file"==l.scheme&&(a==n||"?"==a||"#"==a))while(l.path.length>1&&""===l.path[0])j(l.path);"?"==a?(l.query="",u=At):"#"==a&&(l.fragment="",u=jt)}else h+=pt(a,ht);break;case Nt:"?"==a?(l.query="",u=At):"#"==a?(l.fragment="",u=jt):a!=n&&(l.path[0]+=pt(a,ut));break;case At:e||"#"!=a?a!=n&&("'"==a&&l.isSpecial()?l.query+="%27":l.query+="#"==a?"%23":pt(a,ut)):(l.fragment="",u=jt);break;case jt:a!=n&&(l.fragment+=pt(a,ct));break}c++}},parseHost:function(t){var e,i,n;if("["==R(t,0)){if("]"!=R(t,t.length-1))return J;if(e=ot(G(t,1,-1)),!e)return J;this.host=e}else if(this.isSpecial()){if(t=_(t),O(et,t))return J;if(e=at(t),null===e)return J;this.host=e}else{if(O(it,t))return J;for(e="",i=m(t),n=0;n<i.length;n++)e+=pt(i[n],ut);this.host=e}},cannotHaveUsernamePasswordPort:function(){return!this.host||this.cannotBeABaseURL||"file"==this.scheme},includesCredentials:function(){return""!=this.username||""!=this.password},isSpecial:function(){return p(ft,this.scheme)},shortenPath:function(){var t=this.path,e=t.length;!e||"file"==this.scheme&&1==e&&mt(t[0],!0)||t.length--},serialize:function(){var t=this,e=t.scheme,i=t.username,n=t.password,r=t.host,a=t.port,o=t.path,s=t.query,l=t.fragment,u=e+":";return null!==r?(u+="//",t.includesCredentials()&&(u+=i+(n?":"+n:"")+"@"),u+=lt(r),null!==a&&(u+=":"+a)):"file"==e&&(u+="//"),u+=t.cannotBeABaseURL?o[0]:o.length?"/"+I(o,"/"):"",null!==s&&(u+="?"+s),null!==l&&(u+="#"+l),u},setHref:function(t){var e=this.parse(t);if(e)throw x(e);this.searchParams.update()},getOrigin:function(){var t=this.scheme,e=this.port;if("blob"==t)try{return new Gt(t.path[0]).origin}catch(i){return"null"}return"file"!=t&&this.isSpecial()?t+"://"+lt(this.host)+(null!==e?":"+e:""):"null"},getProtocol:function(){return this.scheme+":"},setProtocol:function(t){this.parse(v(t)+":",vt)},getUsername:function(){return this.username},setUsername:function(t){var e=m(v(t));if(!this.cannotHaveUsernamePasswordPort()){this.username="";for(var i=0;i<e.length;i++)this.username+=pt(e[i],dt)}},getPassword:function(){return this.password},setPassword:function(t){var e=m(v(t));if(!this.cannotHaveUsernamePasswordPort()){this.password="";for(var i=0;i<e.length;i++)this.password+=pt(e[i],dt)}},getHost:function(){var t=this.host,e=this.port;return null===t?"":null===e?lt(t):lt(t)+":"+e},setHost:function(t){this.cannotBeABaseURL||this.parse(t,Ct)},getHostname:function(){var t=this.host;return null===t?"":lt(t)},setHostname:function(t){this.cannotBeABaseURL||this.parse(t,Pt)},getPort:function(){var t=this.port;return null===t?"":v(t)},setPort:function(t){this.cannotHaveUsernamePasswordPort()||(t=v(t),""==t?this.port=null:this.parse(t,Et))},getPathname:function(){var t=this.path;return this.cannotBeABaseURL?t[0]:t.length?"/"+I(t,"/"):""},setPathname:function(t){this.cannotBeABaseURL||(this.path=[],this.parse(t,Ut))},getSearch:function(){var t=this.query;return t?"?"+t:""},setSearch:function(t){t=v(t),""==t?this.query=null:("?"==R(t,0)&&(t=G(t,1)),this.query="",this.parse(t,At)),this.searchParams.update()},getSearchParams:function(){return this.searchParams.facade},getHash:function(){var t=this.fragment;return t?"#"+t:""},setHash:function(t){t=v(t),""!=t?("#"==R(t,0)&&(t=G(t,1)),this.fragment="",this.parse(t,jt)):this.fragment=null},update:function(){this.query=this.searchParams.serialize()||null}};var Gt=function(t){var e=d(this,zt),i=arguments.length>1?arguments[1]:void 0,n=k(e,new Ft(t,!1,i));a||(e.href=n.serialize(),e.origin=n.getOrigin(),e.protocol=n.getProtocol(),e.username=n.getUsername(),e.password=n.getPassword(),e.host=n.getHost(),e.hostname=n.getHostname(),e.port=n.getPort(),e.pathname=n.getPathname(),e.search=n.getSearch(),e.searchParams=n.getSearchParams(),e.hash=n.getHash())},zt=Gt.prototype,qt=function(t,e){return{get:function(){return D(this)[t]()},set:e&&function(t){return D(this)[e](t)},configurable:!0,enumerable:!0}};if(a&&c(zt,{href:qt("serialize","setHref"),origin:qt("getOrigin"),protocol:qt("getProtocol","setProtocol"),username:qt("getUsername","setUsername"),password:qt("getPassword","setPassword"),host:qt("getHost","setHost"),hostname:qt("getHostname","setHostname"),port:qt("getPort","setPort"),pathname:qt("getPathname","setPathname"),search:qt("getSearch","setSearch"),searchParams:qt("getSearchParams"),hash:qt("getHash","setHash")}),h(zt,"toJSON",(function(){return D(this).serialize()}),{enumerable:!0}),h(zt,"toString",(function(){return D(this).serialize()}),{enumerable:!0}),M){var Vt=M.createObjectURL,Ht=M.revokeObjectURL;Vt&&h(Gt,"createObjectURL",l(Vt,M)),Ht&&h(Gt,"revokeObjectURL",l(Ht,M))}b(Gt,"URL"),r({global:!0,forced:!o,sham:!a},{URL:Gt})},"2c3e":function(t,e,i){var n=i("da84"),r=i("83ab"),a=i("9f7f").MISSED_STICKY,o=i("c6b6"),s=i("9bf2").f,l=i("69f3").get,u=RegExp.prototype,c=n.TypeError;r&&a&&s(u,"sticky",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!l(this).sticky;throw c("Incompatible receiver, RegExp required")}}})},"2d83":function(t,e,i){"use strict";var n=i("387f");t.exports=function(t,e,i,r,a){var o=new Error(t);return n(o,e,i,r,a)}},"2e67":function(t,e,i){"use strict";t.exports=function(t){return!(!t||!t.__CANCEL__)}},"30b5":function(t,e,i){"use strict";var n=i("c532");function r(t){return encodeURIComponent(t).replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,"+").replace(/%5B/gi,"[").replace(/%5D/gi,"]")}t.exports=function(t,e,i){if(!e)return t;var a;if(i)a=i(e);else if(n.isURLSearchParams(e))a=e.toString();else{var o=[];n.forEach(e,(function(t,e){null!==t&&"undefined"!==typeof t&&(n.isArray(t)?e+="[]":t=[t],n.forEach(t,(function(t){n.isDate(t)?t=t.toISOString():n.isObject(t)&&(t=JSON.stringify(t)),o.push(r(e)+"="+r(t))})))})),a=o.join("&")}if(a){var s=t.indexOf("#");-1!==s&&(t=t.slice(0,s)),t+=(-1===t.indexOf("?")?"?":"&")+a}return t}},"33d1":function(t,e,i){"use strict";var n=i("23e7"),r=i("7b0b"),a=i("07fa"),o=i("5926"),s=i("44d2");n({target:"Array",proto:!0},{at:function(t){var e=r(this),i=a(e),n=o(t),s=n>=0?n:i+n;return s<0||s>=i?void 0:e[s]}}),s("at")},3410:function(t,e,i){var n=i("23e7"),r=i("d039"),a=i("7b0b"),o=i("e163"),s=i("e177"),l=r((function(){o(1)}));n({target:"Object",stat:!0,forced:l,sham:!s},{getPrototypeOf:function(t){return o(a(t))}})},"34a0":function(t,e,i){var n=i("7037").default;i("d3b7"),i("159b"),i("a15b"),i("ac1f"),i("00b4"),i("d81d"),i("c740"),i("a434"),i("4de4"),i("99af"),i("5319"),i("7db0"),i("ddb0"),i("33d1"),i("ea98"),i("b64b"),i("e9c4"),i("caad"),i("fb6a"),i("25f0"),i("4d63"),i("c607"),i("2c3e"),i("d28b"),i("3ca3"),i("a4d3"),i("e01a"),function(t){var e={};function i(n){if(e[n])return e[n].exports;var r=e[n]={i:n,l:!1,exports:{}};return t[n].call(r.exports,r,r.exports,i),r.l=!0,r.exports}i.m=t,i.c=e,i.d=function(t,e,n){i.o(t,e)||Object.defineProperty(t,e,{configurable:!1,enumerable:!0,get:n})},i.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return i.d(e,"a",e),e},i.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},i.p="",i(i.s=19)}([function(t,e,i){"use strict";var n=i(10),r=L.Class.extend({includes:[n.a],options:{snappable:!0,snapDistance:20,tooltips:!0,cursorMarker:!0,finishOnDoubleClick:!1,finishOn:null,allowSelfIntersection:!0,templineStyle:{},hintlineStyle:{color:"#3388ff",dashArray:"5,5"},markerStyle:{draggable:!0}},initialize:function(t){var e=this;this._map=t,this.shapes=["Marker","Line","Poly","Rectangle","Circle","Cut"],this.shapes.forEach((function(t){e[t]=new L.PM.Draw[t](e._map)}))},setPathOptions:function(t){this.options.pathOptions=t},getShapes:function(){return this.shapes},enable:function(t,e){if(!t)throw new Error("Error: Please pass a shape as a parameter. Possible shapes are: ".concat(this.getShapes().join(",")));this.disable(),this[t].enable(e)},disable:function(){var t=this;this.shapes.forEach((function(e){t[e].disable()}))},addControls:function(){var t=this;this.shapes.forEach((function(e){t[e].addButton()}))}});e.a=r},function(t,e,i){"use strict";var n=i(10),r=i(35),a=L.Class.extend({includes:[r.a,n.a],options:{snappable:!0,snapDistance:20,allowSelfIntersection:!0,draggable:!0},isPolygon:function(){return this._layer instanceof L.Polygon}});e.a=a},function(t,e,i){"use strict";function r(t,e,i){void 0===i&&(i={});var n={type:"Feature"};return(0===i.id||i.id)&&(n.id=i.id),i.bbox&&(n.bbox=i.bbox),n.properties=e||{},n.geometry=t,n}function a(t,e,i){return void 0===i&&(i={}),r({type:"Point",coordinates:t},e,i)}function o(t,e,i){void 0===i&&(i={});for(var n=0,a=t;n<a.length;n++){var o=a[n];if(o.length<4)throw new Error("Each LinearRing of a Polygon must have 4 or more Positions.");for(var s=0;s<o[o.length-1].length;s++)if(o[o.length-1][s]!==o[0][s])throw new Error("First and last Position are not equivalent.")}return r({type:"Polygon",coordinates:t},e,i)}function s(t,e,i){if(void 0===i&&(i={}),t.length<2)throw new Error("coordinates must be an array of two or more positions");return r({type:"LineString",coordinates:t},e,i)}function l(t,e){void 0===e&&(e={});var i={type:"FeatureCollection"};return e.id&&(i.id=e.id),e.bbox&&(i.bbox=e.bbox),i.features=t,i}function u(t,e,i){return void 0===i&&(i={}),r({type:"MultiLineString",coordinates:t},e,i)}function c(t,e,i){return void 0===i&&(i={}),r({type:"MultiPoint",coordinates:t},e,i)}function h(t,e,i){return void 0===i&&(i={}),r({type:"MultiPolygon",coordinates:t},e,i)}function d(t,i){void 0===i&&(i="kilometers");var n=e.factors[i];if(!n)throw new Error(i+" units is invalid");return t*n}function p(t,i){void 0===i&&(i="kilometers");var n=e.factors[i];if(!n)throw new Error(i+" units is invalid");return t/n}function f(t){return t%(2*Math.PI)*180/Math.PI}function m(t){return!isNaN(t)&&null!==t&&!Array.isArray(t)&&!/^\s*$/.test(t)}Object.defineProperty(e,"__esModule",{value:!0}),e.earthRadius=6371008.8,e.factors={centimeters:100*e.earthRadius,centimetres:100*e.earthRadius,degrees:e.earthRadius/111325,feet:3.28084*e.earthRadius,inches:39.37*e.earthRadius,kilometers:e.earthRadius/1e3,kilometres:e.earthRadius/1e3,meters:e.earthRadius,metres:e.earthRadius,miles:e.earthRadius/1609.344,millimeters:1e3*e.earthRadius,millimetres:1e3*e.earthRadius,nauticalmiles:e.earthRadius/1852,radians:1,yards:e.earthRadius/1.0936},e.unitsFactors={centimeters:100,centimetres:100,degrees:1/111325,feet:3.28084,inches:39.37,kilometers:.001,kilometres:.001,meters:1,metres:1,miles:1/1609.344,millimeters:1e3,millimetres:1e3,nauticalmiles:1/1852,radians:1/e.earthRadius,yards:1/1.0936},e.areaFactors={acres:247105e-9,centimeters:1e4,centimetres:1e4,feet:10.763910417,inches:1550.003100006,kilometers:1e-6,kilometres:1e-6,meters:1,metres:1,miles:386e-9,millimeters:1e6,millimetres:1e6,yards:1.195990046},e.feature=r,e.geometry=function(t,e,i){switch(void 0===i&&(i={}),t){case"Point":return a(e).geometry;case"LineString":return s(e).geometry;case"Polygon":return o(e).geometry;case"MultiPoint":return c(e).geometry;case"MultiLineString":return u(e).geometry;case"MultiPolygon":return h(e).geometry;default:throw new Error(t+" is invalid")}},e.point=a,e.points=function(t,e,i){return void 0===i&&(i={}),l(t.map((function(t){return a(t,e)})),i)},e.polygon=o,e.polygons=function(t,e,i){return void 0===i&&(i={}),l(t.map((function(t){return o(t,e)})),i)},e.lineString=s,e.lineStrings=function(t,e,i){return void 0===i&&(i={}),l(t.map((function(t){return s(t,e)})),i)},e.featureCollection=l,e.multiLineString=u,e.multiPoint=c,e.multiPolygon=h,e.geometryCollection=function(t,e,i){return void 0===i&&(i={}),r({type:"GeometryCollection",geometries:t},e,i)},e.round=function(t,e){if(void 0===e&&(e=0),e&&!(e>=0))throw new Error("precision must be a positive number");var i=Math.pow(10,e||0);return Math.round(t*i)/i},e.radiansToLength=d,e.lengthToRadians=p,e.lengthToDegrees=function(t,e){return f(p(t,e))},e.bearingToAzimuth=function(t){var e=t%360;return e<0&&(e+=360),e},e.radiansToDegrees=f,e.degreesToRadians=function(t){return t%360*Math.PI/180},e.convertLength=function(t,e,i){if(void 0===e&&(e="kilometers"),void 0===i&&(i="kilometers"),!(t>=0))throw new Error("length must be a positive number");return d(p(t,e),i)},e.convertArea=function(t,i,n){if(void 0===i&&(i="meters"),void 0===n&&(n="kilometers"),!(t>=0))throw new Error("area must be a positive number");var r=e.areaFactors[i];if(!r)throw new Error("invalid original units");var a=e.areaFactors[n];if(!a)throw new Error("invalid final units");return t/r*a},e.isNumber=m,e.isObject=function(t){return!!t&&t.constructor===Object},e.validateBBox=function(t){if(!t)throw new Error("bbox is required");if(!Array.isArray(t))throw new Error("bbox must be an Array");if(4!==t.length&&6!==t.length)throw new Error("bbox must be an Array of 4 or 6 numbers");t.forEach((function(t){if(!m(t))throw new Error("bbox must only contain numbers")}))},e.validateId=function(t){if(!t)throw new Error("id is required");if(-1===["string","number"].indexOf(n(t)))throw new Error("id must be a number or a string")},e.radians2degrees=function(){throw new Error("method has been renamed to `radiansToDegrees`")},e.degrees2radians=function(){throw new Error("method has been renamed to `degreesToRadians`")},e.distanceToDegrees=function(){throw new Error("method has been renamed to `lengthToDegrees`")},e.distanceToRadians=function(){throw new Error("method has been renamed to `lengthToRadians`")},e.radiansToDistance=function(){throw new Error("method has been renamed to `radiansToLength`")},e.bearingToAngle=function(){throw new Error("method has been renamed to `bearingToAzimuth`")},e.convertDistance=function(){throw new Error("method has been renamed to `convertLength`")}},function(t,e,i){var n=i(17)(Object,"create");t.exports=n},function(t,e,i){var n=i(68);t.exports=function(t,e){for(var i=t.length;i--;)if(n(t[i][0],e))return i;return-1}},function(t,e,i){var n=i(74);t.exports=function(t,e){var i=t.__data__;return n(e)?i["string"==typeof e?"string":"hash"]:i.map}},function(t,e){var i=Array.isArray;t.exports=i},function(t,e,i){var r=i(16),a=i(47),o="[object Symbol]";t.exports=function(t){return"symbol"==n(t)||a(t)&&r(t)==o}},function(t,e,i){var n=i(9).Symbol;t.exports=n},function(t,e,i){var r=i(43),a="object"==("undefined"===typeof self?"undefined":n(self))&&self&&self.Object===Object&&self,o=r||a||Function("return this")();t.exports=o},function(t,e,i){"use strict";var n=i(11),r={_initSnappableMarkers:function(){this.options.snapDistance=this.options.snapDistance||30,this._assignEvents(this._markers),this._layer.off("pm:dragstart",this._unsnap,this),this._layer.on("pm:dragstart",this._unsnap,this)},_assignEvents:function(t){var e=this;t.forEach((function(t){Array.isArray(t)?e._assignEvents(t):(t.off("drag",e._handleSnapping,e),t.on("drag",e._handleSnapping,e),t.off("dragend",e._cleanupSnapping,e),t.on("dragend",e._cleanupSnapping,e))}))},_unsnap:function(){delete this._snapLatLng},_cleanupSnapping:function(){delete this._snapList,this._map.off("pm:remove",this._handleSnapLayerRemoval,this),this.debugIndicatorLines&&this.debugIndicatorLines.forEach((function(t){t.remove()}))},_handleSnapLayerRemoval:function(t){var e=t.layer,i=this._snapList.findIndex((function(t){return t._leaflet_id===e._leaflet_id}));this._snapList.splice(i,1)},_handleSnapping:function(t){var e=this;if(t.originalEvent.altKey)return!1;if(void 0===this._snapList&&this._createSnapList(t),this._snapList.length<=0)return!1;var i,n=t.target,r=this._calcClosestLayer(n.getLatLng(),this._snapList),a=r.layer instanceof L.Marker||r.layer instanceof L.CircleMarker;i=a?r.latlng:this._checkPrioritiySnapping(r);var o=this.options.snapDistance,s={marker:n,snapLatLng:i,segment:r.segment,layer:this._layer,layerInteractedWith:r.layer,distance:r.distance};if(s.marker.fire("pm:snapdrag",s),this._layer.fire("pm:snapdrag",s),r.distance<o){n.setLatLng(i),n._snapped=!0;var l=this._snapLatLng||{},u=i||{};l.lat===u.lat&&l.lng===u.lng||(e._snapLatLng=i,n.fire("pm:snap",s),e._layer.fire("pm:snap",s))}else this._snapLatLng&&(this._unsnap(s),n._snapped=!1,s.marker.fire("pm:unsnap",s),this._layer.fire("pm:unsnap",s));return!0},_checkPrioritiySnapping:function(t){var e,i=this._map,r=t.segment[0],a=t.segment[1],o=t.latlng,s=this._getDistance(i,r,o),l=this._getDistance(i,a,o),u=s<l?r:a,c=s<l?s:l;if(this.options.snapMiddle){var h=n.a.calcMiddleLatLng(i,r,a),d=this._getDistance(i,h,o);d<s&&d<l&&(u=h,c=d)}return e=c<this.options.snapDistance?u:o,Object.assign({},e)},_createSnapList:function(){var t=this,e=[],i=[],n=this._map;n.off("pm:remove",this._handleSnapLayerRemoval,this),n.on("pm:remove",this._handleSnapLayerRemoval,this),n.eachLayer((function(t){if(t instanceof L.Polyline||t instanceof L.Marker||t instanceof L.CircleMarker){e.push(t);var n=L.polyline([],{color:"red",pmIgnore:!0});i.push(n)}})),e=(e=(e=e.filter((function(e){return t._layer!==e}))).filter((function(t){return t._latlng||t._latlngs&&t._latlngs.length>0}))).filter((function(t){return!t._pmTempLayer})),this._otherSnapLayers?this._snapList=e.concat(this._otherSnapLayers):this._snapList=e,this.debugIndicatorLines=i},_calcClosestLayer:function(t,e){var i=this,n={};return e.forEach((function(e,r){var a=i._calcLayerDistances(t,e);i.debugIndicatorLines[r].setLatLngs([t,a.latlng]),(void 0===n.distance||a.distance<n.distance)&&((n=a).layer=e)})),n},_calcLayerDistances:function(t,e){var i,n,r=this,a=this._map,o=e instanceof L.Marker||e instanceof L.CircleMarker,s=e instanceof L.Polygon,l=t,u=o?e.getLatLng():e.getLatLngs();if(o)return{latlng:Object.assign({},u),distance:this._getDistance(a,u,l)};!function t(e){e.forEach((function(o,u){if(Array.isArray(o))t(o);else{var c,h=o;c=s?u+1===e.length?0:u+1:u+1===e.length?void 0:u+1;var d=e[c];if(d){var p=r._getDistanceToSegment(a,l,h,d);(void 0===n||p<n)&&(n=p,i=[h,d])}}}))}(u);var c=this._getClosestPointOnSegment(a,t,i[0],i[1]);return{latlng:Object.assign({},c),segment:i,distance:n}},_getClosestPointOnSegment:function(t,e,i,n){var r=t.getMaxZoom();r===1/0&&(r=t.getZoom());var a=t.project(e,r),o=t.project(i,r),s=t.project(n,r),l=L.LineUtil.closestPointOnSegment(a,o,s);return t.unproject(l,r)},_getDistanceToSegment:function(t,e,i,n){var r=t.latLngToLayerPoint(e),a=t.latLngToLayerPoint(i),o=t.latLngToLayerPoint(n);return L.LineUtil.pointToSegmentDistance(r,a,o)},_getDistance:function(t,e,i){return t.latLngToLayerPoint(e).distanceTo(t.latLngToLayerPoint(i))}};e.a=r},function(t,e,i){"use strict";e.a={calcMiddleLatLng:function(t,e,i){var n=t.project(e),r=t.project(i);return t.unproject(n._add(r)._divideBy(2))}}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);function r(t,e,i,n,r,a,o,s){var l,u,c,h,d={x:null,y:null,onLine1:!1,onLine2:!1};return 0===(l=(s-a)*(i-t)-(o-r)*(n-e))?null!==d.x&&null!==d.y&&d:(h=(i-t)*(u=e-a)-(n-e)*(c=t-r),u=((o-r)*u-(s-a)*c)/l,c=h/l,d.x=t+u*(i-t),d.y=e+u*(n-e),u>=0&&u<=1&&(d.onLine1=!0),c>=0&&c<=1&&(d.onLine2=!0),!(!d.onLine1||!d.onLine2)&&[d.x,d.y])}e["default"]=function(t){var e,i,a={type:"FeatureCollection",features:[]};if("LineString"===(i="Feature"===t.type?t.geometry:t).type)e=[i.coordinates];else if("MultiLineString"===i.type)e=i.coordinates;else if("MultiPolygon"===i.type)e=[].concat.apply([],i.coordinates);else{if("Polygon"!==i.type)throw new Error("Input must be a LineString, MultiLineString, Polygon, or MultiPolygon Feature or Geometry");e=i.coordinates}return e.forEach((function(t){e.forEach((function(e){for(var i=0;i<t.length-1;i++)for(var o=i;o<e.length-1;o++){if(t===e){if(1===Math.abs(i-o))continue;if(0===i&&o===t.length-2&&t[i][0]===t[t.length-1][0]&&t[i][1]===t[t.length-1][1])continue}var s=r(t[i][0],t[i][1],t[i+1][0],t[i+1][1],e[o][0],e[o][1],e[o+1][0],e[o+1][1]);s&&a.features.push(n.point([s[0],s[1]]))}}))})),a}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);e.getCoord=function(t){if(!t)throw new Error("coord is required");if(!Array.isArray(t)){if("Feature"===t.type&&null!==t.geometry&&"Point"===t.geometry.type)return t.geometry.coordinates;if("Point"===t.type)return t.coordinates}if(Array.isArray(t)&&t.length>=2&&!Array.isArray(t[0])&&!Array.isArray(t[1]))return t;throw new Error("coord must be GeoJSON Point or an Array of numbers")},e.getCoords=function(t){if(Array.isArray(t))return t;if("Feature"===t.type){if(null!==t.geometry)return t.geometry.coordinates}else if(t.coordinates)return t.coordinates;throw new Error("coords must be GeoJSON Feature, Geometry Object or an Array")},e.containsNumber=function t(e){if(e.length>1&&n.isNumber(e[0])&&n.isNumber(e[1]))return!0;if(Array.isArray(e[0])&&e[0].length)return t(e[0]);throw new Error("coordinates must only contain numbers")},e.geojsonType=function(t,e,i){if(!e||!i)throw new Error("type and name required");if(!t||t.type!==e)throw new Error("Invalid input to "+i+": must be a "+e+", given "+t.type)},e.featureOf=function(t,e,i){if(!t)throw new Error("No feature passed");if(!i)throw new Error(".featureOf() requires a name");if(!t||"Feature"!==t.type||!t.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!t.geometry||t.geometry.type!==e)throw new Error("Invalid input to "+i+": must be a "+e+", given "+t.geometry.type)},e.collectionOf=function(t,e,i){if(!t)throw new Error("No featureCollection passed");if(!i)throw new Error(".collectionOf() requires a name");if(!t||"FeatureCollection"!==t.type)throw new Error("Invalid input to "+i+", FeatureCollection required");for(var n=0,r=t.features;n<r.length;n++){var a=r[n];if(!a||"Feature"!==a.type||!a.geometry)throw new Error("Invalid input to "+i+", Feature with geometry required");if(!a.geometry||a.geometry.type!==e)throw new Error("Invalid input to "+i+": must be a "+e+", given "+a.geometry.type)}},e.getGeom=function(t){return"Feature"===t.type?t.geometry:t},e.getType=function(t,e){return"FeatureCollection"===t.type?"FeatureCollection":"GeometryCollection"===t.type?"GeometryCollection":"Feature"===t.type&&null!==t.geometry?t.geometry.type:t.type}},function(t,e,i){!function(t,i){i(e)}(0,(function(t){"use strict";function e(t,e){return t>e?1:t<e?-1:0}var i=function(t,i){void 0===t&&(t=e),void 0===i&&(i=!1),this._compare=t,this._root=null,this._size=0,this._noDuplicates=!!i},n={size:{configurable:!0}};i.prototype.rotateLeft=function(t){var e=t.right;e&&(t.right=e.left,e.left&&(e.left.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.left=t),t.parent=e},i.prototype.rotateRight=function(t){var e=t.left;e&&(t.left=e.right,e.right&&(e.right.parent=t),e.parent=t.parent),t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.right=t),t.parent=e},i.prototype._splay=function(t){for(;t.parent;){var e=t.parent;e.parent?e.left===t&&e.parent.left===e?(this.rotateRight(e.parent),this.rotateRight(e)):e.right===t&&e.parent.right===e?(this.rotateLeft(e.parent),this.rotateLeft(e)):e.left===t&&e.parent.right===e?(this.rotateRight(e),this.rotateLeft(e)):(this.rotateLeft(e),this.rotateRight(e)):e.left===t?this.rotateRight(e):this.rotateLeft(e)}},i.prototype.splay=function(t){for(var e,i,n,r,a;t.parent;)(i=(e=t.parent).parent)&&i.parent?((n=i.parent).left===i?n.left=t:n.right=t,t.parent=n):(t.parent=null,this._root=t),r=t.left,a=t.right,t===e.left?(i&&(i.left===e?(e.right?(i.left=e.right,i.left.parent=i):i.left=null,e.right=i,i.parent=e):(r?(i.right=r,r.parent=i):i.right=null,t.left=i,i.parent=t)),a?(e.left=a,a.parent=e):e.left=null,t.right=e,e.parent=t):(i&&(i.right===e?(e.left?(i.right=e.left,i.right.parent=i):i.right=null,e.left=i,i.parent=e):(a?(i.left=a,a.parent=i):i.left=null,t.right=i,i.parent=t)),r?(e.right=r,r.parent=e):e.right=null,t.left=e,e.parent=t)},i.prototype.replace=function(t,e){t.parent?t===t.parent.left?t.parent.left=e:t.parent.right=e:this._root=e,e&&(e.parent=t.parent)},i.prototype.minNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.left;)t=t.left;return t},i.prototype.maxNode=function(t){if(void 0===t&&(t=this._root),t)for(;t.right;)t=t.right;return t},i.prototype.insert=function(t,e){var i=this._root,n=null,r=this._compare;if(this._noDuplicates)for(;i;){if(n=i,0===r(i.key,t))return;i=r(i.key,t)<0?i.right:i.left}else for(;i;)n=i,i=r(i.key,t)<0?i.right:i.left;return i={key:t,data:e,left:null,right:null,parent:n},n?r(n.key,i.key)<0?n.right=i:n.left=i:this._root=i,this.splay(i),this._size++,i},i.prototype.find=function(t){for(var e=this._root,i=this._compare;e;){var n=i(e.key,t);if(n<0)e=e.right;else{if(!(n>0))return e;e=e.left}}return null},i.prototype.contains=function(t){for(var e=this._root,i=this._compare;e;){var n=i(t,e.key);if(0===n)return!0;e=n<0?e.left:e.right}return!1},i.prototype.remove=function(t){var e=this.find(t);if(!e)return!1;if(this.splay(e),e.left)if(e.right){var i=this.minNode(e.right);i.parent!==e&&(this.replace(i,i.right),i.right=e.right,i.right.parent=i),this.replace(e,i),i.left=e.left,i.left.parent=i}else this.replace(e,e.left);else this.replace(e,e.right);return this._size--,!0},i.prototype.removeNode=function(t){if(!t)return!1;if(this.splay(t),t.left)if(t.right){var e=this.minNode(t.right);e.parent!==t&&(this.replace(e,e.right),e.right=t.right,e.right.parent=e),this.replace(t,e),e.left=t.left,e.left.parent=e}else this.replace(t,t.left);else this.replace(t,t.right);return this._size--,!0},i.prototype.erase=function(t){var e=this.find(t);if(e){this.splay(e);var i=e.left,n=e.right,r=null;i&&(i.parent=null,r=this.maxNode(i),this.splay(r),this._root=r),n&&(i?r.right=n:this._root=n,n.parent=r),this._size--}},i.prototype.pop=function(){var t=this._root,e=null;if(t){for(;t.left;)t=t.left;e={key:t.key,data:t.data},this.remove(t.key)}return e},i.prototype.next=function(t){var e=t;if(e)if(e.right)for(e=e.right;e&&e.left;)e=e.left;else for(e=t.parent;e&&e.right===t;)t=e,e=e.parent;return e},i.prototype.prev=function(t){var e=t;if(e)if(e.left)for(e=e.left;e&&e.right;)e=e.right;else for(e=t.parent;e&&e.left===t;)t=e,e=e.parent;return e},i.prototype.forEach=function(t){for(var e=this._root,i=[],n=!1,r=0;!n;)e?(i.push(e),e=e.left):i.length>0?(t(e=i.pop(),r++),e=e.right):n=!0;return this},i.prototype.range=function(t,e,i,n){for(var r=[],a=this._compare,o=this._root;0!==r.length||o;)if(o)r.push(o),o=o.left;else{if(a((o=r.pop()).key,e)>0)break;if(a(o.key,t)>=0&&i.call(n,o))return this;o=o.right}return this},i.prototype.keys=function(){for(var t=this._root,e=[],i=[],n=!1;!n;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),i.push(t.key),t=t.right):n=!0;return i},i.prototype.values=function(){for(var t=this._root,e=[],i=[],n=!1;!n;)t?(e.push(t),t=t.left):e.length>0?(t=e.pop(),i.push(t.data),t=t.right):n=!0;return i},i.prototype.at=function(t){for(var e=this._root,i=[],n=!1,r=0;!n;)if(e)i.push(e),e=e.left;else if(i.length>0){if(e=i.pop(),r===t)return e;r++,e=e.right}else n=!0;return null},i.prototype.load=function(t,e,i){if(void 0===t&&(t=[]),void 0===e&&(e=[]),void 0===i&&(i=!1),0!==this._size)throw new Error("bulk-load: tree is not empty");var n=t.length;return i&&function t(e,i,n,r,a){if(!(n>=r)){for(var o=e[n+r>>1],s=n-1,l=r+1;;){do{s++}while(a(e[s],o)<0);do{l--}while(a(e[l],o)>0);if(s>=l)break;var u=e[s];e[s]=e[l],e[l]=u,u=i[s],i[s]=i[l],i[l]=u}t(e,i,n,l,a),t(e,i,l+1,r,a)}}(t,e,0,n-1,this._compare),this._root=function t(e,i,n,r,a){var o=a-r;if(o>0){var s=r+Math.floor(o/2),l=i[s],u=n[s],c={key:l,data:u,parent:e};return c.left=t(c,i,n,r,s),c.right=t(c,i,n,s+1,a),c}return null}(null,t,e,0,n),this._size=n,this},i.prototype.min=function(){var t=this.minNode(this._root);return t?t.key:null},i.prototype.max=function(){var t=this.maxNode(this._root);return t?t.key:null},i.prototype.isEmpty=function(){return null===this._root},n.size.get=function(){return this._size},i.createTree=function(t,e,n,r,a){return new i(n,a).load(t,e,r)},Object.defineProperties(i.prototype,n);var r=0,a=1,o=2,s=3,l=0,u=1,c=2,h=3;function d(t,e,i){null===e?(t.inOut=!1,t.otherInOut=!0):(t.isSubject===e.isSubject?(t.inOut=!e.inOut,t.otherInOut=e.otherInOut):(t.inOut=!e.otherInOut,t.otherInOut=e.isVertical()?!e.inOut:e.inOut),e&&(t.prevInResult=!p(e,i)||e.isVertical()?e.prevInResult:e)),t.inResult=p(t,i)}function p(t,e){switch(t.type){case r:switch(e){case l:return!t.otherInOut;case u:return t.otherInOut;case c:return t.isSubject&&t.otherInOut||!t.isSubject&&!t.otherInOut;case h:return!0}break;case o:return e===l||e===u;case s:return e===c;case a:return!1}return!1}var f=function(t,e,i,n,a){this.left=e,this.point=t,this.otherEvent=i,this.isSubject=n,this.type=a||r,this.inOut=!1,this.otherInOut=!1,this.prevInResult=null,this.inResult=!1,this.resultInOut=!1,this.isExteriorRing=!0};function m(t,e){return t[0]===e[0]&&t[1]===e[1]}function g(t,e,i){return(t[0]-i[0])*(e[1]-i[1])-(e[0]-i[0])*(t[1]-i[1])}function y(t,e){var i=t.point,n=e.point;return i[0]>n[0]?1:i[0]<n[0]?-1:i[1]!==n[1]?i[1]>n[1]?1:-1:function(t,e,i,n){return t.left!==e.left?t.left?1:-1:0!==g(i,t.otherEvent.point,e.otherEvent.point)?t.isBelow(e.otherEvent.point)?-1:1:!t.isSubject&&e.isSubject?1:-1}(t,e,i)}function _(t,e,i){var n=new f(e,!1,t,t.isSubject),r=new f(e,!0,t.otherEvent,t.isSubject);return m(t.point,t.otherEvent.point)&&console.warn("what is that, a collapsed segment?",t),n.contourId=r.contourId=t.contourId,y(r,t.otherEvent)>0&&(t.otherEvent.left=!0,r.left=!1),t.otherEvent.otherEvent=r,t.otherEvent=n,i.push(r),i.push(n),i}function v(t,e){return t[0]*e[1]-t[1]*e[0]}function b(t,e){return t[0]*e[0]+t[1]*e[1]}function L(t,e,i){var n=function(t,e,i,n,r){var a=[e[0]-t[0],e[1]-t[1]],o=[n[0]-i[0],n[1]-i[1]];function s(t,e,i){return[t[0]+e*i[0],t[1]+e*i[1]]}var l=[i[0]-t[0],i[1]-t[1]],u=v(a,o),c=u*u,h=b(a,a);if(c>0){var d=v(l,o)/u;if(d<0||d>1)return null;var p=v(l,a)/u;return p<0||p>1?null:0===d||1===d?r?null:[s(t,d,a)]:0===p||1===p?r?null:[s(i,p,o)]:[s(t,d,a)]}if((c=(u=v(l,a))*u)>0)return null;var f=b(a,l)/h,m=f+b(a,o)/h,g=Math.min(f,m),y=Math.max(f,m);return g<=1&&y>=0?1===g?r?null:[s(t,g>0?g:0,a)]:0===y?r?null:[s(t,y<1?y:1,a)]:r&&0===g&&1===y?null:[s(t,g>0?g:0,a),s(t,y<1?y:1,a)]:null}(t.point,t.otherEvent.point,e.point,e.otherEvent.point),r=n?n.length:0;if(0===r)return 0;if(1===r&&(m(t.point,e.point)||m(t.otherEvent.point,e.otherEvent.point)))return 0;if(2===r&&t.isSubject===e.isSubject)return 0;if(1===r)return m(t.point,n[0])||m(t.otherEvent.point,n[0])||_(t,n[0],i),m(e.point,n[0])||m(e.otherEvent.point,n[0])||_(e,n[0],i),1;var l=[],u=!1,c=!1;return m(t.point,e.point)?u=!0:1===y(t,e)?l.push(e,t):l.push(t,e),m(t.otherEvent.point,e.otherEvent.point)?c=!0:1===y(t.otherEvent,e.otherEvent)?l.push(e.otherEvent,t.otherEvent):l.push(t.otherEvent,e.otherEvent),u&&c||u?(e.type=a,t.type=e.inOut===t.inOut?o:s,u&&!c&&_(l[1].otherEvent,l[0].point,i),2):c?(_(l[0],l[1].point,i),3):l[0]!==l[3].otherEvent?(_(l[0],l[1].point,i),_(l[1],l[2].point,i),3):(_(l[0],l[1].point,i),_(l[3].otherEvent,l[2].point,i),3)}function w(t,e){if(t===e)return 0;if(0!==g(t.point,t.otherEvent.point,e.point)||0!==g(t.point,t.otherEvent.point,e.otherEvent.point))return m(t.point,e.point)?t.isBelow(e.otherEvent.point)?-1:1:t.point[0]===e.point[0]?t.point[1]<e.point[1]?-1:1:1===y(t,e)?e.isAbove(t.point)?-1:1:t.isBelow(e.point)?-1:1;if(t.isSubject!==e.isSubject)return t.isSubject?-1:1;var i=t.point,n=e.point;return i[0]===n[0]&&i[1]===n[1]?(i=t.otherEvent.point,n=e.otherEvent.point,i[0]===n[0]&&i[1]===n[1]?0:t.contourId>e.contourId?1:-1):1===y(t,e)?1:-1}function k(t,e,i,n){var r=t+1,a=e.length;if(r>a-1)return t-1;for(var o=e[t].point,s=e[r].point;r<a&&s[0]===o[0]&&s[1]===o[1];){if(!i[r])return r;s=e[++r].point}for(r=t-1;i[r]&&r>=n;)r--;return r}function D(t,e){var i,n,r,a=function(t){var e,i,n,r,a=[];for(i=0,n=t.length;i<n;i++)((e=t[i]).left&&e.inResult||!e.left&&e.otherEvent.inResult)&&a.push(e);for(var o=!1;!o;)for(o=!0,i=0,n=a.length;i<n;i++)i+1<n&&1===y(a[i],a[i+1])&&(r=a[i],a[i]=a[i+1],a[i+1]=r,o=!1);for(i=0,n=a.length;i<n;i++)(e=a[i]).pos=i;for(i=0,n=a.length;i<n;i++)(e=a[i]).left||(r=e.pos,e.pos=e.otherEvent.pos,e.otherEvent.pos=r);return a}(t),o={},s=[];for(i=0,n=a.length;i<n;i++)if(!o[i]){var l=[[]];a[i].isExteriorRing?e===c&&!a[i].isSubject&&s.length>1?s[s.length-1].push(l[0]):s.push(l):e!==c||a[i].isSubject||0!==s.length?0===s.length?s.push([[l]]):s[s.length-1].push(l[0]):s.push(l);var u=s.length-1,h=i,d=a[i].point;for(l[0].push(d);h>=i;)r=a[h],o[h]=!0,r.left?(r.resultInOut=!1,r.contourId=u):(r.otherEvent.resultInOut=!0,r.otherEvent.contourId=u),o[h=r.pos]=!0,l[0].push(a[h].point),h=k(h,a,o,i);r=a[h=-1===h?i:h],o[h]=o[r.pos]=!0,r.otherEvent.resultInOut=!0,r.otherEvent.contourId=u}return s}f.prototype.isBelow=function(t){var e=this.point,i=this.otherEvent.point;return this.left?(e[0]-t[0])*(i[1]-t[1])-(i[0]-t[0])*(e[1]-t[1])>0:(i[0]-t[0])*(e[1]-t[1])-(e[0]-t[0])*(i[1]-t[1])>0},f.prototype.isAbove=function(t){return!this.isBelow(t)},f.prototype.isVertical=function(){return this.point[0]===this.otherEvent.point[0]},f.prototype.clone=function(){var t=new f(this.point,this.left,this.otherEvent,this.isSubject,this.type);return t.inResult=this.inResult,t.prevInResult=this.prevInResult,t.isExteriorRing=this.isExteriorRing,t.inOut=this.inOut,t.otherInOut=this.otherInOut,t};var S=M,T=M;function M(t,e){if(!(this instanceof M))return new M(t,e);if(this.data=t||[],this.length=this.data.length,this.compare=e||x,this.length>0)for(var i=(this.length>>1)-1;i>=0;i--)this._down(i)}function x(t,e){return t<e?-1:t>e?1:0}M.prototype={push:function(t){this.data.push(t),this.length++,this._up(this.length-1)},pop:function(){if(0!==this.length){var t=this.data[0];return this.length--,this.length>0&&(this.data[0]=this.data[this.length],this._down(0)),this.data.pop(),t}},peek:function(){return this.data[0]},_up:function(t){for(var e=this.data,i=this.compare,n=e[t];t>0;){var r=t-1>>1,a=e[r];if(i(n,a)>=0)break;e[t]=a,t=r}e[t]=n},_down:function(t){for(var e=this.data,i=this.compare,n=this.length>>1,r=e[t];t<n;){var a=1+(t<<1),o=a+1,s=e[a];if(o<this.length&&i(e[o],s)<0&&(a=o,s=e[o]),i(s,r)>=0)break;e[t]=s,t=a}e[t]=r}},S["default"]=T;var C=Math.max,P=Math.min,E=0;function R(t,e,i,n,r,a){var o,s,l,u,c,h;for(o=0,s=t.length-1;o<s;o++)if(l=t[o],u=t[o+1],c=new f(l,!1,void 0,e),h=new f(u,!1,c,e),c.otherEvent=h,l[0]!==u[0]||l[1]!==u[1]){c.contourId=h.contourId=i,a||(c.isExteriorRing=!1,h.isExteriorRing=!1),y(c,h)>0?h.left=!0:c.left=!0;var d=l[0],p=l[1];r[0]=P(r[0],d),r[1]=P(r[1],p),r[2]=C(r[2],d),r[3]=C(r[3],p),n.push(c),n.push(h)}}var O=[];function I(t,e,n){"number"==typeof t[0][0][0]&&(t=[t]),"number"==typeof e[0][0][0]&&(e=[e]);var r=function(t,e,i){var n=null;return t.length*e.length==0&&(i===l?n=O:i===c?n=t:i!==u&&i!==h||(n=0===t.length?e:t)),n}(t,e,n);if(r)return r===O?null:r;var a=[1/0,1/0,-1/0,-1/0],o=[1/0,1/0,-1/0,-1/0],s=function(t,e,i,n,r){var a,o,s,l,u,h,d=new S(null,y);for(s=0,l=t.length;s<l;s++)for(u=0,h=(a=t[s]).length;u<h;u++)(o=0===u)&&E++,R(a[u],!0,E,d,i,o);for(s=0,l=e.length;s<l;s++)for(u=0,h=(a=e[s]).length;u<h;u++)o=0===u,r===c&&(o=!1),o&&E++,R(a[u],!1,E,d,n,o);return d}(t,e,a,o,n);return(r=function(t,e,i,n,r){var a=null;return(i[0]>n[2]||n[0]>i[2]||i[1]>n[3]||n[1]>i[3])&&(r===l?a=O:r===c?a=t:r!==u&&r!==h||(a=t.concat(e))),a}(t,e,a,o,n))?r===O?null:r:D(function(t,e,n,r,a,o){for(var s,u,h,p=new i(w),f=[],m=Math.min(r[2],a[2]);0!==t.length;){var g=t.pop();if(f.push(g),o===l&&g.point[0]>m||o===c&&g.point[0]>r[2])break;if(g.left){u=s=p.insert(g),s=s!==(h=p.minNode())?p.prev(s):null,u=p.next(u);var y=s?s.key:null;if(d(g,y,o),u&&2===L(g,u.key,t)&&(d(g,y,o),d(g,u.key,o)),s&&2===L(s.key,g,t)){var _=s;d(y,(_=_!==h?p.prev(_):null)?_.key:null,o),d(g,y,o)}}else g=g.otherEvent,u=s=p.find(g),s&&u&&(s=s!==h?p.prev(s):null,u=p.next(u),p.remove(g),u&&s&&L(s.key,u.key,t))}return f}(s,0,0,a,o,n),n)}var U={UNION:u,DIFFERENCE:c,INTERSECTION:l,XOR:h};t.union=function(t,e){return I(t,e,u)},t.diff=function(t,e){return I(t,e,c)},t.xor=function(t,e){return I(t,e,h)},t.intersection=function(t,e){return I(t,e,l)},t.operations=U,Object.defineProperty(t,"__esModule",{value:!0})}))},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(2);function r(t,e,i){if(null!==t)for(var n,a,o,s,l,u,c,h,d=0,p=0,f=t.type,m="FeatureCollection"===f,g="Feature"===f,y=m?t.features.length:1,_=0;_<y;_++){l=(h=!!(c=m?t.features[_].geometry:g?t.geometry:t)&&"GeometryCollection"===c.type)?c.geometries.length:1;for(var v=0;v<l;v++){var b=0,L=0;if(null!==(s=h?c.geometries[v]:c)){u=s.coordinates;var w=s.type;switch(d=!i||"Polygon"!==w&&"MultiPolygon"!==w?0:1,w){case null:break;case"Point":if(!1===e(u,p,_,b,L))return!1;p++,b++;break;case"LineString":case"MultiPoint":for(n=0;n<u.length;n++){if(!1===e(u[n],p,_,b,L))return!1;p++,"MultiPoint"===w&&b++}"LineString"===w&&b++;break;case"Polygon":case"MultiLineString":for(n=0;n<u.length;n++){for(a=0;a<u[n].length-d;a++){if(!1===e(u[n][a],p,_,b,L))return!1;p++}"MultiLineString"===w&&b++,"Polygon"===w&&L++}"Polygon"===w&&b++;break;case"MultiPolygon":for(n=0;n<u.length;n++){for(L=0,a=0;a<u[n].length;a++){for(o=0;o<u[n][a].length-d;o++){if(!1===e(u[n][a][o],p,_,b,L))return!1;p++}L++}b++}break;case"GeometryCollection":for(n=0;n<s.geometries.length;n++)if(!1===r(s.geometries[n],e,i))return!1;break;default:throw new Error("Unknown Geometry Type")}}}}}function a(t,e){var i;switch(t.type){case"FeatureCollection":for(i=0;i<t.features.length&&!1!==e(t.features[i].properties,i);i++);break;case"Feature":e(t.properties,0)}}function o(t,e){if("Feature"===t.type)e(t,0);else if("FeatureCollection"===t.type)for(var i=0;i<t.features.length&&!1!==e(t.features[i],i);i++);}function s(t,e){var i,n,r,a,o,s,l,u,c,h,d=0,p="FeatureCollection"===t.type,f="Feature"===t.type,m=p?t.features.length:1;for(i=0;i<m;i++){for(s=p?t.features[i].geometry:f?t.geometry:t,u=p?t.features[i].properties:f?t.properties:{},c=p?t.features[i].bbox:f?t.bbox:void 0,h=p?t.features[i].id:f?t.id:void 0,o=(l=!!s&&"GeometryCollection"===s.type)?s.geometries.length:1,r=0;r<o;r++)if(null!==(a=l?s.geometries[r]:s))switch(a.type){case"Point":case"LineString":case"MultiPoint":case"Polygon":case"MultiLineString":case"MultiPolygon":if(!1===e(a,d,u,c,h))return!1;break;case"GeometryCollection":for(n=0;n<a.geometries.length;n++)if(!1===e(a.geometries[n],d,u,c,h))return!1;break;default:throw new Error("Unknown Geometry Type")}else if(!1===e(null,d,u,c,h))return!1;d++}}function l(t,e){s(t,(function(t,i,r,a,o){var s,l=null===t?null:t.type;switch(l){case null:case"Point":case"LineString":case"Polygon":return!1!==e(n.feature(t,r,{bbox:a,id:o}),i,0)&&void 0}switch(l){case"MultiPoint":s="Point";break;case"MultiLineString":s="LineString";break;case"MultiPolygon":s="Polygon"}for(var u=0;u<t.coordinates.length;u++){var c={type:s,coordinates:t.coordinates[u]};if(!1===e(n.feature(c,r),i,u))return!1}}))}function u(t,e){l(t,(function(t,i,a){var o=0;if(t.geometry){var s=t.geometry.type;if("Point"!==s&&"MultiPoint"!==s){var l,u=0,c=0,h=0;return!1!==r(t,(function(r,s,d,p,f){if(void 0===l||i>u||p>c||f>h)return l=r,u=i,c=p,h=f,void(o=0);var m=n.lineString([l,r],t.properties);if(!1===e(m,i,a,f,o))return!1;o++,l=r}))&&void 0}}}))}function c(t,e){if(!t)throw new Error("geojson is required");l(t,(function(t,i,r){if(null!==t.geometry){var a=t.geometry.type,o=t.geometry.coordinates;switch(a){case"LineString":if(!1===e(t,i,r,0,0))return!1;break;case"Polygon":for(var s=0;s<o.length;s++)if(!1===e(n.lineString(o[s],t.properties),i,r,s))return!1}}}))}e.coordEach=r,e.coordReduce=function(t,e,i,n){var a=i;return r(t,(function(t,n,r,o,s){a=0===n&&void 0===i?t:e(a,t,n,r,o,s)}),n),a},e.propEach=a,e.propReduce=function(t,e,i){var n=i;return a(t,(function(t,r){n=0===r&&void 0===i?t:e(n,t,r)})),n},e.featureEach=o,e.featureReduce=function(t,e,i){var n=i;return o(t,(function(t,r){n=0===r&&void 0===i?t:e(n,t,r)})),n},e.coordAll=function(t){var e=[];return r(t,(function(t){e.push(t)})),e},e.geomEach=s,e.geomReduce=function(t,e,i){var n=i;return s(t,(function(t,r,a,o,s){n=0===r&&void 0===i?t:e(n,t,r,a,o,s)})),n},e.flattenEach=l,e.flattenReduce=function(t,e,i){var n=i;return l(t,(function(t,r,a){n=0===r&&0===a&&void 0===i?t:e(n,t,r,a)})),n},e.segmentEach=u,e.segmentReduce=function(t,e,i){var n=i,r=!1;return u(t,(function(t,a,o,s,l){n=!1===r&&void 0===i?t:e(n,t,a,o,s,l),r=!0})),n},e.lineEach=c,e.lineReduce=function(t,e,i){var n=i;return c(t,(function(t,r,a,o){n=0===r&&void 0===i?t:e(n,t,r,a,o)})),n},e.findSegment=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var i,r=e.featureIndex||0,a=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.segmentIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),l=l||t.features[r].properties,i=t.features[r].geometry;break;case"Feature":l=l||t.properties,i=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=t;break;default:throw new Error("geojson is invalid")}if(null===i)return null;var u=i.coordinates;switch(i.type){case"Point":case"MultiPoint":return null;case"LineString":return s<0&&(s=u.length+s-1),n.lineString([u[s],u[s+1]],l,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s-1),n.lineString([u[o][s],u[o][s+1]],l,e);case"MultiLineString":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s-1),n.lineString([u[a][s],u[a][s+1]],l,e);case"MultiPolygon":return a<0&&(a=u.length+a),o<0&&(o=u[a].length+o),s<0&&(s=u[a][o].length-s-1),n.lineString([u[a][o][s],u[a][o][s+1]],l,e)}throw new Error("geojson is invalid")},e.findPoint=function(t,e){if(e=e||{},!n.isObject(e))throw new Error("options is invalid");var i,r=e.featureIndex||0,a=e.multiFeatureIndex||0,o=e.geometryIndex||0,s=e.coordIndex||0,l=e.properties;switch(t.type){case"FeatureCollection":r<0&&(r=t.features.length+r),l=l||t.features[r].properties,i=t.features[r].geometry;break;case"Feature":l=l||t.properties,i=t.geometry;break;case"Point":case"MultiPoint":return null;case"LineString":case"Polygon":case"MultiLineString":case"MultiPolygon":i=t;break;default:throw new Error("geojson is invalid")}if(null===i)return null;var u=i.coordinates;switch(i.type){case"Point":return n.point(u,l,e);case"MultiPoint":return a<0&&(a=u.length+a),n.point(u[a],l,e);case"LineString":return s<0&&(s=u.length+s),n.point(u[s],l,e);case"Polygon":return o<0&&(o=u.length+o),s<0&&(s=u[o].length+s),n.point(u[o][s],l,e);case"MultiLineString":return a<0&&(a=u.length+a),s<0&&(s=u[a].length+s),n.point(u[a][s],l,e);case"MultiPolygon":return a<0&&(a=u.length+a),o<0&&(o=u[a].length+o),s<0&&(s=u[a][o].length-s),n.point(u[a][o][s],l,e)}throw new Error("geojson is invalid")}},function(t,e,i){var n=i(8),r=i(45),a=i(46),o="[object Null]",s="[object Undefined]",l=n?n.toStringTag:void 0;t.exports=function(t){return null==t?void 0===t?s:o:l&&l in Object(t)?r(t):a(t)}},function(t,e,i){var n=i(55),r=i(60);t.exports=function(t,e){var i=r(t,e);return n(i)?i:void 0}},function(t,e){t.exports=function(t){var e=n(t);return null!=t&&("object"==e||"function"==e)}},function(t,e,i){t.exports=i(20)},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(21),r=(i.n(n),i(22)),a=(i.n(r),i(23)),o=i(24),s=i(0),l=(i(26),i(27),i(28),i(29),i(30),i(31),i(1)),u=(i(36),i(37),i(38),i(82),i(83),i(84),i(85)),c=(i.n(u),i(86));i.n(c),L.PM=L.PM||{Map:a.a,Toolbar:o.a,Draw:s.a,Edit:l.a,version:r.version,initialize:function(){this.addInitHooks()},addInitHooks:function(){L.Map.addInitHook((function(){this.options.pmIgnore||(this.pm=new L.PM.Map(this))})),L.LayerGroup.addInitHook((function(){this.pm=new L.PM.Edit.LayerGroup(this)})),L.Marker.addInitHook((function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Marker(this))})),L.Polyline.addInitHook((function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Line(this))})),L.Polygon.addInitHook((function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Poly(this))})),L.Rectangle.addInitHook((function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Rectangle(this))})),L.Circle.addInitHook((function(){this.options.pmIgnore||(this.pm=new L.PM.Edit.Circle(this))}))}},L.PM.initialize()},function(t,e){Array.prototype.findIndex=Array.prototype.findIndex||function(t){if(null===this)throw new TypeError("Array.prototype.findIndex called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),i=e.length>>>0,n=arguments[1],r=0;r<i;r++)if(t.call(n,e[r],r,e))return r;return-1},Array.prototype.find=Array.prototype.find||function(t){if(null===this)throw new TypeError("Array.prototype.find called on null or undefined");if("function"!=typeof t)throw new TypeError("callback must be a function");for(var e=Object(this),i=e.length>>>0,n=arguments[1],r=0;r<i;r++){var a=e[r];if(t.call(n,a,r,e))return a}},"function"!=typeof Object.assign&&(Object.assign=function(t){"use strict";if(null==t)throw new TypeError("Cannot convert undefined or null to object");t=Object(t);for(var e=1;e<arguments.length;e++){var i=arguments[e];if(null!=i)for(var n in i)Object.prototype.hasOwnProperty.call(i,n)&&(t[n]=i[n])}return t}),[Element.prototype,CharacterData.prototype,DocumentType.prototype].forEach((function(t){t.hasOwnProperty("remove")||Object.defineProperty(t,"remove",{configurable:!0,enumerable:!0,writable:!0,value:function(){this.parentNode.removeChild(this)}})}))},function(t,e){t.exports={name:"leaflet.pm",version:"2.0.2",description:"A Leaflet Plugin For Editing Geometry Layers in Leaflet 1.0",keywords:["leaflet","polygon management","geometry editing","map data","map overlay","polygon","geojson","leaflet-draw","data-field-geojson","ui-leaflet-draw"],files:["dist"],main:"dist/leaflet.pm.min.js",dependencies:{"@turf/difference":"^6.0.2","@turf/intersect":"^6.1.3","@turf/kinks":"6.x",lodash:"^4.17.11"},devDependencies:{"@babel/core":"^7.2.2","@babel/preset-env":"^7.3.1","babel-loader":"^8.0.5","css-loader":"^0.28.11",cypress:"^3.1.4",eslint:"^4.19.1","eslint-config-airbnb-base":"^12.1.0","eslint-config-prettier":"^3.6.0","eslint-plugin-cypress":"^2.2.0","eslint-plugin-import":"^2.15.0","extract-text-webpack-plugin":"^3.0.2","file-loader":"^0.11.1",leaflet:"^1.4.0",prettier:"1.16.1","style-loader":"^0.19.0","uglifyjs-webpack-plugin":"^1.3.0","url-loader":"^0.6.2",webpack:"^3.12.0"},peerDependencies:{leaflet:"^1.2.0"},scripts:{start:"npm run dev",dev:"./node_modules/.bin/webpack --config=webpack.dev.js",test:"$(npm bin)/cypress run",cypress:"$(npm bin)/cypress open",build:"./node_modules/.bin/webpack --config=webpack.build.js",prepare:"npm run build","eslint-check":"eslint --print-config . | eslint-config-prettier-check",eslint:"eslint src/ --fix",prettier:"prettier --write '{src,cypress}/**/*.{js,css}'",lint:"npm run eslint && npm run prettier"},repository:{type:"git",url:"git+https://github.com/codeofsumit/leaflet.pm.git"},author:{name:"Sumit Kumar",email:"sk@outlook.com",url:"http://twitter.com/TweetsOfSumit"},license:"MIT",bugs:{url:"https://github.com/codeofsumit/leaflet.pm/issues"},homepage:"https://leafletpm.now.sh",prettier:{trailingComma:"es5",tabWidth:2,semi:!0,singleQuote:!0}}},function(t,e,i){"use strict";var n=L.Class.extend({initialize:function(t){this.map=t,this.Draw=new L.PM.Draw(t),this.Toolbar=new L.PM.Toolbar(t),this._globalRemovalMode=!1},addControls:function(t){this.Toolbar.addControls(t)},removeControls:function(){this.Toolbar.removeControls()},toggleControls:function(){this.Toolbar.toggleControls()},controlsVisible:function(){return this.Toolbar.isVisible},enableDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Poly",e=arguments.length>1?arguments[1]:void 0;this.Draw.enable(t,e)},disableDraw:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Poly";this.Draw.disable(t)},setPathOptions:function(t){this.Draw.setPathOptions(t)},findLayers:function(){var t=[];return this.map.eachLayer((function(e){(e instanceof L.Polyline||e instanceof L.Marker||e instanceof L.Circle)&&t.push(e)})),t=(t=t.filter((function(t){return!!t.pm}))).filter((function(t){return!t._pmTempLayer}))},removeLayer:function(t){var e=t.target;!(e._pmTempLayer||e.pm&&e.pm.dragging())&&(e.remove(),this.map.fire("pm:remove",{layer:e}))},globalDragModeEnabled:function(){return!!this._globalDragMode},enableGlobalDragMode:function(){var t=this.findLayers();this._globalDragMode=!0,t.forEach((function(t){t.pm.enableLayerDrag()})),this.map.on("layeradd",this.layerAddHandler,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode)},disableGlobalDragMode:function(){var t=this.findLayers();this._globalDragMode=!1,t.forEach((function(t){t.pm.disableLayerDrag()})),this.map.off("layeradd",this.layerAddHandler,this),this.Toolbar.toggleButton("dragMode",this._globalDragMode)},toggleGlobalDragMode:function(){this.globalDragModeEnabled()?this.disableGlobalDragMode():this.enableGlobalDragMode()},layerAddHandler:function(t){var e=t.layer;e.pm&&!e._pmTempLayer&&(this.globalRemovalEnabled()&&(this.disableGlobalRemovalMode(),this.enableGlobalRemovalMode()),this.globalEditEnabled()&&(this.disableGlobalEditMode(),this.enableGlobalEditMode()),this.globalDragModeEnabled()&&(this.disableGlobalDragMode(),this.enableGlobalDragMode()))},disableGlobalRemovalMode:function(){var t=this;this._globalRemovalMode=!1,this.map.eachLayer((function(e){e.off("click",t.removeLayer,t)})),this.map.off("layeradd",this.layerAddHandler,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode)},enableGlobalRemovalMode:function(){var t=this;this._globalRemovalMode=!0,this.map.eachLayer((function(e){(function(t){return t.pm&&!(t.pm.options&&t.pm.options.preventMarkerRemoval)})(e)&&e.on("click",t.removeLayer,t)})),this.map.on("layeradd",this.layerAddHandler,this),this.Toolbar.toggleButton("deleteLayer",this._globalRemovalMode)},toggleGlobalRemovalMode:function(){this.globalRemovalEnabled()?this.disableGlobalRemovalMode():this.enableGlobalRemovalMode()},globalRemovalEnabled:function(){return!!this._globalRemovalMode},globalEditEnabled:function(){return this._globalEditMode},enableGlobalEditMode:function(t){var e=this.findLayers();this._globalEditMode=!0,e.forEach((function(e){e.pm.enable(t)})),this.map.on("layeradd",this.layerAddHandler,this),this.Toolbar.toggleButton("editPolygon",this._globalEditMode),this._fireEditModeEvent(!0)},disableGlobalEditMode:function(){var t=this.findLayers();this._globalEditMode=!1,t.forEach((function(t){t.pm.disable()})),this.map.on("layeroff",this.layerAddHandler,this),this.Toolbar.toggleButton("editPolygon",this._globalEditMode),this._fireEditModeEvent(!1)},_fireEditModeEvent:function(t){this.map.fire("pm:globaleditmodetoggled",{enabled:t,map:this.map})},toggleGlobalEditMode:function(t){this.globalEditEnabled()?this.disableGlobalEditMode():this.enableGlobalEditMode(t)}});e.a=n},function(t,e,i){"use strict";var n=i(25);L.Control.PMButton=n.a;var r=L.Class.extend({options:{drawMarker:!0,drawRectangle:!0,drawPolyline:!0,drawPolygon:!0,drawCircle:!0,editMode:!0,dragMode:!0,cutPolygon:!0,removalMode:!0,position:"topleft"},initialize:function(t){this.map=t,this.buttons={},this.isVisible=!1,this.drawContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-draw leaflet-bar leaflet-control"),this.editContainer=L.DomUtil.create("div","leaflet-pm-toolbar leaflet-pm-edit leaflet-bar leaflet-control"),this._defineButtons()},getButtons:function(){return this.buttons},addControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;"undefined"!=typeof t.editPolygon&&(t.editMode=t.editPolygon),"undefined"!=typeof t.deleteLayer&&(t.removalMode=t.deleteLayer),L.Util.setOptions(this,t),this.applyIconStyle(),this._showHideButtons(),this.isVisible=!0},applyIconStyle:function(){var t=this.getButtons(),e={geomanIcons:{drawMarker:"control-icon leaflet-pm-icon-marker",drawPolyline:"control-icon leaflet-pm-icon-polyline",drawRectangle:"control-icon leaflet-pm-icon-rectangle",drawPolygon:"control-icon leaflet-pm-icon-polygon",drawCircle:"control-icon leaflet-pm-icon-circle",editMode:"control-icon leaflet-pm-icon-edit",dragMode:"control-icon leaflet-pm-icon-drag",cutPolygon:"control-icon leaflet-pm-icon-cut",removalMode:"control-icon leaflet-pm-icon-delete"}};for(var i in t){var n=t[i];L.Util.setOptions(n,{className:e.geomanIcons[i]})}},removeControls:function(){var t=this.getButtons();for(var e in t)t[e].remove();this.isVisible=!1},toggleControls:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.options;this.isVisible?this.removeControls():this.addControls(t)},_addButton:function(t,e){return this.buttons[t]=e,this.options[t]=this.options[t]||!1,this.buttons[t]},triggerClickOnToggledButtons:function(t){for(var e in this.buttons)this.buttons[e]!==t&&this.buttons[e].toggled()&&this.buttons[e]._triggerClick()},toggleButton:function(t,e){return"editPolygon"===t&&(t="editMode"),"deleteLayer"===t&&(t="removalMode"),this.triggerClickOnToggledButtons(this.buttons[t]),this.buttons[t].toggle(e)},_defineButtons:function(){var t=this,e={className:"control-icon leaflet-pm-icon-marker",title:"Draw Marker",jsClass:"Marker",onClick:function(){},afterClick:function(){t.map.pm.Draw.Marker.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},i={title:"Draw Polygon",className:"control-icon leaflet-pm-icon-polygon",jsClass:"Poly",onClick:function(){},afterClick:function(){t.map.pm.Draw.Poly.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},n={className:"control-icon leaflet-pm-icon-polyline",title:"Draw Polyline",jsClass:"Line",onClick:function(){},afterClick:function(){t.map.pm.Draw.Line.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["finish","removeLastVertex","cancel"]},r={title:"Draw Circle",className:"control-icon leaflet-pm-icon-circle",jsClass:"Circle",onClick:function(){},afterClick:function(){t.map.pm.Draw.Circle.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},a={title:"Draw Rectangle",className:"control-icon leaflet-pm-icon-rectangle",jsClass:"Rectangle",onClick:function(){},afterClick:function(){t.map.pm.Draw.Rectangle.toggle()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,actions:["cancel"]},o={title:"Edit Layers",className:"control-icon leaflet-pm-icon-edit",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalEditMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["cancel"]},s={title:"Drag Layers",className:"control-icon leaflet-pm-icon-drag",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalDragMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["cancel"]},l={title:"Cut Layers",className:"control-icon leaflet-pm-icon-cut",jsClass:"Cut",onClick:function(){},afterClick:function(){t.map.pm.Draw.Cut.toggle({snappable:!0,cursorMarker:!0,allowSelfIntersection:!1})},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["finish","removeLastVertex","cancel"]},u={title:"Removal Mode",className:"control-icon leaflet-pm-icon-delete",onClick:function(){},afterClick:function(){t.map.pm.toggleGlobalRemovalMode()},doToggle:!0,toggleStatus:!1,disableOtherButtons:!0,position:this.options.position,tool:"edit",actions:["cancel"]};this._addButton("drawMarker",new L.Control.PMButton(e)),this._addButton("drawPolyline",new L.Control.PMButton(n)),this._addButton("drawRectangle",new L.Control.PMButton(a)),this._addButton("drawPolygon",new L.Control.PMButton(i)),this._addButton("drawCircle",new L.Control.PMButton(r)),this._addButton("editMode",new L.Control.PMButton(o)),this._addButton("dragMode",new L.Control.PMButton(s)),this._addButton("cutPolygon",new L.Control.PMButton(l)),this._addButton("removalMode",new L.Control.PMButton(u))},_showHideButtons:function(){this.removeControls();var t=this.getButtons();for(var e in t)this.options[e]&&(t[e].setPosition(this.options.position),t[e].addTo(this.map))}});e.a=r},function(t,e,i){"use strict";var n=L.Control.extend({options:{position:"topleft"},initialize:function(t){this._button=L.Util.setOptions(this,t)},onAdd:function(t){return this._map=t,this._container="edit"===this._button.tool?this._map.pm.Toolbar.editContainer:this._map.pm.Toolbar.drawContainer,this.buttonsDomNode=this._makeButton(this._button),this._container.appendChild(this.buttonsDomNode),this._container},onRemove:function(){return this.buttonsDomNode.remove(),this._container},getText:function(){return this._button.text},getIconUrl:function(){return this._button.iconUrl},destroy:function(){this._button={},this._update()},toggle:function(t){return this._button.toggleStatus="boolean"==typeof t?t:!this._button.toggleStatus,this._applyStyleClasses(),this._button.toggleStatus},toggled:function(){return this._button.toggleStatus},onCreate:function(){this.toggle(!1)},_triggerClick:function(t){this._button.onClick(t),this._clicked(t),this._button.afterClick(t)},_makeButton:function(t){var e=this,i=L.DomUtil.create("div","button-container",this._container),n=L.DomUtil.create("a","leaflet-buttons-control-button",i),r=L.DomUtil.create("div","leaflet-pm-actions-container",i),a={cancel:{text:"Cancel",onClick:function(){this._triggerClick()}},removeLastVertex:{text:"Remove Last Vertex",onClick:function(){this._map.pm.Draw[t.jsClass]._removeLastVertex()}},finish:{text:"Finish",onClick:function(e){this._map.pm.Draw[t.jsClass]._finishShape(e)}}};t.actions.forEach((function(t){var i=a[t],n=L.DomUtil.create("a","leaflet-pm-action action-".concat(t),r);n.innerHTML=i.text,L.DomEvent.addListener(n,"click",i.onClick,e),L.DomEvent.disableClickPropagation(n)})),t.toggleStatus&&L.DomUtil.addClass(n,"active");var o=L.DomUtil.create("div","control-icon",n);return t.title&&o.setAttribute("title",t.title),t.iconUrl&&o.setAttribute("src",t.iconUrl),t.className&&L.DomUtil.addClass(o,t.className),L.DomEvent.addListener(n,"click",(function(){e._button.disableOtherButtons&&e._map.pm.Toolbar.triggerClickOnToggledButtons(e)})),L.DomEvent.addListener(n,"click",this._triggerClick,this),L.DomEvent.disableClickPropagation(n),i},_applyStyleClasses:function(){this._container&&(this._button.toggleStatus?L.DomUtil.addClass(this.buttonsDomNode,"active"):L.DomUtil.removeClass(this.buttonsDomNode,"active"))},_clicked:function(){this._button.doToggle&&this.toggle()}});e.a=n},function(t,e,i){"use strict";var n=i(0);n.a.Marker=n.a.extend({initialize:function(t){this._map=t,this._shape="Marker",this.toolbarButtonName="drawMarker"},enable:function(t){L.Util.setOptions(this,t),this._enabled=!0,this._map.on("click",this._createMarker,this),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._hintMarker=L.marker([0,0],this.options.markerStyle),this._hintMarker._pmTempLayer=!0,this._hintMarker.addTo(this._map),this.options.tooltips&&this._hintMarker.bindTooltip("Click to place marker",{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._layer=this._hintMarker,this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.eachLayer((function(t){t instanceof L.Marker&&t.pm&&t.pm.enable()}))},disable:function(){this._enabled&&(this._map.off("click",this._createMarker,this),this._hintMarker.remove(),this._map.off("mousemove",this._syncHintMarker,this),this._map.eachLayer((function(t){t instanceof L.Marker&&t.pm&&!t._pmTempLayer&&t.pm.disable()})),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this._enabled=!1)},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_createMarker:function(t){if(t.latlng){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng(),i=new L.Marker(e,this.options.markerStyle);i.addTo(this._map),i.pm.enable(),this._map.fire("pm:create",{shape:this._shape,marker:i,layer:i}),this._cleanupSnapping()}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}}})},function(t,e,i){"use strict";var n=i(12),r=i.n(n),a=i(0);a.a.Line=a.a.extend({initialize:function(t){this._map=t,this._shape="Line",this.toolbarButtonName="drawPolyline",this._doesSelfIntersect=!1},enable:function(t){L.Util.setOptions(this,t),this.options.finishOnDoubleClick&&!this.options.finishOn&&(this.options.finishOn="dblclick"),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.polyline([],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._hintline=L.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._hintMarker=L.marker(this._map.getCenter(),{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip("Click to place first vertex",{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._map._container.style.cursor="crosshair",this._map.on("click",this._createVertex,this),this.options.finishOn&&this._map.on(this.options.finishOn,this._finishShape,this),"dblclick"===this.options.finishOn&&(this.tempMapDoubleClickZoomState=this._map.doubleClickZoom._enabled,this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.disable()),this._map.on("mousemove",this._syncHintMarker,this),this._hintMarker.on("move",this._syncHintLine,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._createVertex,this),this._map.off("mousemove",this._syncHintMarker,this),this.options.finishOn&&this._map.off(this.options.finishOn,this._finishShape,this),this.tempMapDoubleClickZoomState&&this._map.doubleClickZoom.enable(),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},hasSelfIntersection:function(){return r()(this._layer.toGeoJSON(15)).features.length>0},_syncHintLine:function(){var t=this._layer.getLatLngs();if(t.length>0){var e=t[t.length-1];this._hintline.setLatLngs([e,this._hintMarker.getLatLng()])}},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}this.options.allowSelfIntersection||this._handleSelfIntersection(!0,t.latlng)},_handleSelfIntersection:function(t,e){var i=L.polyline(this._layer.getLatLngs());t&&(e||(e=this._hintMarker.getLatLng()),i.addLatLng(e));var n=r()(i.toGeoJSON(15));this._doesSelfIntersect=n.features.length>0,this._doesSelfIntersect?this._hintline.setStyle({color:"red"}):this._hintline.setStyle(this.options.hintlineStyle)},_removeLastVertex:function(){var t=this._layer.getLatLngs(),e=t.pop();if(t.length<1)this.disable();else{var i=this._layerGroup.getLayers().filter((function(t){return t instanceof L.Marker})).filter((function(t){return!L.DomUtil.hasClass(t._icon,"cursor-marker")})).find((function(t){return t.getLatLng()===e}));this._layerGroup.removeLayer(i),this._layer.setLatLngs(t),this._syncHintLine()}},_createVertex:function(t){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!0,t.latlng),!this._doesSelfIntersect)){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng();if(e.equals(this._layer.getLatLngs()[0]))this._finishShape(t);else{var i=0===this._layer.getLatLngs().length;this._layer.addLatLng(e);var n=this._createMarker(e,i);this._hintline.setLatLngs([e,e]),this._layer.fire("pm:vertexadded",{shape:this._shape,workingLayer:this._layer,marker:n,latlng:e})}}},_finishShape:function(){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect)){var t=this._layer.getLatLngs();if(!(t.length<=1)){var e=L.polyline(t,this.options.pathOptions).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:e}),this.options.snappable&&this._cleanupSnapping()}}},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return i._pmTempLayer=!0,this._layerGroup.addLayer(i),i.on("click",this._finishShape,this),e&&this._hintMarker.setTooltipContent("Click to continue drawing"),2===this._layer.getLatLngs().length&&this._hintMarker.setTooltipContent("Click any existing marker to finish"),i}})},function(t,e,i){"use strict";var n=i(0);n.a.Poly=n.a.Line.extend({initialize:function(t){this._map=t,this._shape="Poly",this.toolbarButtonName="drawPolygon"},_finishShape:function(t){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect)){var e=this._layer.getLatLngs();if(!(e.length<=1)){t&&"dblclick"===t.type&&e.splice(e.length-1,1);var i=L.polygon(e,this.options.pathOptions).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:i}),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex}}},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return i._pmTempLayer=!0,this._layerGroup.addLayer(i),e&&(i.on("click",this._finishShape,this),this._tempSnapLayerIndex=this._otherSnapLayers.push(i)-1,this.options.snappable&&this._cleanupSnapping()),e&&this._hintMarker.setTooltipContent("Click to continue drawing"),3===this._layer.getLatLngs().length&&this._hintMarker.setTooltipContent("Click first marker to finish"),i}})},function(t,e,i){"use strict";var n=i(0);n.a.Rectangle=n.a.extend({initialize:function(t){this._map=t,this._shape="Rectangle",this.toolbarButtonName="drawRectangle"},enable:function(t){if(L.Util.setOptions(this,t),this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.rectangle([[0,0],[0,0]],this.options.pathOptions),this._layer._pmTempLayer=!0,this._startMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-start-marker"}),draggable:!0,zIndexOffset:100,opacity:this.options.cursorMarker?1:0}),this._startMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._startMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.tooltips&&this._hintMarker.bindTooltip("Click to place first vertex",{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this.options.cursorMarker){L.DomUtil.addClass(this._hintMarker._icon,"visible"),this._styleMarkers=[];for(var e=0;e<2;e+=1){var i=L.marker([0,0],{icon:L.divIcon({className:"marker-icon rect-style-marker"}),draggable:!0,zIndexOffset:100});i._pmTempLayer=!0,this._layerGroup.addLayer(i),this._styleMarkers.push(i)}}this._map._container.style.cursor="crosshair",this._map.on("click",this._placeStartingMarkers,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeStartingMarkers,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_placeStartingMarkers:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng();L.DomUtil.addClass(this._startMarker._icon,"visible"),this._startMarker.setLatLng(e),this.options.cursorMarker&&this._styleMarkers&&this._styleMarkers.forEach((function(t){L.DomUtil.addClass(t._icon,"visible"),t.setLatLng(e)})),this._map.off("click",this._placeStartingMarkers,this),this._map.on("click",this._finishShape,this),this._hintMarker.setTooltipContent("Click to finish"),this._setRectangleOrigin()},_setRectangleOrigin:function(){var t=this._startMarker.getLatLng();t&&(this._layerGroup.addLayer(this._layer),this._layer.setLatLngs([t,t]),this._hintMarker.on("move",this._syncRectangleSize,this))},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}},_syncRectangleSize:function(){var t=this,e=this._startMarker.getLatLng(),i=this._hintMarker.getLatLng();if(this._layer.setBounds([e,i]),this.options.cursorMarker&&this._styleMarkers){var n=[];this._findCorners().forEach((function(e){e.equals(t._startMarker.getLatLng())||e.equals(t._hintMarker.getLatLng())||n.push(e)})),n.forEach((function(e,i){t._styleMarkers[i].setLatLng(e)}))}},_finishShape:function(t){var e=this._startMarker.getLatLng(),i=t.latlng,n=L.rectangle([e,i],this.options.pathOptions).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:n})},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}})},function(t,e,i){"use strict";var n=i(0);n.a.Circle=n.a.extend({initialize:function(t){this._map=t,this._shape="Circle",this.toolbarButtonName="drawCircle"},enable:function(t){L.Util.setOptions(this,t),this.options.radius=0,this._enabled=!0,this._layerGroup=new L.LayerGroup,this._layerGroup._pmTempLayer=!0,this._layerGroup.addTo(this._map),this._layer=L.circle([0,0],this.options.templineStyle),this._layer._pmTempLayer=!0,this._layerGroup.addLayer(this._layer),this._centerMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon"}),draggable:!1,zIndexOffset:100}),this._centerMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._centerMarker),this._hintMarker=L.marker([0,0],{icon:L.divIcon({className:"marker-icon cursor-marker"})}),this._hintMarker._pmTempLayer=!0,this._layerGroup.addLayer(this._hintMarker),this.options.cursorMarker&&L.DomUtil.addClass(this._hintMarker._icon,"visible"),this.options.tooltips&&this._hintMarker.bindTooltip("Click to place circle center",{permanent:!0,offset:L.point(0,10),direction:"bottom",opacity:.8}).openTooltip(),this._hintline=L.polyline([],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._layerGroup.addLayer(this._hintline),this._map._container.style.cursor="crosshair",this._map.on("click",this._placeCenterMarker,this),this._map.on("mousemove",this._syncHintMarker,this),this._map.fire("pm:drawstart",{shape:this._shape,workingLayer:this._layer}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!0),this._otherSnapLayers=[]},disable:function(){this._enabled&&(this._enabled=!1,this._map._container.style.cursor="",this._map.off("click",this._finishShape,this),this._map.off("click",this._placeCenterMarker,this),this._map.off("mousemove",this._syncHintMarker,this),this._map.removeLayer(this._layerGroup),this._map.fire("pm:drawend",{shape:this._shape}),this._map.pm.Toolbar.toggleButton(this.toolbarButtonName,!1),this.options.snappable&&this._cleanupSnapping())},enabled:function(){return this._enabled},toggle:function(t){this.enabled()?this.disable():this.enable(t)},_syncHintLine:function(){var t=this._centerMarker.getLatLng();this._hintline.setLatLngs([t,this._hintMarker.getLatLng()])},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),e=this._hintMarker.getLatLng(),i=t.distanceTo(e);this._layer.setRadius(i)},_syncHintMarker:function(t){if(this._hintMarker.setLatLng(t.latlng),this.options.snappable){var e=t;e.target=this._hintMarker,this._handleSnapping(e)}},_placeCenterMarker:function(t){this._hintMarker._snapped||this._hintMarker.setLatLng(t.latlng);var e=this._hintMarker.getLatLng();this._centerMarker.setLatLng(e),this._map.off("click",this._placeCenterMarker,this),this._map.on("click",this._finishShape,this),this._placeCircleCenter()},_placeCircleCenter:function(){var t=this._centerMarker.getLatLng();t&&(this._layer.setLatLng(t),this._hintMarker.on("move",this._syncHintLine,this),this._hintMarker.on("move",this._syncCircleRadius,this),this._hintMarker.setTooltipContent("Click to finish circle"),this._layer.fire("pm:centerplaced",{shape:this._shape,workingLayer:this._layer,latlng:t}))},_finishShape:function(t){var e=this._centerMarker.getLatLng(),i=t.latlng,n=e.distanceTo(i),r=Object.assign({},this.options.pathOptions,{radius:n}),a=L.circle(e,r).addTo(this._map);this.disable(),this._map.fire("pm:create",{shape:this._shape,layer:a})},_createMarker:function(t){var e=new L.Marker(t,{draggable:!1,icon:L.divIcon({className:"marker-icon"})});return e._pmTempLayer=!0,this._layerGroup.addLayer(e),e}})},function(t,e,i){"use strict";var n=i(32),r=i.n(n),a=i(33),o=i(0);o.a.Cut=o.a.Poly.extend({initialize:function(t){this._map=t,this._shape="Cut",this.toolbarButtonName="cutPolygon"},_cut:function(t){var e=this,i=this._map._layers;Object.keys(i).map((function(t){return i[t]})).filter((function(t){return t.pm})).filter((function(t){return t instanceof L.Polygon})).filter((function(e){return e!==t})).filter((function(e){try{return!!r()(t.toGeoJSON(15),e.toGeoJSON(15))}catch(i){return console.error("You cant cut polygons with self-intersections"),!1}})).forEach((function(i){var n=Object(a.a)(i.toGeoJSON(15),t.toGeoJSON(15)),r=L.geoJSON(n,i.options).addTo(e._map);r.addTo(e._map),r.pm.enable(e.options),r.pm.disable(),i.fire("pm:cut",{shape:e._shape,layer:r,originalLayer:i}),e._map.fire("pm:cut",{shape:e._shape,layer:r,originalLayer:i}),i._pmTempLayer=!0,t._pmTempLayer=!0,i.remove(),t.remove(),0===r.getLayers().length&&e._map.pm.removeLayer({target:r})}))},_finishShape:function(){if(this.options.allowSelfIntersection||(this._handleSelfIntersection(!1),!this._doesSelfIntersect)){var t=this._layer.getLatLngs(),e=L.polygon(t,this.options.pathOptions);this._cut(e),this.disable(),this._cleanupSnapping(),this._otherSnapLayers.splice(this._tempSnapLayerIndex,1),delete this._tempSnapLayerIndex}}})},function(t,e,i){"use strict";var n=this&&this.__importStar||function(t){if(t&&t.__esModule)return t;var e={};if(null!=t)for(var i in t)Object.hasOwnProperty.call(t,i)&&(e[i]=t[i]);return e["default"]=t,e};Object.defineProperty(e,"__esModule",{value:!0});var r=i(2),a=i(13),o=n(i(14));e["default"]=function t(e,i,n){void 0===n&&(n={});var s=a.getGeom(e),l=a.getGeom(i);if("Polygon"===s.type&&"Polygon"===l.type){var u=o.intersection(s.coordinates,l.coordinates);if(null===u||0===u.length)return null;if(1===u.length){var c=u[0][0][0],h=u[0][0][u[0][0].length-1];return c[0]===h[0]&&c[1]===h[1]?r.polygon(u[0],n.properties):null}return r.multiPolygon(u,n.properties)}if("MultiPolygon"===s.type){for(var d=[],p=0,f=s.coordinates;p<f.length;p++){var m=f[p],g=t(a.getGeom(r.polygon(m)),l);if(g){var y=a.getGeom(g);if("Polygon"===y.type)d.push(y.coordinates);else{if("MultiPolygon"!==y.type)throw new Error("intersection is invalid");d=d.concat(y.coordinates)}}}return 0===d.length?null:1===d.length?r.polygon(d[0],n.properties):r.multiPolygon(d,n.properties)}if("MultiPolygon"===l.type)return t(l,s);throw new Error("poly1 and poly2 must be either polygons or multiPolygons")}},function(t,e,i){"use strict";var n=i(14),r=(i.n(n),i(34)),a=i.n(r),o=i(2),s=(i.n(o),i(13)),l=(i.n(s),i(15));function u(t){switch(t.type){case"Polygon":return a()(t)>1?t:null;case"MultiPolygon":var e=[];if(Object(l.flattenEach)(t,(function(t){a()(t)>1&&e.push(t.geometry.coordinates)})),e.length)return{type:"MultiPolygon",coordinates:e}}}i.n(l),e.a=function(t,e){var i=Object(s.getGeom)(t),r=Object(s.getGeom)(e),a=t.properties||{};if(i=u(i),r=u(r),!i)return null;if(!r)return Object(o.feature)(i,a);var l=n.diff(i.coordinates,r.coordinates);return 0===l.length?null:1===l.length?Object(o.polygon)(l[0],a):Object(o.multiPolygon)(l,a)}},function(t,e,i){"use strict";Object.defineProperty(e,"__esModule",{value:!0});var n=i(15),r=6378137;function a(t){var e=0;if(t&&t.length>0){e+=Math.abs(o(t[0]));for(var i=1;i<t.length;i++)e-=Math.abs(o(t[i]))}return e}function o(t){var e,i,n,a,o,l,u=0,c=t.length;if(c>2){for(l=0;l<c;l++)l===c-2?(n=c-2,a=c-1,o=0):l===c-1?(n=c-1,a=0,o=1):(n=l,a=l+1,o=l+2),e=t[n],i=t[a],u+=(s(t[o][0])-s(e[0]))*Math.sin(s(i[1]));u=u*r*r/2}return u}function s(t){return t*Math.PI/180}e["default"]=function(t){return n.geomReduce(t,(function(t,e){return t+function(t){var e,i=0;switch(t.type){case"Polygon":return a(t.coordinates);case"MultiPolygon":for(e=0;e<t.coordinates.length;e++)i+=a(t.coordinates[e]);return i;case"Point":case"MultiPoint":case"LineString":case"MultiLineString":return 0}return 0}(e)}),0)}},function(t,e,i){"use strict";var n={enableLayerDrag:function(){if(this._layer instanceof L.Marker)this._layer.dragging.enable();else{this._tempDragCoord=null;var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.addClass(t,"leaflet-pm-draggable"),this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!0,this._layer.on("mousedown",this._dragMixinOnMouseDown,this)}},disableLayerDrag:function(){if(this._layer instanceof L.Marker)this._layer.dragging.disable();else{var t=this._layer._path?this._layer._path:this._layer._renderer._container;L.DomUtil.removeClass(t,"leaflet-pm-draggable"),this._safeToCacheDragState=!1,this._layer.off("mousedown",this._dragMixinOnMouseDown,this)}},_dragMixinOnMouseUp:function(){var t=this,e=this._layer._path?this._layer._path:this._layer._renderer._container;return this._originalMapDragState&&this._layer._map.dragging.enable(),this._safeToCacheDragState=!0,this._layer._map.off("mousemove",this._dragMixinOnMouseMove,this),this._layer.off("mouseup",this._dragMixinOnMouseUp,this),!!this._dragging&&(window.setTimeout((function(){t._dragging=!1,L.DomUtil.removeClass(e,"leaflet-pm-dragging"),t._layer.fire("pm:dragend"),t._fireEdit()}),10),!0)},_dragMixinOnMouseMove:function(t){var e=this._layer._path?this._layer._path:this._layer._renderer._container;this._dragging||(this._dragging=!0,L.DomUtil.addClass(e,"leaflet-pm-dragging"),this._layer.bringToFront(),this._originalMapDragState&&this._layer._map.dragging.disable(),this._layer.fire("pm:dragstart")),this._onLayerDrag(t)},_dragMixinOnMouseDown:function(t){t.originalEvent.button>0||(this._safeToCacheDragState&&(this._originalMapDragState=this._layer._map.dragging._enabled,this._safeToCacheDragState=!1),this._tempDragCoord=t.latlng,this._layer.on("mouseup",this._dragMixinOnMouseUp,this),this._layer._map.on("mousemove",this._dragMixinOnMouseMove,this))},dragging:function(){return this._dragging},_onLayerDrag:function(t){var e=t.latlng,i=e.lat-this._tempDragCoord.lat,n=e.lng-this._tempDragCoord.lng;if(this._layer instanceof L.CircleMarker){var r=function(t){return{lat:t.lat+i,lng:t.lng+n}}(this._layer.getLatLng());this._layer.setLatLng(r).redraw()}else{var a=function t(e){return e.map((function(e){return Array.isArray(e)?t(e):{lat:e.lat+i,lng:e.lng+n}}))}(this._layer.getLatLngs());this._layer.setLatLngs(a).redraw()}this._tempDragCoord=e,this._layer.fire("pm:drag")}};e.a=n},function(t,e,i){"use strict";i(1).a.LayerGroup=L.Class.extend({initialize:function(t){var e=this;this._layerGroup=t,this._layers=this.findLayers(),this._layers.forEach((function(t){return e._initLayer(t)})),this._layerGroup.on("layeradd",(function(t){t.target._pmTempLayer||(e._layers=e.findLayers(),t.layer.pm&&e._initLayer(t.layer),t.target.pm.enabled()&&e.enable(e.getOptions()))}))},findLayers:function(){var t=this._layerGroup.getLayers();return(t=(t=t.filter((function(t){return!(t instanceof L.LayerGroup)}))).filter((function(t){return!!t.pm}))).filter((function(t){return!t._pmTempLayer}))},_initLayer:function(t){var e=this;["pm:edit","pm:update","pm:remove","pm:dragstart","pm:drag","pm:dragend","pm:snap","pm:unsnap","pm:cut","pm:intersect","pm:raiseMarkers","pm:markerdragend","pm:markerdragstart","pm:vertexadded","pm:vertexremoved","pm:centerplaced"].forEach((function(i){t.on(i,e._fireEvent,e)})),t.pm._layerGroup=this._layerGroup},_fireEvent:function(t){this._layerGroup.fireEvent(t.type,t)},toggleEdit:function(t){this._options=t,this._layers.forEach((function(e){e.pm.toggleEdit(t)}))},enable:function(t){this._options=t,this._layers.forEach((function(e){e.pm.enable(t)}))},disable:function(){this._layers.forEach((function(t){t.pm.disable()}))},enabled:function(){var t=this._layers.find((function(t){return t.pm.enabled()}));return!!t},dragging:function(){var t=this._layers.find((function(t){return t.pm.dragging()}));return!!t},getOptions:function(){return this._options}})},function(t,e,i){"use strict";var n=i(1);n.a.Marker=n.a.extend({initialize:function(t){this._layer=t,this._enabled=!1,this._layer.on("dragend",this._onDragEnd,this)},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{draggable:!0,snappable:!0};L.Util.setOptions(this,t),this._map=this._layer._map,this.enabled()||(this._enabled=!0,this.options.preventMarkerRemoval||this._layer.on("contextmenu",this._removeMarker,this),this.options.draggable&&this._layer.dragging.enable(),this.options.snappable&&this._initSnappableMarkers())},enabled:function(){return this._enabled},disable:function(){this._enabled=!1,this._layer.dragging&&this._layer.dragging.disable(),this._layer.off("contextmenu",this._removeMarker,this),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1},_removeMarker:function(t){var e=t.target;e.remove(),e.fire("pm:remove")},_onDragEnd:function(t){t.target.fire("pm:edit"),this._layerEdited=!0},_initSnappableMarkers:function(){var t=this._layer;this.options.snapDistance=this.options.snapDistance||30,t.off("drag",this._handleSnapping,this),t.on("drag",this._handleSnapping,this),t.off("dragend",this._cleanupSnapping,this),t.on("dragend",this._cleanupSnapping,this),t.off("pm:dragstart",this._unsnap,this),t.on("pm:dragstart",this._unsnap,this)}})},function(t,e,i){"use strict";var n=i(12),r=i.n(n),a=i(39),o=i.n(a),s=i(1),l=i(11);s.a.Line=s.a.extend({initialize:function(t){this._layer=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enable:function(t){L.Util.setOptions(this,t),this._map=this._layer._map,this._map&&(this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this._layer.on("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.on("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval,this),this.options.allowSelfIntersection||(this.cachedColor||(this.cachedColor=this._layer.options.color),this.isRed=!1,this._handleLayerStyle()))},_onLayerRemove:function(t){this.disable(t.target)},enabled:function(){return this._enabled},disable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer;if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._markerGroup.clearLayers(),t.off("mousedown"),t.off("mouseup"),this._layer.off("remove",this._onLayerRemove,this),this.options.allowSelfIntersection||this._layer.off("pm:vertexremoved",this._handleSelfIntersectionOnVertexRemoval);var e=t._path?t._path:this._layer._renderer._container;return L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this.hasSelfIntersection()&&L.DomUtil.removeClass(e,"leaflet-pm-invalid"),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1,!0},hasSelfIntersection:function(){return r()(this._layer.toGeoJSON(15)).features.length>0},_handleSelfIntersectionOnVertexRemoval:function(){this._handleLayerStyle(!0),this.hasSelfIntersection()&&(this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers())},_handleLayerStyle:function(t){var e=this,i=this._layer;if(this.hasSelfIntersection()){if(this.isRed)return;t?(i.setStyle({color:"red"}),this.isRed=!0,window.setTimeout((function(){i.setStyle({color:e.cachedColor}),e.isRed=!1}),200)):(i.setStyle({color:"red"}),this.isRed=!0),this._layer.fire("pm:intersect",{intersection:r()(this._layer.toGeoJSON(15))})}else i.setStyle({color:this.cachedColor}),this.isRed=!1},_initMarkers:function(){var t=this,e=this._map,i=this._layer.getLatLngs();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,e.addLayer(this._markerGroup),this._markers=function e(i){if(Array.isArray(i[0]))return i.map(e,t);var n=i.map(t._createMarker,t);return i.map((function(e,r){var a=t.isPolygon()?(r+1)%i.length:r+1;return t._createMiddleMarker(n[r],n[a])})),n}(i),this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t){var e=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return e._pmTempLayer=!0,e.on("dragstart",this._onMarkerDragStart,this),e.on("move",this._onMarkerDrag,this),e.on("dragend",this._onMarkerDragEnd,this),this.options.preventMarkerRemoval||e.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(e),e},_createMiddleMarker:function(t,e){var i=this;if(!t||!e)return!1;var n=l.a.calcMiddleLatLng(this._map,t.getLatLng(),e.getLatLng()),r=this._createMarker(n),a=L.divIcon({className:"marker-icon marker-icon-middle"});return r.setIcon(a),t._middleMarkerNext=r,e._middleMarkerPrev=r,r.on("click",(function(){var n=L.divIcon({className:"marker-icon"});r.setIcon(n),i._addMarker(r,t,e)})),r.on("movestart",(function(){r.on("moveend",(function(){var t=L.divIcon({className:"marker-icon"});r.setIcon(t),r.off("moveend")})),i._addMarker(r,t,e)})),r},_addMarker:function(t,e,i){t.off("movestart"),t.off("click");var n=t.getLatLng(),r=this._layer._latlngs,a=this.findDeepMarkerIndex(this._markers,e),s=a.indexPath,l=a.index,u=a.parentPath,c=s.length>1?o()(r,u):r,h=s.length>1?o()(this._markers,u):this._markers;c.splice(l+1,0,n),h.splice(l+1,0,t),this._layer.setLatLngs(r),this._createMiddleMarker(e,t),this._createMiddleMarker(t,i),this._fireEdit(),this._layer.fire("pm:vertexadded",{layer:this._layer,marker:t,indexPath:this.findDeepMarkerIndex(this._markers,t).indexPath,latlng:n}),this.options.snappable&&this._initSnappableMarkers()},_removeMarker:function(t){if(!this.options.allowSelfIntersection){var e=this._layer.getLatLngs();this._coordsBeforeEdit=JSON.parse(JSON.stringify(e))}var i=t.target,n=this._layer.getLatLngs(),r=this.findDeepMarkerIndex(this._markers,i),a=r.indexPath,s=r.index,l=r.parentPath;if(a){var u,c,h=a.length>1?o()(n,l):n,d=a.length>1?o()(this._markers,l):this._markers;if(h.splice(s,1),this._layer.setLatLngs(n),h.length<=1&&(h.splice(0,h.length),this._layer.setLatLngs(n),this.disable(),this.enable(this.options)),this.isEmptyDeep(n)&&this._layer.remove(),i._middleMarkerPrev&&this._markerGroup.removeLayer(i._middleMarkerPrev),i._middleMarkerNext&&this._markerGroup.removeLayer(i._middleMarkerNext),this._markerGroup.removeLayer(i),this.isPolygon()?(u=(s+1)%d.length,c=(s+(d.length-1))%d.length):(c=s-1<0?void 0:s-1,u=s+1>=d.length?void 0:s+1),u!==c){var p=d[c],f=d[u];this._createMiddleMarker(p,f)}d.splice(s,1),this._fireEdit(),this._layer.fire("pm:vertexremoved",{layer:this._layer,marker:i,indexPath:a})}},isEmptyDeep:function(t){return!function t(e){return e.filter((function(t){return![null,"",void 0].includes(t)})).reduce((function(e,i){return e.concat(Array.isArray(i)?t(i):i)}),[])}(t).length},findDeepMarkerIndex:function(t,e){var i;t.some(function t(n){return function(r,a){var o=n.concat(a);return r._leaflet_id===e._leaflet_id?(i=o,!0):Array.isArray(r)&&r.some(t(o))}}([]));var n={};return i&&(n={indexPath:i,index:i[i.length-1],parentPath:i.slice(0,i.length-1)}),n},updatePolygonCoordsFromMarkerDrag:function(t){var e=this._layer.getLatLngs(),i=t.getLatLng(),n=this.findDeepMarkerIndex(this._markers,t),r=n.indexPath,a=n.index,s=n.parentPath;(r.length>1?o()(e,s):e).splice(a,1,i),this._layer.setLatLngs(e).redraw()},_onMarkerDrag:function(t){var e=t.target,i=this.findDeepMarkerIndex(this._markers,e),n=i.indexPath,r=i.index,a=i.parentPath;if(n){this.updatePolygonCoordsFromMarkerDrag(e);var s=n.length>1?o()(this._markers,a):this._markers,u=(r+1)%s.length,c=(r+(s.length-1))%s.length,h=e.getLatLng(),d=s[c].getLatLng(),p=s[u].getLatLng();if(e._middleMarkerNext){var f=l.a.calcMiddleLatLng(this._map,h,p);e._middleMarkerNext.setLatLng(f)}if(e._middleMarkerPrev){var m=l.a.calcMiddleLatLng(this._map,h,d);e._middleMarkerPrev.setLatLng(m)}this.options.allowSelfIntersection||this._handleLayerStyle()}},_onMarkerDragEnd:function(t){var e=t.target,i=this.findDeepMarkerIndex(this._markers,e).indexPath;if(!this.options.allowSelfIntersection&&this.hasSelfIntersection())return this._layer.setLatLngs(this._coordsBeforeEdit),this._coordsBeforeEdit=null,this._initMarkers(),void this._handleLayerStyle();this._layer.fire("pm:markerdragend",{markerEvent:t,indexPath:i}),this._fireEdit()},_onMarkerDragStart:function(t){var e=t.target,i=this.findDeepMarkerIndex(this._markers,e).indexPath;this._layer.fire("pm:markerdragstart",{markerEvent:t,indexPath:i}),this.options.allowSelfIntersection||(this._coordsBeforeEdit=this._layer.getLatLngs())},_fireEdit:function(){this._layerEdited=!0,this._layer.fire("pm:edit")}})},function(t,e,i){var n=i(40);t.exports=function(t,e,i){var r=null==t?void 0:n(t,e);return void 0===r?i:r}},function(t,e,i){var n=i(41),r=i(81);t.exports=function(t,e){for(var i=0,a=(e=n(e,t)).length;null!=t&&i<a;)t=t[r(e[i++])];return i&&i==a?t:void 0}},function(t,e,i){var n=i(6),r=i(42),a=i(48),o=i(78);t.exports=function(t,e){return n(t)?t:r(t,e)?[t]:a(o(t))}},function(t,e,i){var r=i(6),a=i(7),o=/\.|\[(?:[^[\]]*|(["'])(?:(?!\1)[^\\]|\\.)*?\1)\]/,s=/^\w*$/;t.exports=function(t,e){if(r(t))return!1;var i=n(t);return!("number"!=i&&"symbol"!=i&&"boolean"!=i&&null!=t&&!a(t))||s.test(t)||!o.test(t)||null!=e&&t in Object(e)}},function(t,e,i){(function(e){var i="object"==n(e)&&e&&e.Object===Object&&e;t.exports=i}).call(e,i(44))},function(t,e){var i;i=function(){return this}();try{i=i||Function("return this")()||(0,eval)("this")}catch(r){"object"==("undefined"===typeof window?"undefined":n(window))&&(i=window)}t.exports=i},function(t,e,i){var n=i(8),r=Object.prototype,a=r.hasOwnProperty,o=r.toString,s=n?n.toStringTag:void 0;t.exports=function(t){var e=a.call(t,s),i=t[s];try{t[s]=void 0;var n=!0}catch(l){}var r=o.call(t);return n&&(e?t[s]=i:delete t[s]),r}},function(t,e){var i=Object.prototype.toString;t.exports=function(t){return i.call(t)}},function(t,e){t.exports=function(t){return null!=t&&"object"==n(t)}},function(t,e,i){var n=/[^.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|$))/g,r=/\\(\\)?/g,a=i(49)((function(t){var e=[];return 46===t.charCodeAt(0)&&e.push(""),t.replace(n,(function(t,i,n,a){e.push(n?a.replace(r,"$1"):i||t)})),e}));t.exports=a},function(t,e,i){var n=i(50),r=500;t.exports=function(t){var e=n(t,(function(t){return i.size===r&&i.clear(),t})),i=e.cache;return e}},function(t,e,i){var n=i(51),r="Expected a function";function a(t,e){if("function"!=typeof t||null!=e&&"function"!=typeof e)throw new TypeError(r);var i=function i(){var n=arguments,r=e?e.apply(this,n):n[0],a=i.cache;if(a.has(r))return a.get(r);var o=t.apply(this,n);return i.cache=a.set(r,o)||a,o};return i.cache=new(a.Cache||n),i}a.Cache=n,t.exports=a},function(t,e,i){var n=i(52),r=i(73),a=i(75),o=i(76),s=i(77);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype["delete"]=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},function(t,e,i){var n=i(53),r=i(65),a=i(72);t.exports=function(){this.size=0,this.__data__={hash:new n,map:new(a||r),string:new n}}},function(t,e,i){var n=i(54),r=i(61),a=i(62),o=i(63),s=i(64);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype["delete"]=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},function(t,e,i){var n=i(3);t.exports=function(){this.__data__=n?n(null):{},this.size=0}},function(t,e,i){var n=i(56),r=i(57),a=i(18),o=i(59),s=/^\[object .+?Constructor\]$/,l=Function.prototype,u=Object.prototype,c=l.toString,h=u.hasOwnProperty,d=RegExp("^"+c.call(h).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$");t.exports=function(t){return!(!a(t)||r(t))&&(n(t)?d:s).test(o(t))}},function(t,e,i){var n=i(16),r=i(18),a="[object AsyncFunction]",o="[object Function]",s="[object GeneratorFunction]",l="[object Proxy]";t.exports=function(t){if(!r(t))return!1;var e=n(t);return e==o||e==s||e==a||e==l}},function(t,e,i){var n=i(58),r=function(){var t=/[^.]+$/.exec(n&&n.keys&&n.keys.IE_PROTO||"");return t?"Symbol(src)_1."+t:""}();t.exports=function(t){return!!r&&r in t}},function(t,e,i){var n=i(9)["__core-js_shared__"];t.exports=n},function(t,e){var i=Function.prototype.toString;t.exports=function(t){if(null!=t){try{return i.call(t)}catch(e){}try{return t+""}catch(e){}}return""}},function(t,e){t.exports=function(t,e){return null==t?void 0:t[e]}},function(t,e){t.exports=function(t){var e=this.has(t)&&delete this.__data__[t];return this.size-=e?1:0,e}},function(t,e,i){var n=i(3),r="__lodash_hash_undefined__",a=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;if(n){var i=e[t];return i===r?void 0:i}return a.call(e,t)?e[t]:void 0}},function(t,e,i){var n=i(3),r=Object.prototype.hasOwnProperty;t.exports=function(t){var e=this.__data__;return n?void 0!==e[t]:r.call(e,t)}},function(t,e,i){var n=i(3),r="__lodash_hash_undefined__";t.exports=function(t,e){var i=this.__data__;return this.size+=this.has(t)?0:1,i[t]=n&&void 0===e?r:e,this}},function(t,e,i){var n=i(66),r=i(67),a=i(69),o=i(70),s=i(71);function l(t){var e=-1,i=null==t?0:t.length;for(this.clear();++e<i;){var n=t[e];this.set(n[0],n[1])}}l.prototype.clear=n,l.prototype["delete"]=r,l.prototype.get=a,l.prototype.has=o,l.prototype.set=s,t.exports=l},function(t,e){t.exports=function(){this.__data__=[],this.size=0}},function(t,e,i){var n=i(4),r=Array.prototype.splice;t.exports=function(t){var e=this.__data__,i=n(e,t);return!(i<0||(i==e.length-1?e.pop():r.call(e,i,1),--this.size,0))}},function(t,e){t.exports=function(t,e){return t===e||t!=t&&e!=e}},function(t,e,i){var n=i(4);t.exports=function(t){var e=this.__data__,i=n(e,t);return i<0?void 0:e[i][1]}},function(t,e,i){var n=i(4);t.exports=function(t){return n(this.__data__,t)>-1}},function(t,e,i){var n=i(4);t.exports=function(t,e){var i=this.__data__,r=n(i,t);return r<0?(++this.size,i.push([t,e])):i[r][1]=e,this}},function(t,e,i){var n=i(17)(i(9),"Map");t.exports=n},function(t,e,i){var n=i(5);t.exports=function(t){var e=n(this,t)["delete"](t);return this.size-=e?1:0,e}},function(t,e){t.exports=function(t){var e=n(t);return"string"==e||"number"==e||"symbol"==e||"boolean"==e?"__proto__"!==t:null===t}},function(t,e,i){var n=i(5);t.exports=function(t){return n(this,t).get(t)}},function(t,e,i){var n=i(5);t.exports=function(t){return n(this,t).has(t)}},function(t,e,i){var n=i(5);t.exports=function(t,e){var i=n(this,t),r=i.size;return i.set(t,e),this.size+=i.size==r?0:1,this}},function(t,e,i){var n=i(79);t.exports=function(t){return null==t?"":n(t)}},function(t,e,i){var n=i(8),r=i(80),a=i(6),o=i(7),s=1/0,l=n?n.prototype:void 0,u=l?l.toString:void 0;t.exports=function t(e){if("string"==typeof e)return e;if(a(e))return r(e,t)+"";if(o(e))return u?u.call(e):"";var i=e+"";return"0"==i&&1/e==-s?"-0":i}},function(t,e){t.exports=function(t,e){for(var i=-1,n=null==t?0:t.length,r=Array(n);++i<n;)r[i]=e(t[i],i,t);return r}},function(t,e,i){var n=i(7),r=1/0;t.exports=function(t){if("string"==typeof t||n(t))return t;var e=t+"";return"0"==e&&1/t==-r?"-0":e}},function(t,e,i){"use strict";var n=i(1);n.a.Poly=n.a.Line.extend({})},function(t,e,i){"use strict";var n=i(1);function r(t,e){return function(t){if(Array.isArray(t))return t}(t)||function(t,e){var i=[],n=!0,r=!1,a=void 0;try{for(var o,s=t[Symbol.iterator]();!(n=(o=s.next()).done)&&(i.push(o.value),!e||i.length!==e);n=!0);}catch(l){r=!0,a=l}finally{try{n||null==s["return"]||s["return"]()}finally{if(r)throw a}}return i}(t,e)||function(){throw new TypeError("Invalid attempt to destructure non-iterable instance")}()}n.a.Rectangle=n.a.Poly.extend({_initMarkers:function(){var t=this._map,e=this._findCorners();this._markerGroup&&this._markerGroup.clearLayers(),this._markerGroup=new L.LayerGroup,this._markerGroup._pmTempLayer=!0,t.addLayer(this._markerGroup),this._markers=[],this._markers[0]=e.map(this._createMarker,this);var i=r(this._markers,1);this._cornerMarkers=i[0],this.options.snappable&&this._initSnappableMarkers()},_createMarker:function(t,e){var i=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return i._origLatLng=t,i._index=e,i._pmTempLayer=!0,i.on("dragstart",this._onMarkerDragStart,this),i.on("drag",this._onMarkerDrag,this),i.on("dragend",this._onMarkerDragEnd,this),i.on("pm:snap",this._adjustRectangleForMarkerSnap,this),this.options.preventMarkerRemoval||i.on("contextmenu",this._removeMarker,this),this._markerGroup.addLayer(i),i},_removeMarker:function(){return null},_onMarkerDragStart:function(t){var e=t.target,i=this._findCorners();e._oppositeCornerLatLng=i[(e._index+2)%4],e._snapped=!1,this._layer.fire("pm:markerdragstart",{markerEvent:t})},_onMarkerDrag:function(t){var e=t.target;void 0!==e._index&&(e._snapped||this._adjustRectangleForMarkerMove(e))},_onMarkerDragEnd:function(t){var e=this._findCorners();this._adjustAllMarkers(e),this._cornerMarkers.forEach((function(t){delete t._oppositeCornerLatLng})),this._layer.setLatLngs(e),this._layer.redraw(),this._layer.fire("pm:markerdragend",{markerEvent:t}),this._fireEdit()},_adjustRectangleForMarkerMove:function(t){L.extend(t._origLatLng,t._latlng);var e=t.getLatLng();this._layer.setBounds(L.latLngBounds(e,t._oppositeCornerLatLng)),this._adjustAdjacentMarkers(t),this._layer.redraw()},_adjustRectangleForMarkerSnap:function(t){if(this.options.snappable){var e=t.target;this._adjustRectangleForMarkerMove(e)}},_adjustAllMarkers:function(t){t.length&&4===t.length?this._cornerMarkers.forEach((function(e,i){e.setLatLng(t[i])})):console.error("_adjustAllMarkers() requires an array of EXACTLY 4 LatLng coordinates")},_adjustAdjacentMarkers:function(t){if(t&&t.getLatLng&&t._oppositeCornerLatLng){var e=t.getLatLng(),i=t._oppositeCornerLatLng,n=[];this._findCorners().forEach((function(t){t.equals(e)||t.equals(i)||n.push(t)}));var r=0;2===n.length&&this._cornerMarkers.forEach((function(t){var a=t.getLatLng();a.equals(e)||a.equals(i)||(t.setLatLng(n[r]),r+=1)}))}else console.error("_adjustAdjacentMarkers() requires a valid Marker object")},_findCorners:function(){var t=this._layer.getBounds();return[t.getNorthWest(),t.getNorthEast(),t.getSouthEast(),t.getSouthWest()]}})},function(t,e,i){"use strict";var n=i(1);n.a.Circle=n.a.extend({initialize:function(t){this._layer=t,this._enabled=!1},toggleEdit:function(t){this.enabled()?this.disable():this.enable(t)},enabled:function(){return this._enabled},enable:function(t){var e=this;L.Util.setOptions(this,t),this._map=this._layer._map,this.enabled()||this.disable(),this._enabled=!0,this._initMarkers(),this._layer.on("remove",(function(t){e.disable(t.target)}))},disable:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._layer;if(!this.enabled())return!1;if(t.pm._dragging)return!1;t.pm._enabled=!1,t.pm._helperLayers.clearLayers(),t.off("mousedown"),t.off("mouseup");var e=t._path?t._path:this._layer._renderer._container;return L.DomUtil.removeClass(e,"leaflet-pm-draggable"),this._layerEdited&&this._layer.fire("pm:update",{}),this._layerEdited=!1,!0},_initMarkers:function(){var t=this._map;this._helperLayers&&this._helperLayers.clearLayers(),this._helperLayers=new L.LayerGroup,this._helperLayers._pmTempLayer=!0,this._helperLayers.addTo(t);var e=this._layer.getLatLng(),i=this._layer._radius,n=this._getLatLngOnCircle(e,i);this._centerMarker=this._createCenterMarker(e),this._outerMarker=this._createOuterMarker(n),this._markers=[this._centerMarker,this._outerMarker],this._createHintLine(this._centerMarker,this._outerMarker),this.options.snappable&&this._initSnappableMarkers()},_getLatLngOnCircle:function(t,e){var i=this._map.project(t),n=L.point(i.x+e,i.y);return this._map.unproject(n)},_resizeCircle:function(){this._syncHintLine(),this._syncCircleRadius()},_moveCircle:function(t){var e=t.latlng;this._layer.setLatLng(e);var i=this._layer._radius,n=this._getLatLngOnCircle(e,i);this._outerMarker.setLatLng(n),this._syncHintLine(),this._layer.fire("pm:centerplaced",{layer:this._layer,latlng:e})},_onMarkerDragStart:function(t){this._layer.fire("pm:markerdragstart",{markerEvent:t})},_onMarkerDragEnd:function(t){this._fireEdit(),this._layer.fire("pm:markerdragend",{markerEvent:t})},_syncCircleRadius:function(){var t=this._centerMarker.getLatLng(),e=this._outerMarker.getLatLng(),i=t.distanceTo(e);this._layer.setRadius(i)},_syncHintLine:function(){var t=this._centerMarker.getLatLng(),e=this._outerMarker.getLatLng();this._hintline.setLatLngs([t,e])},_createHintLine:function(t,e){var i=t.getLatLng(),n=e.getLatLng();this._hintline=L.polyline([i,n],this.options.hintlineStyle),this._hintline._pmTempLayer=!0,this._helperLayers.addLayer(this._hintline)},_createCenterMarker:function(t){var e=this._createMarker(t);return L.DomUtil.addClass(e._icon,"leaflet-pm-draggable"),e.on("drag",this._moveCircle,this),e},_createOuterMarker:function(t){var e=this._createMarker(t);return e.on("move",this._resizeCircle,this),e},_createMarker:function(t){var e=new L.Marker(t,{draggable:!0,icon:L.divIcon({className:"marker-icon"})});return e._origLatLng=t,e._pmTempLayer=!0,e.on("dragstart",this._onMarkerDragStart,this),e.on("dragend",this._onMarkerDragEnd,this),this._helperLayers.addLayer(e),e},_fireEdit:function(){this._layer.fire("pm:edit"),this._layerEdited=!0}})},function(t,e){},function(t,e){}])},"387f":function(t,e,i){"use strict";t.exports=function(t,e,i,n,r){return t.config=e,i&&(t.code=i),t.request=n,t.response=r,t.isAxiosError=!0,t.toJSON=function(){return{message:this.message,name:this.name,description:this.description,number:this.number,fileName:this.fileName,lineNumber:this.lineNumber,columnNumber:this.columnNumber,stack:this.stack,config:this.config,code:this.code,status:this.response&&this.response.status?this.response.status:null}},t}},3934:function(t,e,i){"use strict";var n=i("c532");t.exports=n.isStandardBrowserEnv()?function(){var t,e=/(msie|trident)/i.test(navigator.userAgent),i=document.createElement("a");function r(t){var n=t;return e&&(i.setAttribute("href",n),n=i.href),i.setAttribute("href",n),{href:i.href,protocol:i.protocol?i.protocol.replace(/:$/,""):"",host:i.host,search:i.search?i.search.replace(/^\?/,""):"",hash:i.hash?i.hash.replace(/^#/,""):"",hostname:i.hostname,port:i.port,pathname:"/"===i.pathname.charAt(0)?i.pathname:"/"+i.pathname}}return t=r(window.location.href),function(e){var i=n.isString(e)?r(e):e;return i.protocol===t.protocol&&i.host===t.host}}():function(){return function(){return!0}}()},"428f":function(t,e,i){var n=i("da84");t.exports=n},"44e7":function(t,e,i){var n=i("861d"),r=i("c6b6"),a=i("b622"),o=a("match");t.exports=function(t){var e;return n(t)&&(void 0!==(e=t[o])?!!e:"RegExp"==r(t))}},"467f":function(t,e,i){"use strict";var n=i("2d83");t.exports=function(t,e,i){var r=i.config.validateStatus;i.status&&r&&!r(i.status)?e(n("Request failed with status code "+i.status,i.config,null,i.request,i)):t(i)}},"498a":function(t,e,i){"use strict";var n=i("23e7"),r=i("58a8").trim,a=i("c8d2");n({target:"String",proto:!0,forced:a("trim")},{trim:function(){return r(this)}})},"4a7b":function(t,e,i){"use strict";var n=i("c532");t.exports=function(t,e){e=e||{};var i={};function r(t,e){return n.isPlainObject(t)&&n.isPlainObject(e)?n.merge(t,e):n.isPlainObject(e)?n.merge({},e):n.isArray(e)?e.slice():e}function a(i){return n.isUndefined(e[i])?n.isUndefined(t[i])?void 0:r(void 0,t[i]):r(t[i],e[i])}function o(t){if(!n.isUndefined(e[t]))return r(void 0,e[t])}function s(i){return n.isUndefined(e[i])?n.isUndefined(t[i])?void 0:r(void 0,t[i]):r(void 0,e[i])}function l(i){return i in e?r(t[i],e[i]):i in t?r(void 0,t[i]):void 0}var u={url:o,method:o,data:o,baseURL:s,transformRequest:s,transformResponse:s,paramsSerializer:s,timeout:s,timeoutMessage:s,withCredentials:s,adapter:s,responseType:s,xsrfCookieName:s,xsrfHeaderName:s,onUploadProgress:s,onDownloadProgress:s,decompress:s,maxContentLength:s,maxBodyLength:s,transport:s,httpAgent:s,httpsAgent:s,cancelToken:s,socketPath:s,responseEncoding:s,validateStatus:l};return n.forEach(Object.keys(t).concat(Object.keys(e)),(function(t){var e=u[t]||a,r=e(t);n.isUndefined(r)&&e!==l||(i[t]=r)})),i}},"4d63":function(t,e,i){var n=i("83ab"),r=i("da84"),a=i("e330"),o=i("94ca"),s=i("7156"),l=i("9112"),u=i("9bf2").f,c=i("241c").f,h=i("3a9b"),d=i("44e7"),p=i("577e"),f=i("ad6d"),m=i("9f7f"),g=i("6eeb"),y=i("d039"),_=i("1a2d"),v=i("69f3").enforce,b=i("2626"),L=i("b622"),w=i("fce3"),k=i("107c"),D=L("match"),S=r.RegExp,T=S.prototype,M=r.SyntaxError,x=a(f),C=a(T.exec),P=a("".charAt),E=a("".replace),R=a("".indexOf),O=a("".slice),I=/^\?<[^\s\d!#%&*+<=>@^][^\s!#%&*+<=>@^]*>/,U=/a/g,B=/a/g,N=new S(U)!==U,A=m.MISSED_STICKY,j=m.UNSUPPORTED_Y,F=n&&(!N||A||w||k||y((function(){return B[D]=!1,S(U)!=U||S(B)==B||"/a/i"!=S(U,"i")}))),G=function(t){for(var e,i=t.length,n=0,r="",a=!1;n<=i;n++)e=P(t,n),"\\"!==e?a||"."!==e?("["===e?a=!0:"]"===e&&(a=!1),r+=e):r+="[\\s\\S]":r+=e+P(t,++n);return r},z=function(t){for(var e,i=t.length,n=0,r="",a=[],o={},s=!1,l=!1,u=0,c="";n<=i;n++){if(e=P(t,n),"\\"===e)e+=P(t,++n);else if("]"===e)s=!1;else if(!s)switch(!0){case"["===e:s=!0;break;case"("===e:C(I,O(t,n+1))&&(n+=2,l=!0),r+=e,u++;continue;case">"===e&&l:if(""===c||_(o,c))throw new M("Invalid capture group name");o[c]=!0,a[a.length]=[c,u],l=!1,c="";continue}l?c+=e:r+=e}return[r,a]};if(o("RegExp",F)){for(var q=function(t,e){var i,n,r,a,o,u,c=h(T,this),f=d(t),m=void 0===e,g=[],y=t;if(!c&&f&&m&&t.constructor===q)return t;if((f||h(T,t))&&(t=t.source,m&&(e="flags"in y?y.flags:x(y))),t=void 0===t?"":p(t),e=void 0===e?"":p(e),y=t,w&&"dotAll"in U&&(n=!!e&&R(e,"s")>-1,n&&(e=E(e,/s/g,""))),i=e,A&&"sticky"in U&&(r=!!e&&R(e,"y")>-1,r&&j&&(e=E(e,/y/g,""))),k&&(a=z(t),t=a[0],g=a[1]),o=s(S(t,e),c?this:T,q),(n||r||g.length)&&(u=v(o),n&&(u.dotAll=!0,u.raw=q(G(t),i)),r&&(u.sticky=!0),g.length&&(u.groups=g)),t!==y)try{l(o,"source",""===y?"(?:)":y)}catch(_){}return o},V=function(t){t in q||u(q,t,{configurable:!0,get:function(){return S[t]},set:function(e){S[t]=e}})},H=c(S),J=0;H.length>J;)V(H[J++]);T.constructor=q,q.prototype=T,g(r,"RegExp",q)}b("RegExp")},"4dae":function(t,e,i){var n=i("da84"),r=i("23cb"),a=i("07fa"),o=i("8418"),s=n.Array,l=Math.max;t.exports=function(t,e,i){for(var n=a(t),u=r(e,n),c=r(void 0===i?n:i,n),h=s(l(c-u,0)),d=0;u<c;u++,d++)o(h,d,t[u]);return h.length=d,h}},"4de4":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").filter,a=i("1dde"),o=a("filter");n({target:"Array",proto:!0,forced:!o},{filter:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},"4df4":function(t,e,i){"use strict";var n=i("da84"),r=i("0366"),a=i("c65b"),o=i("7b0b"),s=i("9bdd"),l=i("e95a"),u=i("68ee"),c=i("07fa"),h=i("8418"),d=i("9a1f"),p=i("35a1"),f=n.Array;t.exports=function(t){var e=o(t),i=u(this),n=arguments.length,m=n>1?arguments[1]:void 0,g=void 0!==m;g&&(m=r(m,n>2?arguments[2]:void 0));var y,_,v,b,L,w,k=p(e),D=0;if(!k||this==f&&l(k))for(y=c(e),_=i?new this(y):f(y);y>D;D++)w=g?m(e[D],D):e[D],h(_,D,w);else for(b=d(e,k),L=b.next,_=i?new this:[];!(v=a(L,b)).done;D++)w=g?s(b,m,[v.value,D],!0):v.value,h(_,D,w);return _.length=D,_}},"4e82":function(t,e,i){"use strict";var n=i("23e7"),r=i("e330"),a=i("59ed"),o=i("7b0b"),s=i("07fa"),l=i("577e"),u=i("d039"),c=i("addb"),h=i("a640"),d=i("04d1"),p=i("d998"),f=i("2d00"),m=i("512c"),g=[],y=r(g.sort),_=r(g.push),v=u((function(){g.sort(void 0)})),b=u((function(){g.sort(null)})),L=h("sort"),w=!u((function(){if(f)return f<70;if(!(d&&d>3)){if(p)return!0;if(m)return m<603;var t,e,i,n,r="";for(t=65;t<76;t++){switch(e=String.fromCharCode(t),t){case 66:case 69:case 70:case 72:i=3;break;case 68:case 71:i=4;break;default:i=2}for(n=0;n<47;n++)g.push({k:e+n,v:i})}for(g.sort((function(t,e){return e.v-t.v})),n=0;n<g.length;n++)e=g[n].k.charAt(0),r.charAt(r.length-1)!==e&&(r+=e);return"DGBEFHACIJK"!==r}})),k=v||!b||!L||!w,D=function(t){return function(e,i){return void 0===i?-1:void 0===e?1:void 0!==t?+t(e,i)||0:l(e)>l(i)?1:-1}};n({target:"Array",proto:!0,forced:k},{sort:function(t){void 0!==t&&a(t);var e=o(this);if(w)return void 0===t?y(e):y(e,t);var i,n,r=[],l=s(e);for(n=0;n<l;n++)n in e&&_(r,e[n]);c(r,D(t)),i=r.length,n=0;while(n<i)e[n]=r[n++];while(n<l)delete e[n++];return e}})},"512c":function(t,e,i){var n=i("342f"),r=n.match(/AppleWebKit\/(\d+)\./);t.exports=!!r&&+r[1]},5270:function(t,e,i){"use strict";var n=i("c532"),r=i("c401"),a=i("2e67"),o=i("2444"),s=i("7a77");function l(t){if(t.cancelToken&&t.cancelToken.throwIfRequested(),t.signal&&t.signal.aborted)throw new s("canceled")}t.exports=function(t){l(t),t.headers=t.headers||{},t.data=r.call(t,t.data,t.headers,t.transformRequest),t.headers=n.merge(t.headers.common||{},t.headers[t.method]||{},t.headers),n.forEach(["delete","get","head","post","put","patch","common"],(function(e){delete t.headers[e]}));var e=t.adapter||o.adapter;return e(t).then((function(e){return l(t),e.data=r.call(t,e.data,e.headers,t.transformResponse),e}),(function(e){return a(e)||(l(t),e&&e.response&&(e.response.data=r.call(t,e.response.data,e.response.headers,t.transformResponse))),Promise.reject(e)}))}},5319:function(t,e,i){"use strict";var n=i("2ba4"),r=i("c65b"),a=i("e330"),o=i("d784"),s=i("d039"),l=i("825a"),u=i("1626"),c=i("5926"),h=i("50c4"),d=i("577e"),p=i("1d80"),f=i("8aa5"),m=i("dc4a"),g=i("0cb2"),y=i("14c3"),_=i("b622"),v=_("replace"),b=Math.max,L=Math.min,w=a([].concat),k=a([].push),D=a("".indexOf),S=a("".slice),T=function(t){return void 0===t?t:String(t)},M=function(){return"$0"==="a".replace(/./,"$0")}(),x=function(){return!!/./[v]&&""===/./[v]("a","$0")}(),C=!s((function(){var t=/./;return t.exec=function(){var t=[];return t.groups={a:"7"},t},"7"!=="".replace(t,"$<a>")}));o("replace",(function(t,e,i){var a=x?"$":"$0";return[function(t,i){var n=p(this),a=void 0==t?void 0:m(t,v);return a?r(a,t,n,i):r(e,d(n),t,i)},function(t,r){var o=l(this),s=d(t);if("string"==typeof r&&-1===D(r,a)&&-1===D(r,"$<")){var p=i(e,o,s,r);if(p.done)return p.value}var m=u(r);m||(r=d(r));var _=o.global;if(_){var v=o.unicode;o.lastIndex=0}var M=[];while(1){var x=y(o,s);if(null===x)break;if(k(M,x),!_)break;var C=d(x[0]);""===C&&(o.lastIndex=f(s,h(o.lastIndex),v))}for(var P="",E=0,R=0;R<M.length;R++){x=M[R];for(var O=d(x[0]),I=b(L(c(x.index),s.length),0),U=[],B=1;B<x.length;B++)k(U,T(x[B]));var N=x.groups;if(m){var A=w([O],U,I,s);void 0!==N&&k(A,N);var j=d(n(r,void 0,A))}else j=g(O,s,I,U,N,r);I>=E&&(P+=S(s,E,I)+j,E=I+O.length)}return P+S(s,E)}]}),!C||!M||x)},5899:function(t,e){t.exports="\t\n\v\f\r                　\u2028\u2029\ufeff"},"58a8":function(t,e,i){var n=i("e330"),r=i("1d80"),a=i("577e"),o=i("5899"),s=n("".replace),l="["+o+"]",u=RegExp("^"+l+l+"*"),c=RegExp(l+l+"*$"),h=function(t){return function(e){var i=a(r(e));return 1&t&&(i=s(i,u,"")),2&t&&(i=s(i,c,"")),i}};t.exports={start:h(1),end:h(2),trim:h(3)}},"5cce":function(t,e){t.exports={version:"0.24.0"}},"5f02":function(t,e,i){"use strict";t.exports=function(t){return"object"===typeof t&&!0===t.isAxiosError}},"5fb2":function(t,e,i){"use strict";var n=i("da84"),r=i("e330"),a=2147483647,o=36,s=1,l=26,u=38,c=700,h=72,d=128,p="-",f=/[^\0-\u007E]/,m=/[.\u3002\uFF0E\uFF61]/g,g="Overflow: input needs wider integers to process",y=o-s,_=n.RangeError,v=r(m.exec),b=Math.floor,L=String.fromCharCode,w=r("".charCodeAt),k=r([].join),D=r([].push),S=r("".replace),T=r("".split),M=r("".toLowerCase),x=function(t){var e=[],i=0,n=t.length;while(i<n){var r=w(t,i++);if(r>=55296&&r<=56319&&i<n){var a=w(t,i++);56320==(64512&a)?D(e,((1023&r)<<10)+(1023&a)+65536):(D(e,r),i--)}else D(e,r)}return e},C=function(t){return t+22+75*(t<26)},P=function(t,e,i){var n=0;t=i?b(t/c):t>>1,t+=b(t/e);while(t>y*l>>1)t=b(t/y),n+=o;return b(n+(y+1)*t/(t+u))},E=function(t){var e=[];t=x(t);var i,n,r=t.length,u=d,c=0,f=h;for(i=0;i<t.length;i++)n=t[i],n<128&&D(e,L(n));var m=e.length,y=m;m&&D(e,p);while(y<r){var v=a;for(i=0;i<t.length;i++)n=t[i],n>=u&&n<v&&(v=n);var w=y+1;if(v-u>b((a-c)/w))throw _(g);for(c+=(v-u)*w,u=v,i=0;i<t.length;i++){if(n=t[i],n<u&&++c>a)throw _(g);if(n==u){var S=c,T=o;while(1){var M=T<=f?s:T>=f+l?l:T-f;if(S<M)break;var E=S-M,R=o-M;D(e,L(C(M+E%R))),S=b(E/R),T+=o}D(e,L(C(S))),f=P(c,w,y==m),c=0,y++}}c++,u++}return k(e,"")};t.exports=function(t){var e,i,n=[],r=T(S(M(t),m,"."),".");for(e=0;e<r.length;e++)i=r[e],D(n,v(f,i)?"xn--"+E(i):i);return k(n,".")}},"65f0":function(t,e,i){var n=i("0b42");t.exports=function(t,e){return new(n(t))(0===e?0:e)}},7037:function(t,e,i){function n(e){return t.exports=n="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t.exports.__esModule=!0,t.exports["default"]=t.exports,n(e)}i("a4d3"),i("e01a"),i("d3b7"),i("d28b"),i("3ca3"),i("ddb0"),t.exports=n,t.exports.__esModule=!0,t.exports["default"]=t.exports},7156:function(t,e,i){var n=i("1626"),r=i("861d"),a=i("d2bb");t.exports=function(t,e,i){var o,s;return a&&n(o=e.constructor)&&o!==i&&r(s=o.prototype)&&s!==i.prototype&&a(t,s),t}},"746f":function(t,e,i){var n=i("428f"),r=i("1a2d"),a=i("e538"),o=i("9bf2").f;t.exports=function(t){var e=n.Symbol||(n.Symbol={});r(e,t)||o(e,t,{value:a.f(t)})}},"7a77":function(t,e,i){"use strict";function n(t){this.message=t}n.prototype.toString=function(){return"Cancel"+(this.message?": "+this.message:"")},n.prototype.__CANCEL__=!0,t.exports=n},"7aac":function(t,e,i){"use strict";var n=i("c532");t.exports=n.isStandardBrowserEnv()?function(){return{write:function(t,e,i,r,a,o){var s=[];s.push(t+"="+encodeURIComponent(e)),n.isNumber(i)&&s.push("expires="+new Date(i).toGMTString()),n.isString(r)&&s.push("path="+r),n.isString(a)&&s.push("domain="+a),!0===o&&s.push("secure"),document.cookie=s.join("; ")},read:function(t){var e=document.cookie.match(new RegExp("(^|;\\s*)("+t+")=([^;]*)"));return e?decodeURIComponent(e[3]):null},remove:function(t){this.write(t,"",Date.now()-864e5)}}}():function(){return{write:function(){},read:function(){return null},remove:function(){}}}()},"7db0":function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").find,a=i("44d2"),o="find",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{find:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},"83b9":function(t,e,i){"use strict";var n=i("d925"),r=i("e683");t.exports=function(t,e){return t&&!n(e)?r(t,e):e}},8418:function(t,e,i){"use strict";var n=i("a04b"),r=i("9bf2"),a=i("5c6c");t.exports=function(t,e,i){var o=n(e);o in t?r.f(t,o,a(0,i)):t[o]=i}},"848b":function(t,e,i){"use strict";var n=i("5cce").version,r={};["object","boolean","number","function","string","symbol"].forEach((function(t,e){r[t]=function(i){return typeof i===t||"a"+(e<1?"n ":" ")+t}}));var a={};function o(t,e,i){if("object"!==typeof t)throw new TypeError("options must be an object");var n=Object.keys(t),r=n.length;while(r-- >0){var a=n[r],o=e[a];if(o){var s=t[a],l=void 0===s||o(s,a,t);if(!0!==l)throw new TypeError("option "+a+" must be "+l)}else if(!0!==i)throw Error("Unknown option "+a)}}r.transitional=function(t,e,i){function r(t,e){return"[Axios v"+n+"] Transitional option '"+t+"'"+e+(i?". "+i:"")}return function(i,n,o){if(!1===t)throw new Error(r(n," has been removed"+(e?" in "+e:"")));return e&&!a[n]&&(a[n]=!0,console.warn(r(n," has been deprecated since v"+e+" and will be removed in the near future"))),!t||t(i,n,o)}},t.exports={assertOptions:o,validators:r}},"8aa5":function(t,e,i){"use strict";var n=i("6547").charAt;t.exports=function(t,e,i){return e+(i?n(t,e).length:1)}},"8df4":function(t,e,i){"use strict";var n=i("7a77");function r(t){if("function"!==typeof t)throw new TypeError("executor must be a function.");var e;this.promise=new Promise((function(t){e=t}));var i=this;this.promise.then((function(t){if(i._listeners){var e,n=i._listeners.length;for(e=0;e<n;e++)i._listeners[e](t);i._listeners=null}})),this.promise.then=function(t){var e,n=new Promise((function(t){i.subscribe(t),e=t})).then(t);return n.cancel=function(){i.unsubscribe(e)},n},t((function(t){i.reason||(i.reason=new n(t),e(i.reason))}))}r.prototype.throwIfRequested=function(){if(this.reason)throw this.reason},r.prototype.subscribe=function(t){this.reason?t(this.reason):this._listeners?this._listeners.push(t):this._listeners=[t]},r.prototype.unsubscribe=function(t){if(this._listeners){var e=this._listeners.indexOf(t);-1!==e&&this._listeners.splice(e,1)}},r.source=function(){var t,e=new r((function(e){t=e}));return{token:e,cancel:t}},t.exports=r},9263:function(t,e,i){"use strict";var n=i("c65b"),r=i("e330"),a=i("577e"),o=i("ad6d"),s=i("9f7f"),l=i("5692"),u=i("7c73"),c=i("69f3").get,h=i("fce3"),d=i("107c"),p=l("native-string-replace",String.prototype.replace),f=RegExp.prototype.exec,m=f,g=r("".charAt),y=r("".indexOf),_=r("".replace),v=r("".slice),b=function(){var t=/a/,e=/b*/g;return n(f,t,"a"),n(f,e,"a"),0!==t.lastIndex||0!==e.lastIndex}(),L=s.BROKEN_CARET,w=void 0!==/()??/.exec("")[1],k=b||w||L||h||d;k&&(m=function(t){var e,i,r,s,l,h,d,k=this,D=c(k),S=a(t),T=D.raw;if(T)return T.lastIndex=k.lastIndex,e=n(m,T,S),k.lastIndex=T.lastIndex,e;var M=D.groups,x=L&&k.sticky,C=n(o,k),P=k.source,E=0,R=S;if(x&&(C=_(C,"y",""),-1===y(C,"g")&&(C+="g"),R=v(S,k.lastIndex),k.lastIndex>0&&(!k.multiline||k.multiline&&"\n"!==g(S,k.lastIndex-1))&&(P="(?: "+P+")",R=" "+R,E++),i=new RegExp("^(?:"+P+")",C)),w&&(i=new RegExp("^"+P+"$(?!\\s)",C)),b&&(r=k.lastIndex),s=n(f,x?i:k,R),x?s?(s.input=v(s.input,E),s[0]=v(s[0],E),s.index=k.lastIndex,k.lastIndex+=s[0].length):k.lastIndex=0:b&&s&&(k.lastIndex=k.global?s.index+s[0].length:r),w&&s&&s.length>1&&n(p,s[0],i,(function(){for(l=1;l<arguments.length-2;l++)void 0===arguments[l]&&(s[l]=void 0)})),s&&M)for(s.groups=h=u(null),l=0;l<M.length;l++)d=M[l],h[d[0]]=s[d[1]];return s}),t.exports=m},9861:function(t,e,i){"use strict";i("e260");var n=i("23e7"),r=i("da84"),a=i("d066"),o=i("c65b"),s=i("e330"),l=i("0d3b"),u=i("6eeb"),c=i("e2cc"),h=i("d44e"),d=i("9ed3"),p=i("69f3"),f=i("19aa"),m=i("1626"),g=i("1a2d"),y=i("0366"),_=i("f5df"),v=i("825a"),b=i("861d"),L=i("577e"),w=i("7c73"),k=i("5c6c"),D=i("9a1f"),S=i("35a1"),T=i("b622"),M=i("addb"),x=T("iterator"),C="URLSearchParams",P=C+"Iterator",E=p.set,R=p.getterFor(C),O=p.getterFor(P),I=a("fetch"),U=a("Request"),B=a("Headers"),N=U&&U.prototype,A=B&&B.prototype,j=r.RegExp,F=r.TypeError,G=r.decodeURIComponent,z=r.encodeURIComponent,q=s("".charAt),V=s([].join),H=s([].push),J=s("".replace),$=s([].shift),Z=s([].splice),W=s("".split),Q=s("".slice),K=/\+/g,X=Array(4),Y=function(t){return X[t-1]||(X[t-1]=j("((?:%[\\da-f]{2}){"+t+"})","gi"))},tt=function(t){try{return G(t)}catch(e){return t}},et=function(t){var e=J(t,K," "),i=4;try{return G(e)}catch(n){while(i)e=J(e,Y(i--),tt);return e}},it=/[!'()~]|%20/g,nt={"!":"%21","'":"%27","(":"%28",")":"%29","~":"%7E","%20":"+"},rt=function(t){return nt[t]},at=function(t){return J(z(t),it,rt)},ot=function(t,e){if(t<e)throw F("Not enough arguments")},st=d((function(t,e){E(this,{type:P,iterator:D(R(t).entries),kind:e})}),"Iterator",(function(){var t=O(this),e=t.kind,i=t.iterator.next(),n=i.value;return i.done||(i.value="keys"===e?n.key:"values"===e?n.value:[n.key,n.value]),i}),!0),lt=function(t){this.entries=[],this.url=null,void 0!==t&&(b(t)?this.parseObject(t):this.parseQuery("string"==typeof t?"?"===q(t,0)?Q(t,1):t:L(t)))};lt.prototype={type:C,bindURL:function(t){this.url=t,this.update()},parseObject:function(t){var e,i,n,r,a,s,l,u=S(t);if(u){e=D(t,u),i=e.next;while(!(n=o(i,e)).done){if(r=D(v(n.value)),a=r.next,(s=o(a,r)).done||(l=o(a,r)).done||!o(a,r).done)throw F("Expected sequence with length 2");H(this.entries,{key:L(s.value),value:L(l.value)})}}else for(var c in t)g(t,c)&&H(this.entries,{key:c,value:L(t[c])})},parseQuery:function(t){if(t){var e,i,n=W(t,"&"),r=0;while(r<n.length)e=n[r++],e.length&&(i=W(e,"="),H(this.entries,{key:et($(i)),value:et(V(i,"="))}))}},serialize:function(){var t,e=this.entries,i=[],n=0;while(n<e.length)t=e[n++],H(i,at(t.key)+"="+at(t.value));return V(i,"&")},update:function(){this.entries.length=0,this.parseQuery(this.url.query)},updateURL:function(){this.url&&this.url.update()}};var ut=function(){f(this,ct);var t=arguments.length>0?arguments[0]:void 0;E(this,new lt(t))},ct=ut.prototype;if(c(ct,{append:function(t,e){ot(arguments.length,2);var i=R(this);H(i.entries,{key:L(t),value:L(e)}),i.updateURL()},delete:function(t){ot(arguments.length,1);var e=R(this),i=e.entries,n=L(t),r=0;while(r<i.length)i[r].key===n?Z(i,r,1):r++;e.updateURL()},get:function(t){ot(arguments.length,1);for(var e=R(this).entries,i=L(t),n=0;n<e.length;n++)if(e[n].key===i)return e[n].value;return null},getAll:function(t){ot(arguments.length,1);for(var e=R(this).entries,i=L(t),n=[],r=0;r<e.length;r++)e[r].key===i&&H(n,e[r].value);return n},has:function(t){ot(arguments.length,1);var e=R(this).entries,i=L(t),n=0;while(n<e.length)if(e[n++].key===i)return!0;return!1},set:function(t,e){ot(arguments.length,1);for(var i,n=R(this),r=n.entries,a=!1,o=L(t),s=L(e),l=0;l<r.length;l++)i=r[l],i.key===o&&(a?Z(r,l--,1):(a=!0,i.value=s));a||H(r,{key:o,value:s}),n.updateURL()},sort:function(){var t=R(this);M(t.entries,(function(t,e){return t.key>e.key?1:-1})),t.updateURL()},forEach:function(t){var e,i=R(this).entries,n=y(t,arguments.length>1?arguments[1]:void 0),r=0;while(r<i.length)e=i[r++],n(e.value,e.key,this)},keys:function(){return new st(this,"keys")},values:function(){return new st(this,"values")},entries:function(){return new st(this,"entries")}},{enumerable:!0}),u(ct,x,ct.entries,{name:"entries"}),u(ct,"toString",(function(){return R(this).serialize()}),{enumerable:!0}),h(ut,C),n({global:!0,forced:!l},{URLSearchParams:ut}),!l&&m(B)){var ht=s(A.has),dt=s(A.set),pt=function(t){if(b(t)){var e,i=t.body;if(_(i)===C)return e=t.headers?new B(t.headers):new B,ht(e,"content-type")||dt(e,"content-type","application/x-www-form-urlencoded;charset=UTF-8"),w(t,{body:k(0,L(i)),headers:k(0,e)})}return t};if(m(I)&&n({global:!0,enumerable:!0,forced:!0},{fetch:function(t){return I(t,arguments.length>1?pt(arguments[1]):{})}}),m(U)){var ft=function(t){return f(this,N),new U(t,arguments.length>1?pt(arguments[1]):{})};N.constructor=ft,ft.prototype=N,n({global:!0,forced:!0},{Request:ft})}}t.exports={URLSearchParams:ut,getState:R}},9912:function(t,e,i){var n,r,a;i("7037").default;i("a434"),i("ac1f"),i("1276"),i("99af"),i("4e82"),i("fb6a"),i("3410"),i("d3b7"),i("159b"),i("498a"),i("5319"),function(o,s){r=[i("e11e"),i("e48c")],n=o,a="function"===typeof n?n.apply(e,r):n,void 0===a||(t.exports=a)}((function(t,e){if(void 0===i)var i={iso8601:e};return t.TimeDimension=(t.Layer||t.Class).extend({includes:t.Evented||t.Mixin.Events,initialize:function(e){t.setOptions(this,e),this._availableTimes=this._generateAvailableTimes(),this._currentTimeIndex=-1,this._loadingTimeIndex=-1,this._loadingTimeout=this.options.loadingTimeout||3e3,this._syncedLayers=[],this._availableTimes.length>0&&this.setCurrentTime(this.options.currentTime||this._getDefaultCurrentTime()),this.options.lowerLimitTime&&this.setLowerLimit(this.options.lowerLimitTime),this.options.upperLimitTime&&this.setUpperLimit(this.options.upperLimitTime)},getAvailableTimes:function(){return this._availableTimes},getCurrentTimeIndex:function(){return-1===this._currentTimeIndex?this._availableTimes.length-1:this._currentTimeIndex},getCurrentTime:function(){var t=-1;return(t=-1!==this._loadingTimeIndex?this._loadingTimeIndex:this.getCurrentTimeIndex())>=0?this._availableTimes[t]:null},isLoading:function(){return-1!==this._loadingTimeIndex},setCurrentTimeIndex:function(t){var e=this._upperLimit||this._availableTimes.length-1,i=this._lowerLimit||0;if(!((t=Math.min(Math.max(i,t),e))<0)){this._loadingTimeIndex=t;var n=this._availableTimes[t];this._checkSyncedLayersReady(this._availableTimes[this._loadingTimeIndex])?this._newTimeIndexLoaded():(this.fire("timeloading",{time:n}),setTimeout(function(t){t==this._loadingTimeIndex&&this._newTimeIndexLoaded()}.bind(this,t),this._loadingTimeout))}},_newTimeIndexLoaded:function(){if(-1!==this._loadingTimeIndex){var t=this._availableTimes[this._loadingTimeIndex];this._currentTimeIndex=this._loadingTimeIndex,this.fire("timeload",{time:t}),this._loadingTimeIndex=-1}},_checkSyncedLayersReady:function(t){for(var e=0,i=this._syncedLayers.length;e<i;e++)if(this._syncedLayers[e].isReady&&!this._syncedLayers[e].isReady(t))return!1;return!0},setCurrentTime:function(t){var e=this._seekNearestTimeIndex(t);this.setCurrentTimeIndex(e)},seekNearestTime:function(t){var e=this._seekNearestTimeIndex(t);return this._availableTimes[e]},nextTime:function(t,e){t||(t=1);var i=this._currentTimeIndex,n=this._upperLimit||this._availableTimes.length-1,r=this._lowerLimit||0;this._loadingTimeIndex>-1&&(i=this._loadingTimeIndex),(i+=t)>n&&(i=e?r:n),i<r&&(i=e?n:r),this.setCurrentTimeIndex(i)},prepareNextTimes:function(t,e,i){t||(t=1);var n=this._currentTimeIndex,r=n;this._loadingTimeIndex>-1&&(n=this._loadingTimeIndex);for(var a=0,o=this._syncedLayers.length;a<o;a++)this._syncedLayers[a].setMinimumForwardCache&&this._syncedLayers[a].setMinimumForwardCache(e);for(var s=e,l=this._upperLimit||this._availableTimes.length-1,u=this._lowerLimit||0;s>0;){if((n+=t)>l){if(!i)break;n=u}if(n<u){if(!i)break;n=l}if(r===n)break;this.fire("timeloading",{time:this._availableTimes[n]}),s--}},getNumberNextTimesReady:function(t,e,i){t||(t=1);var n=this._currentTimeIndex;this._loadingTimeIndex>-1&&(n=this._loadingTimeIndex);for(var r=e,a=0,o=this._upperLimit||this._availableTimes.length-1,s=this._lowerLimit||0;r>0;){if((n+=t)>o){if(!i){r=0,a=e;break}n=s}if(n<s){if(!i){r=0,a=e;break}n=o}var l=this._availableTimes[n];this._checkSyncedLayersReady(l)&&a++,r--}return a},previousTime:function(t,e){this.nextTime(-1*t,e)},registerSyncedLayer:function(t){this._syncedLayers.push(t),t.on("timeload",this._onSyncedLayerLoaded,this)},unregisterSyncedLayer:function(t){var e=this._syncedLayers.indexOf(t);-1!=e&&this._syncedLayers.splice(e,1),t.off("timeload",this._onSyncedLayerLoaded,this)},_onSyncedLayerLoaded:function(t){t.time==this._availableTimes[this._loadingTimeIndex]&&this._checkSyncedLayersReady(t.time)&&this._newTimeIndexLoaded()},_generateAvailableTimes:function(){if(this.options.times)return t.TimeDimension.Util.parseTimesExpression(this.options.times);if(this.options.timeInterval){var e=t.TimeDimension.Util.parseTimeInterval(this.options.timeInterval),i=this.options.period||"P1D",n=this.options.validTimeRange||void 0;return t.TimeDimension.Util.explodeTimeRange(e[0],e[1],i,n)}return[]},_getDefaultCurrentTime:function(){var t=this._seekNearestTimeIndex((new Date).getTime());return this._availableTimes[t]},_seekNearestTimeIndex:function(t){for(var e=0,i=this._availableTimes.length;e<i&&!(t<this._availableTimes[e]);e++);return e>0&&e--,e},setAvailableTimes:function(e,i){var n=this.getCurrentTime(),r=this.getLowerLimit(),a=this.getUpperLimit();if("extremes"==i){var o=this.options.period||"P1D";this._availableTimes=t.TimeDimension.Util.explodeTimeRange(new Date(e[0]),new Date(e[e.length-1]),o)}else{var s=t.TimeDimension.Util.parseTimesExpression(e);if(0===this._availableTimes.length)this._availableTimes=s;else if("intersect"==i)this._availableTimes=t.TimeDimension.Util.intersect_arrays(s,this._availableTimes);else if("union"==i)this._availableTimes=t.TimeDimension.Util.union_arrays(s,this._availableTimes);else{if("replace"!=i)throw"Merge available times mode not implemented: "+i;this._availableTimes=s}}r&&this.setLowerLimit(r),a&&this.setUpperLimit(a),this.setCurrentTime(n),this.fire("availabletimeschanged",{availableTimes:this._availableTimes,currentTime:n})},getLowerLimit:function(){return this._availableTimes[this.getLowerLimitIndex()]},getUpperLimit:function(){return this._availableTimes[this.getUpperLimitIndex()]},setLowerLimit:function(t){var e=this._seekNearestTimeIndex(t);this.setLowerLimitIndex(e)},setUpperLimit:function(t){var e=this._seekNearestTimeIndex(t);this.setUpperLimitIndex(e)},setLowerLimitIndex:function(t){this._lowerLimit=Math.min(Math.max(t||0,0),this._upperLimit||this._availableTimes.length-1),this.fire("limitschanged",{lowerLimit:this._lowerLimit,upperLimit:this._upperLimit})},setUpperLimitIndex:function(t){this._upperLimit=Math.max(Math.min(t,this._availableTimes.length-1),this._lowerLimit||0),this.fire("limitschanged",{lowerLimit:this._lowerLimit,upperLimit:this._upperLimit})},getLowerLimitIndex:function(){return this._lowerLimit},getUpperLimitIndex:function(){return this._upperLimit}}),t.Map.addInitHook((function(){this.options.timeDimension&&(this.timeDimension=t.timeDimension(this.options.timeDimensionOptions||{}))})),t.timeDimension=function(e){return new t.TimeDimension(e)},t.TimeDimension.Util={getTimeDuration:function(t){if(void 0===i)throw"iso8601-js-period library is required for Leatlet.TimeDimension: https://github.com/nezasa/iso8601-js-period";return i.iso8601.Period.parse(t,!0)},addTimeDuration:function(t,e,i){void 0===i&&(i=!0),("string"==typeof e||e instanceof String)&&(e=this.getTimeDuration(e));var n=e.length,r=i?"getUTC":"get",a=i?"setUTC":"set";n>0&&0!=e[0]&&t[a+"FullYear"](t[r+"FullYear"]()+e[0]),n>1&&0!=e[1]&&t[a+"Month"](t[r+"Month"]()+e[1]),n>2&&0!=e[2]&&t[a+"Date"](t[r+"Date"]()+7*e[2]),n>3&&0!=e[3]&&t[a+"Date"](t[r+"Date"]()+e[3]),n>4&&0!=e[4]&&t[a+"Hours"](t[r+"Hours"]()+e[4]),n>5&&0!=e[5]&&t[a+"Minutes"](t[r+"Minutes"]()+e[5]),n>6&&0!=e[6]&&t[a+"Seconds"](t[r+"Seconds"]()+e[6])},subtractTimeDuration:function(t,e,i){("string"==typeof e||e instanceof String)&&(e=this.getTimeDuration(e));for(var n=[],r=0,a=e.length;r<a;r++)n.push(-e[r]);this.addTimeDuration(t,n,i)},parseAndExplodeTimeRange:function(t,e){var i=t.split("/"),n=new Date(Date.parse(i[0])),r=new Date(Date.parse(i[1])),a=i.length>2&&i[2].length?i[2]:"P1D";return void 0!==e&&null!==e&&(a=e),this.explodeTimeRange(n,r,a)},explodeTimeRange:function(t,e,i,n){var r=this.getTimeDuration(i),a=[],o=new Date(t.getTime()),s=null,l=null,u=null,c=null;if(void 0!==n){var h=n.split("/");s=h[0].split(":")[0],l=h[0].split(":")[1],u=h[1].split(":")[0],c=h[1].split(":")[1]}for(;o<e;)(void 0===n||o.getUTCHours()>=s&&o.getUTCHours()<=u)&&(o.getUTCHours()!=s||o.getUTCMinutes()>=l)&&(o.getUTCHours()!=u||o.getUTCMinutes()<=c)&&a.push(o.getTime()),this.addTimeDuration(o,r);return o>=e&&a.push(e.getTime()),a},parseTimeInterval:function(t){var e=t.split("/");if(2!=e.length)throw"Incorrect ISO9601 TimeInterval: "+t;var i=Date.parse(e[0]),n=null,r=null;return isNaN(i)?(r=this.getTimeDuration(e[0]),n=Date.parse(e[1]),i=new Date(n),this.subtractTimeDuration(i,r,!0),n=new Date(n)):(n=Date.parse(e[1]),isNaN(n)?(r=this.getTimeDuration(e[1]),n=new Date(i),this.addTimeDuration(n,r,!0)):n=new Date(n),i=new Date(i)),[i,n]},parseTimesExpression:function(t,e){var i=[];if(!t)return i;if("string"==typeof t||t instanceof String)for(var n,r,a=t.split(","),o=0,s=a.length;o<s;o++)3==(n=a[o]).split("/").length?i=i.concat(this.parseAndExplodeTimeRange(n,e)):(r=Date.parse(n),isNaN(r)||i.push(r));else i=t;return i.sort((function(t,e){return t-e}))},intersect_arrays:function(t,e){for(var i=t.slice(0),n=e.slice(0),r=[];i.length>0&&n.length>0;)i[0]<n[0]?i.shift():(i[0]>n[0]||r.push(i.shift()),n.shift());return r},union_arrays:function(t,e){for(var i=t.slice(0),n=e.slice(0),r=[];i.length>0&&n.length>0;)i[0]<n[0]?r.push(i.shift()):i[0]>n[0]?r.push(n.shift()):(r.push(i.shift()),n.shift());return i.length>0?r=r.concat(i):n.length>0&&(r=r.concat(n)),r},sort_and_deduplicate:function(t){for(var e=[],i=null,n=0,r=(t=t.slice(0).sort()).length;n<r;n++)t[n]!==i&&(e.push(t[n]),i=t[n]);return e}},t.TimeDimension.Layer=(t.Layer||t.Class).extend({includes:t.Evented||t.Mixin.Events,options:{opacity:1,zIndex:1},initialize:function(e,i){t.setOptions(this,i||{}),this._map=null,this._baseLayer=e,this._currentLayer=null,this._timeDimension=this.options.timeDimension||null},addTo:function(t){return t.addLayer(this),this},onAdd:function(t){this._map=t,!this._timeDimension&&t.timeDimension&&(this._timeDimension=t.timeDimension),this._timeDimension.on("timeloading",this._onNewTimeLoading,this),this._timeDimension.on("timeload",this._update,this),this._timeDimension.registerSyncedLayer(this),this._update()},onRemove:function(t){this._timeDimension.unregisterSyncedLayer(this),this._timeDimension.off("timeloading",this._onNewTimeLoading,this),this._timeDimension.off("timeload",this._update,this),this.eachLayer(t.removeLayer,t),this._map=null},eachLayer:function(t,e){return t.call(e,this._baseLayer),this},setZIndex:function(t){return this.options.zIndex=t,this._baseLayer.setZIndex&&this._baseLayer.setZIndex(t),this._currentLayer&&this._currentLayer.setZIndex&&this._currentLayer.setZIndex(t),this},setOpacity:function(t){return this.options.opacity=t,this._baseLayer.setOpacity&&this._baseLayer.setOpacity(t),this._currentLayer&&this._currentLayer.setOpacity&&this._currentLayer.setOpacity(t),this},bringToBack:function(){if(this._currentLayer)return this._currentLayer.bringToBack(),this},bringToFront:function(){if(this._currentLayer)return this._currentLayer.bringToFront(),this},_onNewTimeLoading:function(t){this.fire("timeload",{time:t.time})},isReady:function(t){return!0},_update:function(){return!0},getBaseLayer:function(){return this._baseLayer},getBounds:function(){var e=new t.LatLngBounds;return this._currentLayer&&e.extend(this._currentLayer.getBounds?this._currentLayer.getBounds():this._currentLayer.getLatLng()),e}}),t.timeDimension.layer=function(e,i){return new t.TimeDimension.Layer(e,i)},t.TimeDimension.Layer.WMS=t.TimeDimension.Layer.extend({initialize:function(e,i){t.TimeDimension.Layer.prototype.initialize.call(this,e,i),this._timeCacheBackward=this.options.cacheBackward||this.options.cache||0,this._timeCacheForward=this.options.cacheForward||this.options.cache||0,this._wmsVersion=this.options.wmsVersion||this.options.version||e.options.version||"1.1.1",this._getCapabilitiesParams=this.options.getCapabilitiesParams||{},this._getCapabilitiesAlternateUrl=this.options.getCapabilitiesUrl||null,this._getCapabilitiesAlternateLayerName=this.options.getCapabilitiesLayerName||null,this._proxy=this.options.proxy||null,this._updateTimeDimension=this.options.updateTimeDimension||!1,this._setDefaultTime=this.options.setDefaultTime||!1,this._updateTimeDimensionMode=this.options.updateTimeDimensionMode||"intersect",this._period=this.options.period||null,this._layers={},this._defaultTime=0,this._availableTimes=[],this._capabilitiesRequested=!1,(this._updateTimeDimension||this.options.requestTimeFromCapabilities)&&this._requestTimeDimensionFromCapabilities(),this._baseLayer.on("load",function(){this._baseLayer.setLoaded(!0),this.fire("timeload",{time:this._defaultTime})}.bind(this))},getEvents:function(){var e=t.bind(this._unvalidateCache,this);return{moveend:e,zoomend:e}},eachLayer:function(e,i){for(var n in this._layers)this._layers.hasOwnProperty(n)&&e.call(i,this._layers[n]);return t.TimeDimension.Layer.prototype.eachLayer.call(this,e,i)},_onNewTimeLoading:function(t){var e=this._getLayerForTime(t.time);this._map.hasLayer(e)||this._map.addLayer(e)},isReady:function(t){var e=this._getLayerForTime(t);return!(!this.options.bounds||!this._map||this._map.getBounds().contains(this.options.bounds))||e.isLoaded()},onAdd:function(e){t.TimeDimension.Layer.prototype.onAdd.call(this,e),0==this._availableTimes.length?this._requestTimeDimensionFromCapabilities():this._updateTimeDimensionAvailableTimes()},_update:function(){if(this._map){var t=this._timeDimension.getCurrentTime(),e=this._getLayerForTime(t);null==this._currentLayer&&(this._currentLayer=e),this._map.hasLayer(e)?this._showLayer(e,t):this._map.addLayer(e)}},setOpacity:function(e){for(var i in t.TimeDimension.Layer.prototype.setOpacity.apply(this,arguments),this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].setOpacity&&this._layers[i].setOpacity(e)},setZIndex:function(e){for(var i in t.TimeDimension.Layer.prototype.setZIndex.apply(this,arguments),this._layers)this._layers.hasOwnProperty(i)&&this._layers[i].setZIndex&&this._layers[i].setZIndex(e)},setParams:function(e,i){for(var n in t.extend(this._baseLayer.options,e),this._baseLayer.setParams&&this._baseLayer.setParams(e,i),this._layers)this._layers.hasOwnProperty(n)&&this._layers[n].setParams&&(this._layers[n].setLoaded(!1),this._layers[n].setParams(e,i));return this},_unvalidateCache:function(){var t=this._timeDimension.getCurrentTime();for(var e in this._layers)t!=e&&this._layers.hasOwnProperty(e)&&(this._layers[e].setLoaded(!1),this._layers[e].redraw())},_evictCachedTimes:function(t,e){var i=this._getLoadedTimes(),n=String(this._currentTime),r=i.indexOf(n),a=[];if(e>-1&&(o=r-e)>0&&(a=i.splice(0,o),this._removeLayers(a)),t>-1){r=i.indexOf(n);var o=i.length-r-t-1;o>0&&(a=i.splice(r+t+1,o),this._removeLayers(a))}},_showLayer:function(t,e){this._currentLayer&&this._currentLayer!==t&&this._currentLayer.hide(),t.show(),this._currentLayer&&this._currentLayer===t||(this._currentLayer=t,this._currentTime=e,this._evictCachedTimes(this._timeCacheForward,this._timeCacheBackward))},_getLayerForTime:function(t){if(0==t||t==this._defaultTime||null==t)return this._baseLayer;if(this._layers.hasOwnProperty(t))return this._layers[t];var e=this._getNearestTime(t);if(this._layers.hasOwnProperty(e))return this._layers[e];var i=this._createLayerForTime(e);return this._layers[t]=i,i.on("load",function(t,e){t.setLoaded(!0),this._layers[e]||(this._layers[e]=t),this._timeDimension&&e==this._timeDimension.getCurrentTime()&&!this._timeDimension.isLoading()&&this._showLayer(t,e),this.fire("timeload",{time:e})}.bind(this,i,t)),i.onAdd=function(t){Object.getPrototypeOf(this).onAdd.call(this,t),this.hide()}.bind(i),i},_createLayerForTime:function(t){var e=this._baseLayer.options;return e.time=new Date(t).toISOString(),new this._baseLayer.constructor(this._baseLayer.getURL(),e)},_getLoadedTimes:function(){var t=[];for(var e in this._layers)this._layers.hasOwnProperty(e)&&t.push(e);return t.sort((function(t,e){return t-e}))},_removeLayers:function(t){for(var e=0,i=t.length;e<i;e++)this._map&&this._map.removeLayer(this._layers[t[e]]),delete this._layers[t[e]]},setMinimumForwardCache:function(t){t>this._timeCacheForward&&(this._timeCacheForward=t)},_requestTimeDimensionFromCapabilities:function(){if(!this._capabilitiesRequested){this._capabilitiesRequested=!0;var t=this._getCapabilitiesUrl();this._proxy&&(t=this._proxy+"?url="+encodeURIComponent(t));var e=new XMLHttpRequest;e.addEventListener("load",function(t){var e=t.currentTarget.responseXML;null!==e&&(this._defaultTime=Date.parse(this._getDefaultTimeFromCapabilities(e)),this._setDefaultTime=this._setDefaultTime||this._timeDimension&&0==this._timeDimension.getAvailableTimes().length,this.setAvailableTimes(this._parseTimeDimensionFromCapabilities(e)),this._setDefaultTime&&this._timeDimension&&this._timeDimension.setCurrentTime(this._defaultTime))}.bind(this)),e.overrideMimeType("application/xml"),e.open("GET",t),e.send()}},_getCapabilitiesUrl:function(){var e=this._baseLayer.getURL();this._getCapabilitiesAlternateUrl&&(e=this._getCapabilitiesAlternateUrl);var i=t.extend({},this._getCapabilitiesParams,{request:"GetCapabilities",service:"WMS",version:this._wmsVersion});return e+t.Util.getParamString(i,e,i.uppercase)},_parseTimeDimensionFromCapabilities:function(t){var e=t.querySelectorAll('Layer[queryable="1"]'),i=this._baseLayer.wmsParams.layers,n=null,r=null;return e.forEach((function(t){t.querySelector("Name").innerHTML===i&&(n=t)})),n&&((r=this._getTimesFromLayerCapabilities(n))||(r=this._getTimesFromLayerCapabilities(n.parentNode))),r},_getTimesFromLayerCapabilities:function(t){for(var e=null,i=t.children,n=0,r=i.length;n<r;n++)if(("Extent"===i[n].nodeName||"Dimension"===i[n].nodeName)&&"time"===i[n].getAttribute("name")&&i[n].textContent.length){e=i[n].textContent.trim();break}return e},_getDefaultTimeFromCapabilities:function(t){var e=t.querySelectorAll('Layer[queryable="1"]'),i=this._baseLayer.wmsParams.layers,n=null;e.forEach((function(t){t.querySelector("Name").innerHTML===i&&(n=t)}));var r=0;return n&&0==(r=this._getDefaultTimeFromLayerCapabilities(n))&&(r=this._getDefaultTimeFromLayerCapabilities(n.parentNode)),r},_getDefaultTimeFromLayerCapabilities:function(t){for(var e=0,i=t.children,n=0,r=i.length;n<r;n++)if(("Extent"===i[n].nodeName||"Dimension"===i[n].nodeName)&&"time"===i[n].getAttribute("name")&&i[n].attributes.default&&i[n].attributes.default.textContent.length){e=i[n].attributes.default.textContent.trim();break}return e},setAvailableTimes:function(e){this._availableTimes=t.TimeDimension.Util.parseTimesExpression(e,this._period),this._updateTimeDimensionAvailableTimes()},_updateTimeDimensionAvailableTimes:function(){(this._timeDimension&&this._updateTimeDimension||this._timeDimension&&0==this._timeDimension.getAvailableTimes().length)&&(this._timeDimension.setAvailableTimes(this._availableTimes,this._updateTimeDimensionMode),this._setDefaultTime&&this._defaultTime>0&&this._timeDimension.setCurrentTime(this._defaultTime))},_getNearestTime:function(t){if(this._layers.hasOwnProperty(t))return t;if(0==this._availableTimes.length)return t;for(var e=0,i=this._availableTimes.length;e<i&&!(t<this._availableTimes[e]);e++);return e>0&&e--,this._availableTimes[e],this._availableTimes[e]}}),t.NonTiledLayer||(t.NonTiledLayer=(t.Layer||t.Class).extend({})),t.NonTiledLayer.include({_visible:!0,_loaded:!1,_originalUpdate:t.NonTiledLayer.prototype._update,_originalOnRemove:t.NonTiledLayer.prototype.onRemove,_update:function(){!this._visible&&this._loaded||this._originalUpdate()},onRemove:function(t){this._loaded=!1,this._originalOnRemove(t)},setLoaded:function(t){this._loaded=t},isLoaded:function(){return this._loaded},hide:function(){this._visible=!1,this._div.style.display="none"},show:function(){this._visible=!0,this._div.style.display="block"},getURL:function(){return this._wmsUrl}}),t.TileLayer.include({_visible:!0,_loaded:!1,_originalUpdate:t.TileLayer.prototype._update,_update:function(){!this._visible&&this._loaded||this._originalUpdate()},setLoaded:function(t){this._loaded=t},isLoaded:function(){return this._loaded},hide:function(){this._visible=!1,this._container&&(this._container.style.display="none")},show:function(){this._visible=!0,this._container&&(this._container.style.display="block")},getURL:function(){return this._url}}),t.timeDimension.layer.wms=function(e,i){return new t.TimeDimension.Layer.WMS(e,i)},t.TimeDimension.Layer.GeoJson=t.TimeDimension.Layer.extend({initialize:function(e,i){t.TimeDimension.Layer.prototype.initialize.call(this,e,i),this._updateTimeDimension=this.options.updateTimeDimension||!1,this._updateTimeDimensionMode=this.options.updateTimeDimensionMode||"extremes",this._duration=this.options.duration||null,this._addlastPoint=this.options.addlastPoint||!1,this._waitForReady=this.options.waitForReady||!1,this._defaultTime=0,this._availableTimes=[],this._loaded=!1,0==this._baseLayer.getLayers().length?this._waitForReady?this._baseLayer.on("ready",this._onReadyBaseLayer,this):this._loaded=!0:(this._loaded=!0,this._setAvailableTimes()),this._baseLayer.on("layeradd",function(){this._loaded&&this._setAvailableTimes()}.bind(this))},onAdd:function(e){t.TimeDimension.Layer.prototype.onAdd.call(this,e),this._loaded&&this._setAvailableTimes()},eachLayer:function(e,i){return this._currentLayer&&e.call(i,this._currentLayer),t.TimeDimension.Layer.prototype.eachLayer.call(this,e,i)},isReady:function(t){return this._loaded},_update:function(){if(this._map&&this._loaded){this._timeDimension.getCurrentTime();var e=this._timeDimension.getCurrentTime(),i=0;if(this._duration){var n=new Date(e);t.TimeDimension.Util.subtractTimeDuration(n,this._duration,!0),i=n.getTime()}for(var r=t.geoJson(null,this._baseLayer.options),a=this._baseLayer.getLayers(),o=0,s=a.length;o<s;o++){var l=this._getFeatureBetweenDates(a[o].feature,i,e);if(l&&(r.addData(l),this._addlastPoint&&"LineString"==l.geometry.type&&l.geometry.coordinates.length>0)){var u=l.properties;u.last=!0,r.addData({type:"Feature",properties:u,geometry:{type:"Point",coordinates:l.geometry.coordinates[l.geometry.coordinates.length-1]}})}}this._currentLayer&&this._map.removeLayer(this._currentLayer),r.getLayers().length&&(r.addTo(this._map),this._currentLayer=r)}},_setAvailableTimes:function(){for(var e=[],i=this._baseLayer.getLayers(),n=0,r=i.length;n<r;n++)if(i[n].feature)for(var a=this._getFeatureTimes(i[n].feature),o=0,s=a.length;o<s;o++)e.push(a[o]);this._availableTimes=t.TimeDimension.Util.sort_and_deduplicate(e),this._timeDimension&&(this._updateTimeDimension||0==this._timeDimension.getAvailableTimes().length)&&this._timeDimension.setAvailableTimes(this._availableTimes,this._updateTimeDimensionMode)},_getFeatureTimes:function(t){if(!t.featureTimes){t.properties?t.properties.hasOwnProperty("coordTimes")?t.featureTimes=t.properties.coordTimes:t.properties.hasOwnProperty("times")?t.featureTimes=t.properties.times:t.properties.hasOwnProperty("linestringTimestamps")?t.featureTimes=t.properties.linestringTimestamps:t.properties.hasOwnProperty("time")?t.featureTimes=[t.properties.time]:t.featureTimes=[]:t.featureTimes=[];for(var e=0,i=t.featureTimes.length;e<i;e++){var n=t.featureTimes[e];("string"==typeof n||n instanceof String)&&(n=Date.parse(n.trim()),t.featureTimes[e]=n)}}return t.featureTimes},_getFeatureBetweenDates:function(t,e,i){var n=this._getFeatureTimes(t);if(0==n.length)return t;var r=null,a=null,o=n.length;if(n[0]>i||n[o-1]<e)return null;if(n[o-1]>e)for(var s=0;s<o;s++)if(null===r&&n[s]>e&&(r=s),n[s]>i){a=s;break}null===r&&(r=0),null===a&&(a=o);var l=[];return l=t.geometry.coordinates[0].length?t.geometry.coordinates.slice(r,a):t.geometry.coordinates,{type:"Feature",properties:t.properties,geometry:{type:t.geometry.type,coordinates:l}}},_onReadyBaseLayer:function(){this._loaded=!0,this._setAvailableTimes(),this._update()}}),t.timeDimension.layer.geoJson=function(e,i){return new t.TimeDimension.Layer.GeoJson(e,i)},t.TimeDimension.Player=(t.Layer||t.Class).extend({includes:t.Evented||t.Mixin.Events,initialize:function(e,i){t.setOptions(this,e),this._timeDimension=i,this._paused=!1,this._buffer=this.options.buffer||5,this._minBufferReady=this.options.minBufferReady||1,this._waitingForBuffer=!1,this._loop=this.options.loop||!1,this._steps=1,this._timeDimension.on("timeload",function(t){this.release(),this._waitingForBuffer=!1}.bind(this)),this.setTransitionTime(this.options.transitionTime||1e3),this._timeDimension.on("limitschanged availabletimeschanged timeload",function(t){this._timeDimension.prepareNextTimes(this._steps,this._minBufferReady,this._loop)}.bind(this))},_tick:function(){var t=this._getMaxIndex(),e=this._timeDimension.getCurrentTimeIndex()>=t&&this._steps>0,i=0==this._timeDimension.getCurrentTimeIndex()&&this._steps<0;if((e||i)&&!this._loop)return this.pause(),this.stop(),void this.fire("animationfinished");if(!this._paused){var n=0,r=this._bufferSize;if(this._minBufferReady>0)if(n=this._timeDimension.getNumberNextTimesReady(this._steps,r,this._loop),this._waitingForBuffer){if(n<r)return void this.fire("waiting",{buffer:r,available:n});this.fire("running"),this._waitingForBuffer=!1}else if(n<this._minBufferReady)return this._waitingForBuffer=!0,this._timeDimension.prepareNextTimes(this._steps,r,this._loop),void this.fire("waiting",{buffer:r,available:n});this.pause(),this._timeDimension.nextTime(this._steps,this._loop),r>0&&this._timeDimension.prepareNextTimes(this._steps,r,this._loop)}},_getMaxIndex:function(){return Math.min(this._timeDimension.getAvailableTimes().length-1,this._timeDimension.getUpperLimitIndex()||1/0)},start:function(e){this._intervalID||(this._steps=e||1,this._waitingForBuffer=!1,this.options.startOver&&this._timeDimension.getCurrentTimeIndex()===this._getMaxIndex()&&this._timeDimension.setCurrentTimeIndex(this._timeDimension.getLowerLimitIndex()||0),this.release(),this._intervalID=window.setInterval(t.bind(this._tick,this),this._transitionTime),this._tick(),this.fire("play"),this.fire("running"))},stop:function(){this._intervalID&&(clearInterval(this._intervalID),this._intervalID=null,this._waitingForBuffer=!1,this.fire("stop"))},pause:function(){this._paused=!0},release:function(){this._paused=!1},getTransitionTime:function(){return this._transitionTime},isPlaying:function(){return!!this._intervalID},isWaiting:function(){return this._waitingForBuffer},isLooped:function(){return this._loop},setLooped:function(t){this._loop=t,this.fire("loopchange",{loop:t})},setTransitionTime:function(t){this._transitionTime=t,"function"==typeof this._buffer?this._bufferSize=this._buffer.call(this,this._transitionTime,this._minBufferReady,this._loop):this._bufferSize=this._buffer,this._intervalID&&(this.stop(),this.start(this._steps)),this.fire("speedchange",{transitionTime:t,buffer:this._bufferSize})},getSteps:function(){return this._steps}}),t.UI=t.ui=t.UI||{},t.UI.Knob=t.Draggable.extend({options:{className:"knob",step:1,rangeMin:0,rangeMax:10},initialize:function(e,i){t.setOptions(this,i),this._element=t.DomUtil.create("div",this.options.className||"knob",e),t.Draggable.prototype.initialize.call(this,this._element,this._element),this._container=e,this.on("predrag",(function(){this._newPos.y=0,this._newPos.x=this._adjustX(this._newPos.x)}),this),this.on("dragstart",(function(){t.DomUtil.addClass(e,"dragging")})),this.on("dragend",(function(){t.DomUtil.removeClass(e,"dragging")})),t.DomEvent.on(this._element,"dblclick",(function(t){this.fire("dblclick",t)}),this),t.DomEvent.disableClickPropagation(this._element),this.enable()},_getProjectionCoef:function(){return(this.options.rangeMax-this.options.rangeMin)/(this._container.offsetWidth||this._container.style.width)},_update:function(){this.setPosition(t.DomUtil.getPosition(this._element).x)},_adjustX:function(t){var e=this._toValue(t)||this.getMinValue();return this._toX(this._adjustValue(e))},_adjustValue:function(t){return t=Math.max(this.getMinValue(),Math.min(this.getMaxValue(),t)),t-=this.options.rangeMin,t=Math.round(t/this.options.step)*this.options.step,t+=this.options.rangeMin,Math.round(100*t)/100},_toX:function(t){return(t-this.options.rangeMin)/this._getProjectionCoef()},_toValue:function(t){return t*this._getProjectionCoef()+this.options.rangeMin},getMinValue:function(){return this.options.minValue||this.options.rangeMin},getMaxValue:function(){return this.options.maxValue||this.options.rangeMax},setStep:function(t){this.options.step=t,this._update()},setPosition:function(e){t.DomUtil.setPosition(this._element,t.point(this._adjustX(e),0)),this.fire("positionchanged")},getPosition:function(){return t.DomUtil.getPosition(this._element).x},setValue:function(t){this.setPosition(this._toX(t))},getValue:function(){return this._adjustValue(this._toValue(this.getPosition()))}}),t.Control.TimeDimension=t.Control.extend({options:{styleNS:"leaflet-control-timecontrol",position:"bottomleft",title:"Time Control",backwardButton:!0,forwardButton:!0,playButton:!0,playReverseButton:!1,loopButton:!1,displayDate:!0,timeSlider:!0,timeSliderDragUpdate:!1,limitSliders:!1,limitMinimumRange:5,speedSlider:!0,minSpeed:.1,maxSpeed:10,speedStep:.1,timeSteps:1,autoPlay:!1,playerOptions:{transitionTime:1e3},timeZones:["UTC","Local"]},initialize:function(e){t.setOptions(e),t.Control.prototype.initialize.call(this,e),this._timeZoneIndex=0,this._timeDimension=this.options.timeDimension||null},onAdd:function(e){var i;return this._map=e,!this._timeDimension&&e.timeDimension&&(this._timeDimension=e.timeDimension),this._initPlayer(),i=t.DomUtil.create("div","leaflet-bar leaflet-bar-horizontal leaflet-bar-timecontrol"),this.options.backwardButton&&(this._buttonBackward=this._createButton("Backward",i)),this.options.playReverseButton&&(this._buttonPlayReversePause=this._createButton("Play Reverse",i)),this.options.playButton&&(this._buttonPlayPause=this._createButton("Play",i)),this.options.forwardButton&&(this._buttonForward=this._createButton("Forward",i)),this.options.loopButton&&(this._buttonLoop=this._createButton("Loop",i)),this.options.displayDate&&(this._displayDate=this._createButton("Date",i)),this.options.timeSlider&&(this._sliderTime=this._createSliderTime(this.options.styleNS+" timecontrol-slider timecontrol-dateslider",i)),this.options.speedSlider&&(this._sliderSpeed=this._createSliderSpeed(this.options.styleNS+" timecontrol-slider timecontrol-speed",i)),this._steps=this.options.timeSteps||1,this._timeDimension.on("timeload",this._update,this),this._timeDimension.on("timeload",this._onPlayerStateChange,this),this._timeDimension.on("timeloading",this._onTimeLoading,this),this._timeDimension.on("limitschanged availabletimeschanged",this._onTimeLimitsChanged,this),t.DomEvent.disableClickPropagation(i),i},addTo:function(){return t.Control.prototype.addTo.apply(this,arguments),this._onPlayerStateChange(),this._onTimeLimitsChanged(),this._update(),this},onRemove:function(){this._player.off("play stop running loopchange speedchange",this._onPlayerStateChange,this),this._player.off("waiting",this._onPlayerWaiting,this),this._timeDimension.off("timeload",this._update,this),this._timeDimension.off("timeload",this._onPlayerStateChange,this),this._timeDimension.off("timeloading",this._onTimeLoading,this),this._timeDimension.off("limitschanged availabletimeschanged",this._onTimeLimitsChanged,this)},_initPlayer:function(){this._player||(this.options.player?this._player=this.options.player:this._player=new t.TimeDimension.Player(this.options.playerOptions,this._timeDimension)),this.options.autoPlay&&this._player.start(this._steps),this._player.on("play stop running loopchange speedchange",this._onPlayerStateChange,this),this._player.on("waiting",this._onPlayerWaiting,this),this._onPlayerStateChange()},_onTimeLoading:function(e){e.time==this._timeDimension.getCurrentTime()&&this._displayDate&&t.DomUtil.addClass(this._displayDate,"loading")},_onTimeLimitsChanged:function(){var t=this._timeDimension.getLowerLimitIndex(),e=this._timeDimension.getUpperLimitIndex(),i=this._timeDimension.getAvailableTimes().length-1;this._limitKnobs&&(this._limitKnobs[0].options.rangeMax=i,this._limitKnobs[1].options.rangeMax=i,this._limitKnobs[0].setValue(t||0),this._limitKnobs[1].setValue(e||i)),this._sliderTime&&(this._sliderTime.options.rangeMax=i,this._sliderTime._update())},_onPlayerWaiting:function(e){this._buttonPlayPause&&this._player.getSteps()>0&&(t.DomUtil.addClass(this._buttonPlayPause,"loading"),this._buttonPlayPause.innerHTML=this._getDisplayLoadingText(e.available,e.buffer)),this._buttonPlayReversePause&&this._player.getSteps()<0&&(t.DomUtil.addClass(this._buttonPlayReversePause,"loading"),this._buttonPlayReversePause.innerHTML=this._getDisplayLoadingText(e.available,e.buffer))},_onPlayerStateChange:function(){if(this._buttonPlayPause&&(this._player.isPlaying()&&this._player.getSteps()>0?(t.DomUtil.addClass(this._buttonPlayPause,"pause"),t.DomUtil.removeClass(this._buttonPlayPause,"play")):(t.DomUtil.removeClass(this._buttonPlayPause,"pause"),t.DomUtil.addClass(this._buttonPlayPause,"play")),this._player.isWaiting()&&this._player.getSteps()>0?t.DomUtil.addClass(this._buttonPlayPause,"loading"):(this._buttonPlayPause.innerHTML="",t.DomUtil.removeClass(this._buttonPlayPause,"loading"))),this._buttonPlayReversePause&&(this._player.isPlaying()&&this._player.getSteps()<0?t.DomUtil.addClass(this._buttonPlayReversePause,"pause"):t.DomUtil.removeClass(this._buttonPlayReversePause,"pause"),this._player.isWaiting()&&this._player.getSteps()<0?t.DomUtil.addClass(this._buttonPlayReversePause,"loading"):(this._buttonPlayReversePause.innerHTML="",t.DomUtil.removeClass(this._buttonPlayReversePause,"loading"))),this._buttonLoop&&(this._player.isLooped()?t.DomUtil.addClass(this._buttonLoop,"looped"):t.DomUtil.removeClass(this._buttonLoop,"looped")),this._sliderSpeed&&!this._draggingSpeed){var e=this._player.getTransitionTime()||1e3;e=Math.round(1e4/e)/10,this._sliderSpeed.setValue(e)}},_update:function(){if(this._timeDimension)if(this._timeDimension.getCurrentTimeIndex()>=0){var e=new Date(this._timeDimension.getCurrentTime());this._displayDate&&(t.DomUtil.removeClass(this._displayDate,"loading"),this._displayDate.innerHTML=this._getDisplayDateFormat(e)),this._sliderTime&&!this._slidingTimeSlider&&this._sliderTime.setValue(this._timeDimension.getCurrentTimeIndex())}else this._displayDate&&(this._displayDate.innerHTML=this._getDisplayNoTimeError())},_createButton:function(e,i){var n=t.DomUtil.create("a",this.options.styleNS+" timecontrol-"+e.toLowerCase(),i);return n.href="#",n.title=e,t.DomEvent.addListener(n,"click",t.DomEvent.stopPropagation).addListener(n,"click",t.DomEvent.preventDefault).addListener(n,"click",this["_button"+e.replace(/ /i,"")+"Clicked"],this),n},_createSliderTime:function(e,i){var n,r,a,o,s;return n=t.DomUtil.create("div",e,i),r=t.DomUtil.create("div","slider",n),a=this._timeDimension.getAvailableTimes().length-1,this.options.limitSliders&&(s=this._limitKnobs=this._createLimitKnobs(r)),(o=new t.UI.Knob(r,{className:"knob main",rangeMin:0,rangeMax:a})).on("dragend",(function(t){var e=t.target.getValue();this._sliderTimeValueChanged(e),this._slidingTimeSlider=!1}),this),o.on("drag",(function(t){this._slidingTimeSlider=!0;var e=this._timeDimension.getAvailableTimes()[t.target.getValue()];if(e){var i=new Date(e);this._displayDate&&(this._displayDate.innerHTML=this._getDisplayDateFormat(i)),this.options.timeSliderDragUpdate&&this._sliderTimeValueChanged(t.target.getValue())}}),this),o.on("predrag",(function(){var t,e;s&&(t=s[0].getPosition(),e=s[1].getPosition(),this._newPos.x<t&&(this._newPos.x=t),this._newPos.x>e&&(this._newPos.x=e))}),o),t.DomEvent.on(r,"click",(function(e){if(!t.DomUtil.hasClass(e.target,"knob")){var i=e.touches&&1===e.touches.length?e.touches[0]:e,n=t.DomEvent.getMousePosition(i,r).x;s?s[0].getPosition()<=n&&n<=s[1].getPosition()&&(o.setPosition(n),this._sliderTimeValueChanged(o.getValue())):(o.setPosition(n),this._sliderTimeValueChanged(o.getValue()))}}),this),o.setPosition(0),o},_createLimitKnobs:function(e){t.DomUtil.addClass(e,"has-limits");var i=this._timeDimension.getAvailableTimes().length-1,n=t.DomUtil.create("div","range",e),r=new t.UI.Knob(e,{className:"knob lower",rangeMin:0,rangeMax:i}),a=new t.UI.Knob(e,{className:"knob upper",rangeMin:0,rangeMax:i});return t.DomUtil.setPosition(n,0),r.setPosition(0),a.setPosition(i),r.on("dragend",(function(t){var e=t.target.getValue();this._sliderLimitsValueChanged(e,a.getValue())}),this),a.on("dragend",(function(t){var e=t.target.getValue();this._sliderLimitsValueChanged(r.getValue(),e)}),this),r.on("drag positionchanged",(function(){t.DomUtil.setPosition(n,t.point(r.getPosition(),0)),n.style.width=a.getPosition()-r.getPosition()+"px"}),this),a.on("drag positionchanged",(function(){n.style.width=a.getPosition()-r.getPosition()+"px"}),this),a.on("predrag",(function(){var t=r._toX(r.getValue()+this.options.limitMinimumRange);a._newPos.x<=t&&(a._newPos.x=t)}),this),r.on("predrag",(function(){var t=a._toX(a.getValue()-this.options.limitMinimumRange);r._newPos.x>=t&&(r._newPos.x=t)}),this),r.on("dblclick",(function(){this._timeDimension.setLowerLimitIndex(0)}),this),a.on("dblclick",(function(){this._timeDimension.setUpperLimitIndex(this._timeDimension.getAvailableTimes().length-1)}),this),[r,a]},_createSliderSpeed:function(e,i){var n=t.DomUtil.create("div",e,i),r=t.DomUtil.create("span","speed",n),a=t.DomUtil.create("div","slider",n),o=Math.round(1e4/(this._player.getTransitionTime()||1e3))/10;r.innerHTML=this._getDisplaySpeed(o);var s=new t.UI.Knob(a,{step:this.options.speedStep,rangeMin:this.options.minSpeed,rangeMax:this.options.maxSpeed});return s.on("dragend",(function(t){var e=t.target.getValue();this._draggingSpeed=!1,r.innerHTML=this._getDisplaySpeed(e),this._sliderSpeedValueChanged(e)}),this),s.on("drag",(function(t){this._draggingSpeed=!0,r.innerHTML=this._getDisplaySpeed(t.target.getValue())}),this),s.on("positionchanged",(function(t){r.innerHTML=this._getDisplaySpeed(t.target.getValue())}),this),t.DomEvent.on(a,"click",(function(e){if(e.target!==s._element){var i=e.touches&&1===e.touches.length?e.touches[0]:e,n=t.DomEvent.getMousePosition(i,a).x;s.setPosition(n),r.innerHTML=this._getDisplaySpeed(s.getValue()),this._sliderSpeedValueChanged(s.getValue())}}),this),s},_buttonBackwardClicked:function(){this._timeDimension.previousTime(this._steps)},_buttonForwardClicked:function(){this._timeDimension.nextTime(this._steps)},_buttonLoopClicked:function(){this._player.setLooped(!this._player.isLooped())},_buttonPlayClicked:function(){this._player.isPlaying()?this._player.stop():this._player.start(this._steps)},_buttonPlayReverseClicked:function(){this._player.isPlaying()?this._player.stop():this._player.start(-1*this._steps)},_buttonDateClicked:function(){this._switchTimeZone()},_sliderTimeValueChanged:function(t){this._timeDimension.setCurrentTimeIndex(t)},_sliderLimitsValueChanged:function(t,e){this._timeDimension.setLowerLimitIndex(t),this._timeDimension.setUpperLimitIndex(e)},_sliderSpeedValueChanged:function(t){this._player.setTransitionTime(1e3/t)},_getCurrentTimeZone:function(){return this.options.timeZones[this._timeZoneIndex]},_switchTimeZone:function(){"utc"==this._getCurrentTimeZone().toLowerCase()&&t.DomUtil.removeClass(this._displayDate,"utc"),this._timeZoneIndex=(this._timeZoneIndex+1)%this.options.timeZones.length;var e=this._getCurrentTimeZone();"utc"==e.toLowerCase()?(t.DomUtil.addClass(this._displayDate,"utc"),this._displayDate.title="UTC Time"):"local"==e.toLowerCase()?this._displayDate.title="Local Time":this._displayDate.title=e,this._update()},_getDisplayDateFormat:function(t){var e=this._getCurrentTimeZone();return"utc"==e.toLowerCase()?t.toISOString():"local"==e.toLowerCase()?t.toLocaleString():t.toLocaleString([],{timeZone:e,timeZoneName:"short"})},_getDisplaySpeed:function(t){return t+"fps"},_getDisplayLoadingText:function(t,e){return"<span>"+Math.floor(t/e*100)+"%</span>"},_getDisplayNoTimeError:function(){return"Time not available"}}),t.Map.addInitHook((function(){this.options.timeDimensionControl&&(this.timeDimensionControl=t.control.timeDimension(this.options.timeDimensionControlOptions||{}),this.addControl(this.timeDimensionControl))})),t.control.timeDimension=function(e){return new t.Control.TimeDimension(e)},t.TimeDimension}),window)},"99af":function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("d039"),o=i("e8b5"),s=i("861d"),l=i("7b0b"),u=i("07fa"),c=i("8418"),h=i("65f0"),d=i("1dde"),p=i("b622"),f=i("2d00"),m=p("isConcatSpreadable"),g=9007199254740991,y="Maximum allowed index exceeded",_=r.TypeError,v=f>=51||!a((function(){var t=[];return t[m]=!1,t.concat()[0]!==t})),b=d("concat"),L=function(t){if(!s(t))return!1;var e=t[m];return void 0!==e?!!e:o(t)},w=!v||!b;n({target:"Array",proto:!0,forced:w},{concat:function(t){var e,i,n,r,a,o=l(this),s=h(o,0),d=0;for(e=-1,n=arguments.length;e<n;e++)if(a=-1===e?o:arguments[e],L(a)){if(r=u(a),d+r>g)throw _(y);for(i=0;i<r;i++,d++)i in a&&c(s,d,a[i])}else{if(d>=g)throw _(y);c(s,d++,a)}return s.length=d,s}})},"9bdd":function(t,e,i){var n=i("825a"),r=i("2a62");t.exports=function(t,e,i,a){try{return a?e(n(i)[0],i[1]):e(i)}catch(o){r(t,"throw",o)}}},"9f7f":function(t,e,i){var n=i("d039"),r=i("da84"),a=r.RegExp,o=n((function(){var t=a("a","y");return t.lastIndex=2,null!=t.exec("abcd")})),s=o||n((function(){return!a("a","y").sticky})),l=o||n((function(){var t=a("^r","gy");return t.lastIndex=2,null!=t.exec("str")}));t.exports={BROKEN_CARET:l,MISSED_STICKY:s,UNSUPPORTED_Y:o}},a15b:function(t,e,i){"use strict";var n=i("23e7"),r=i("e330"),a=i("44ad"),o=i("fc6a"),s=i("a640"),l=r([].join),u=a!=Object,c=s("join",",");n({target:"Array",proto:!0,forced:u||!c},{join:function(t){return l(o(this),void 0===t?",":t)}})},a434:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("23cb"),o=i("5926"),s=i("07fa"),l=i("7b0b"),u=i("65f0"),c=i("8418"),h=i("1dde"),d=h("splice"),p=r.TypeError,f=Math.max,m=Math.min,g=9007199254740991,y="Maximum allowed length exceeded";n({target:"Array",proto:!0,forced:!d},{splice:function(t,e){var i,n,r,h,d,_,v=l(this),b=s(v),L=a(t,b),w=arguments.length;if(0===w?i=n=0:1===w?(i=0,n=b-L):(i=w-2,n=m(f(o(e),0),b-L)),b+i-n>g)throw p(y);for(r=u(v,n),h=0;h<n;h++)d=L+h,d in v&&c(r,h,v[d]);if(r.length=n,i<n){for(h=L;h<b-n;h++)d=h+n,_=h+i,d in v?v[_]=v[d]:delete v[_];for(h=b;h>b-n+i;h--)delete v[h-1]}else if(i>n)for(h=b-n;h>L;h--)d=h+n-1,_=h+i-1,d in v?v[_]=v[d]:delete v[_];for(h=0;h<i;h++)v[h+L]=arguments[h+2];return v.length=b-n+i,r}})},a4d3:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("d066"),o=i("2ba4"),s=i("c65b"),l=i("e330"),u=i("c430"),c=i("83ab"),h=i("4930"),d=i("d039"),p=i("1a2d"),f=i("e8b5"),m=i("1626"),g=i("861d"),y=i("3a9b"),_=i("d9b5"),v=i("825a"),b=i("7b0b"),L=i("fc6a"),w=i("a04b"),k=i("577e"),D=i("5c6c"),S=i("7c73"),T=i("df75"),M=i("241c"),x=i("057f"),C=i("7418"),P=i("06cf"),E=i("9bf2"),R=i("d1e7"),O=i("f36a"),I=i("6eeb"),U=i("5692"),B=i("f772"),N=i("d012"),A=i("90e3"),j=i("b622"),F=i("e538"),G=i("746f"),z=i("d44e"),q=i("69f3"),V=i("b727").forEach,H=B("hidden"),J="Symbol",$="prototype",Z=j("toPrimitive"),W=q.set,Q=q.getterFor(J),K=Object[$],X=r.Symbol,Y=X&&X[$],tt=r.TypeError,et=r.QObject,it=a("JSON","stringify"),nt=P.f,rt=E.f,at=x.f,ot=R.f,st=l([].push),lt=U("symbols"),ut=U("op-symbols"),ct=U("string-to-symbol-registry"),ht=U("symbol-to-string-registry"),dt=U("wks"),pt=!et||!et[$]||!et[$].findChild,ft=c&&d((function(){return 7!=S(rt({},"a",{get:function(){return rt(this,"a",{value:7}).a}})).a}))?function(t,e,i){var n=nt(K,e);n&&delete K[e],rt(t,e,i),n&&t!==K&&rt(K,e,n)}:rt,mt=function(t,e){var i=lt[t]=S(Y);return W(i,{type:J,tag:t,description:e}),c||(i.description=e),i},gt=function(t,e,i){t===K&&gt(ut,e,i),v(t);var n=w(e);return v(i),p(lt,n)?(i.enumerable?(p(t,H)&&t[H][n]&&(t[H][n]=!1),i=S(i,{enumerable:D(0,!1)})):(p(t,H)||rt(t,H,D(1,{})),t[H][n]=!0),ft(t,n,i)):rt(t,n,i)},yt=function(t,e){v(t);var i=L(e),n=T(i).concat(wt(i));return V(n,(function(e){c&&!s(vt,i,e)||gt(t,e,i[e])})),t},_t=function(t,e){return void 0===e?S(t):yt(S(t),e)},vt=function(t){var e=w(t),i=s(ot,this,e);return!(this===K&&p(lt,e)&&!p(ut,e))&&(!(i||!p(this,e)||!p(lt,e)||p(this,H)&&this[H][e])||i)},bt=function(t,e){var i=L(t),n=w(e);if(i!==K||!p(lt,n)||p(ut,n)){var r=nt(i,n);return!r||!p(lt,n)||p(i,H)&&i[H][n]||(r.enumerable=!0),r}},Lt=function(t){var e=at(L(t)),i=[];return V(e,(function(t){p(lt,t)||p(N,t)||st(i,t)})),i},wt=function(t){var e=t===K,i=at(e?ut:L(t)),n=[];return V(i,(function(t){!p(lt,t)||e&&!p(K,t)||st(n,lt[t])})),n};if(h||(X=function(){if(y(Y,this))throw tt("Symbol is not a constructor");var t=arguments.length&&void 0!==arguments[0]?k(arguments[0]):void 0,e=A(t),i=function(t){this===K&&s(i,ut,t),p(this,H)&&p(this[H],e)&&(this[H][e]=!1),ft(this,e,D(1,t))};return c&&pt&&ft(K,e,{configurable:!0,set:i}),mt(e,t)},Y=X[$],I(Y,"toString",(function(){return Q(this).tag})),I(X,"withoutSetter",(function(t){return mt(A(t),t)})),R.f=vt,E.f=gt,P.f=bt,M.f=x.f=Lt,C.f=wt,F.f=function(t){return mt(j(t),t)},c&&(rt(Y,"description",{configurable:!0,get:function(){return Q(this).description}}),u||I(K,"propertyIsEnumerable",vt,{unsafe:!0}))),n({global:!0,wrap:!0,forced:!h,sham:!h},{Symbol:X}),V(T(dt),(function(t){G(t)})),n({target:J,stat:!0,forced:!h},{for:function(t){var e=k(t);if(p(ct,e))return ct[e];var i=X(e);return ct[e]=i,ht[i]=e,i},keyFor:function(t){if(!_(t))throw tt(t+" is not a symbol");if(p(ht,t))return ht[t]},useSetter:function(){pt=!0},useSimple:function(){pt=!1}}),n({target:"Object",stat:!0,forced:!h,sham:!c},{create:_t,defineProperty:gt,defineProperties:yt,getOwnPropertyDescriptor:bt}),n({target:"Object",stat:!0,forced:!h},{getOwnPropertyNames:Lt,getOwnPropertySymbols:wt}),n({target:"Object",stat:!0,forced:d((function(){C.f(1)}))},{getOwnPropertySymbols:function(t){return C.f(b(t))}}),it){var kt=!h||d((function(){var t=X();return"[null]"!=it([t])||"{}"!=it({a:t})||"{}"!=it(Object(t))}));n({target:"JSON",stat:!0,forced:kt},{stringify:function(t,e,i){var n=O(arguments),r=e;if((g(e)||void 0!==t)&&!_(t))return f(e)||(e=function(t,e){if(m(r)&&(e=s(r,this,t,e)),!_(e))return e}),n[1]=e,o(it,null,n)}})}if(!Y[Z]){var Dt=Y.valueOf;I(Y,Z,(function(t){return s(Dt,this)}))}z(X,J),N[H]=!0},a640:function(t,e,i){"use strict";var n=i("d039");t.exports=function(t,e){var i=[][t];return!!i&&n((function(){i.call(null,e||function(){throw 1},1)}))}},ac1f:function(t,e,i){"use strict";var n=i("23e7"),r=i("9263");n({target:"RegExp",proto:!0,forced:/./.exec!==r},{exec:r})},ad6d:function(t,e,i){"use strict";var n=i("825a");t.exports=function(){var t=n(this),e="";return t.global&&(e+="g"),t.ignoreCase&&(e+="i"),t.multiline&&(e+="m"),t.dotAll&&(e+="s"),t.unicode&&(e+="u"),t.sticky&&(e+="y"),e}},addb:function(t,e,i){var n=i("4dae"),r=Math.floor,a=function(t,e){var i=t.length,l=r(i/2);return i<8?o(t,e):s(t,a(n(t,0,l),e),a(n(t,l),e),e)},o=function(t,e){var i,n,r=t.length,a=1;while(a<r){n=a,i=t[a];while(n&&e(t[n-1],i)>0)t[n]=t[--n];n!==a++&&(t[n]=i)}return t},s=function(t,e,i,n){var r=e.length,a=i.length,o=0,s=0;while(o<r||s<a)t[o+s]=o<r&&s<a?n(e[o],i[s])<=0?e[o++]:i[s++]:o<r?e[o++]:i[s++];return t};t.exports=a},b0c0:function(t,e,i){var n=i("83ab"),r=i("5e77").EXISTS,a=i("e330"),o=i("9bf2").f,s=Function.prototype,l=a(s.toString),u=/function\b(?:\s|\/\*[\S\s]*?\*\/|\/\/[^\n\r]*[\n\r]+)*([^\s(/]*)/,c=a(u.exec),h="name";n&&!r&&o(s,h,{configurable:!0,get:function(){try{return c(u,l(this))[1]}catch(t){return""}}})},b50d:function(t,e,i){"use strict";var n=i("c532"),r=i("467f"),a=i("7aac"),o=i("30b5"),s=i("83b9"),l=i("c345"),u=i("3934"),c=i("2d83"),h=i("2444"),d=i("7a77");t.exports=function(t){return new Promise((function(e,i){var p,f=t.data,m=t.headers,g=t.responseType;function y(){t.cancelToken&&t.cancelToken.unsubscribe(p),t.signal&&t.signal.removeEventListener("abort",p)}n.isFormData(f)&&delete m["Content-Type"];var _=new XMLHttpRequest;if(t.auth){var v=t.auth.username||"",b=t.auth.password?unescape(encodeURIComponent(t.auth.password)):"";m.Authorization="Basic "+btoa(v+":"+b)}var L=s(t.baseURL,t.url);function w(){if(_){var n="getAllResponseHeaders"in _?l(_.getAllResponseHeaders()):null,a=g&&"text"!==g&&"json"!==g?_.response:_.responseText,o={data:a,status:_.status,statusText:_.statusText,headers:n,config:t,request:_};r((function(t){e(t),y()}),(function(t){i(t),y()}),o),_=null}}if(_.open(t.method.toUpperCase(),o(L,t.params,t.paramsSerializer),!0),_.timeout=t.timeout,"onloadend"in _?_.onloadend=w:_.onreadystatechange=function(){_&&4===_.readyState&&(0!==_.status||_.responseURL&&0===_.responseURL.indexOf("file:"))&&setTimeout(w)},_.onabort=function(){_&&(i(c("Request aborted",t,"ECONNABORTED",_)),_=null)},_.onerror=function(){i(c("Network Error",t,null,_)),_=null},_.ontimeout=function(){var e=t.timeout?"timeout of "+t.timeout+"ms exceeded":"timeout exceeded",n=t.transitional||h.transitional;t.timeoutErrorMessage&&(e=t.timeoutErrorMessage),i(c(e,t,n.clarifyTimeoutError?"ETIMEDOUT":"ECONNABORTED",_)),_=null},n.isStandardBrowserEnv()){var k=(t.withCredentials||u(L))&&t.xsrfCookieName?a.read(t.xsrfCookieName):void 0;k&&(m[t.xsrfHeaderName]=k)}"setRequestHeader"in _&&n.forEach(m,(function(t,e){"undefined"===typeof f&&"content-type"===e.toLowerCase()?delete m[e]:_.setRequestHeader(e,t)})),n.isUndefined(t.withCredentials)||(_.withCredentials=!!t.withCredentials),g&&"json"!==g&&(_.responseType=t.responseType),"function"===typeof t.onDownloadProgress&&_.addEventListener("progress",t.onDownloadProgress),"function"===typeof t.onUploadProgress&&_.upload&&_.upload.addEventListener("progress",t.onUploadProgress),(t.cancelToken||t.signal)&&(p=function(t){_&&(i(!t||t&&t.type?new d("canceled"):t),_.abort(),_=null)},t.cancelToken&&t.cancelToken.subscribe(p),t.signal&&(t.signal.aborted?p():t.signal.addEventListener("abort",p))),f||(f=null),_.send(f)}))}},b64b:function(t,e,i){var n=i("23e7"),r=i("7b0b"),a=i("df75"),o=i("d039"),s=o((function(){a(1)}));n({target:"Object",stat:!0,forced:s},{keys:function(t){return a(r(t))}})},b727:function(t,e,i){var n=i("0366"),r=i("e330"),a=i("44ad"),o=i("7b0b"),s=i("07fa"),l=i("65f0"),u=r([].push),c=function(t){var e=1==t,i=2==t,r=3==t,c=4==t,h=6==t,d=7==t,p=5==t||h;return function(f,m,g,y){for(var _,v,b=o(f),L=a(b),w=n(m,g),k=s(L),D=0,S=y||l,T=e?S(f,k):i||d?S(f,0):void 0;k>D;D++)if((p||D in L)&&(_=L[D],v=w(_,D,b),t))if(e)T[D]=v;else if(v)switch(t){case 3:return!0;case 5:return _;case 6:return D;case 2:u(T,_)}else switch(t){case 4:return!1;case 7:u(T,_)}return h?-1:r||c?c:T}};t.exports={forEach:c(0),map:c(1),filter:c(2),some:c(3),every:c(4),find:c(5),findIndex:c(6),filterReject:c(7)}},bc3a:function(t,e,i){t.exports=i("cee4")},be62:function(t,e,i){"use strict";i("c571")},c345:function(t,e,i){"use strict";var n=i("c532"),r=["age","authorization","content-length","content-type","etag","expires","from","host","if-modified-since","if-unmodified-since","last-modified","location","max-forwards","proxy-authorization","referer","retry-after","user-agent"];t.exports=function(t){var e,i,a,o={};return t?(n.forEach(t.split("\n"),(function(t){if(a=t.indexOf(":"),e=n.trim(t.substr(0,a)).toLowerCase(),i=n.trim(t.substr(a+1)),e){if(o[e]&&r.indexOf(e)>=0)return;o[e]="set-cookie"===e?(o[e]?o[e]:[]).concat([i]):o[e]?o[e]+", "+i:i}})),o):o}},c401:function(t,e,i){"use strict";var n=i("c532"),r=i("2444");t.exports=function(t,e,i){var a=this||r;return n.forEach(i,(function(i){t=i.call(a,t,e)})),t}},c532:function(t,e,i){"use strict";var n=i("1d2b"),r=Object.prototype.toString;function a(t){return"[object Array]"===r.call(t)}function o(t){return"undefined"===typeof t}function s(t){return null!==t&&!o(t)&&null!==t.constructor&&!o(t.constructor)&&"function"===typeof t.constructor.isBuffer&&t.constructor.isBuffer(t)}function l(t){return"[object ArrayBuffer]"===r.call(t)}function u(t){return"undefined"!==typeof FormData&&t instanceof FormData}function c(t){var e;return e="undefined"!==typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(t):t&&t.buffer&&t.buffer instanceof ArrayBuffer,e}function h(t){return"string"===typeof t}function d(t){return"number"===typeof t}function p(t){return null!==t&&"object"===typeof t}function f(t){if("[object Object]"!==r.call(t))return!1;var e=Object.getPrototypeOf(t);return null===e||e===Object.prototype}function m(t){return"[object Date]"===r.call(t)}function g(t){return"[object File]"===r.call(t)}function y(t){return"[object Blob]"===r.call(t)}function _(t){return"[object Function]"===r.call(t)}function v(t){return p(t)&&_(t.pipe)}function b(t){return"undefined"!==typeof URLSearchParams&&t instanceof URLSearchParams}function L(t){return t.trim?t.trim():t.replace(/^\s+|\s+$/g,"")}function w(){return("undefined"===typeof navigator||"ReactNative"!==navigator.product&&"NativeScript"!==navigator.product&&"NS"!==navigator.product)&&("undefined"!==typeof window&&"undefined"!==typeof document)}function k(t,e){if(null!==t&&"undefined"!==typeof t)if("object"!==typeof t&&(t=[t]),a(t))for(var i=0,n=t.length;i<n;i++)e.call(null,t[i],i,t);else for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.call(null,t[r],r,t)}function D(){var t={};function e(e,i){f(t[i])&&f(e)?t[i]=D(t[i],e):f(e)?t[i]=D({},e):a(e)?t[i]=e.slice():t[i]=e}for(var i=0,n=arguments.length;i<n;i++)k(arguments[i],e);return t}function S(t,e,i){return k(e,(function(e,r){t[r]=i&&"function"===typeof e?n(e,i):e})),t}function T(t){return 65279===t.charCodeAt(0)&&(t=t.slice(1)),t}t.exports={isArray:a,isArrayBuffer:l,isBuffer:s,isFormData:u,isArrayBufferView:c,isString:h,isNumber:d,isObject:p,isPlainObject:f,isUndefined:o,isDate:m,isFile:g,isBlob:y,isFunction:_,isStream:v,isURLSearchParams:b,isStandardBrowserEnv:w,forEach:k,merge:D,extend:S,trim:L,stripBOM:T}},c571:function(t,e,i){},c607:function(t,e,i){var n=i("da84"),r=i("83ab"),a=i("fce3"),o=i("c6b6"),s=i("9bf2").f,l=i("69f3").get,u=RegExp.prototype,c=n.TypeError;r&&a&&s(u,"dotAll",{configurable:!0,get:function(){if(this!==u){if("RegExp"===o(this))return!!l(this).dotAll;throw c("Incompatible receiver, RegExp required")}}})},c740:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").findIndex,a=i("44d2"),o="findIndex",s=!0;o in[]&&Array(1)[o]((function(){s=!1})),n({target:"Array",proto:!0,forced:s},{findIndex:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a(o)},c8af:function(t,e,i){"use strict";var n=i("c532");t.exports=function(t,e){n.forEach(t,(function(i,n){n!==e&&n.toUpperCase()===e.toUpperCase()&&(t[e]=i,delete t[n])}))}},c8d2:function(t,e,i){var n=i("5e77").PROPER,r=i("d039"),a=i("5899"),o="​᠎";t.exports=function(t){return r((function(){return!!a[t]()||o[t]()!==o||n&&a[t].name!==t}))}},caad:function(t,e,i){"use strict";var n=i("23e7"),r=i("4d64").includes,a=i("44d2");n({target:"Array",proto:!0},{includes:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}}),a("includes")},cee4:function(t,e,i){"use strict";var n=i("c532"),r=i("1d2b"),a=i("0a06"),o=i("4a7b"),s=i("2444");function l(t){var e=new a(t),i=r(a.prototype.request,e);return n.extend(i,a.prototype,e),n.extend(i,e),i.create=function(e){return l(o(t,e))},i}var u=l(s);u.Axios=a,u.Cancel=i("7a77"),u.CancelToken=i("8df4"),u.isCancel=i("2e67"),u.VERSION=i("5cce").version,u.all=function(t){return Promise.all(t)},u.spread=i("0df6"),u.isAxiosError=i("5f02"),t.exports=u,t.exports.default=u},d28b:function(t,e,i){var n=i("746f");n("iterator")},d784:function(t,e,i){"use strict";i("ac1f");var n=i("e330"),r=i("6eeb"),a=i("9263"),o=i("d039"),s=i("b622"),l=i("9112"),u=s("species"),c=RegExp.prototype;t.exports=function(t,e,i,h){var d=s(t),p=!o((function(){var e={};return e[d]=function(){return 7},7!=""[t](e)})),f=p&&!o((function(){var e=!1,i=/a/;return"split"===t&&(i={},i.constructor={},i.constructor[u]=function(){return i},i.flags="",i[d]=/./[d]),i.exec=function(){return e=!0,null},i[d](""),!e}));if(!p||!f||i){var m=n(/./[d]),g=e(d,""[t],(function(t,e,i,r,o){var s=n(t),l=e.exec;return l===a||l===c.exec?p&&!o?{done:!0,value:m(e,i,r)}:{done:!0,value:s(i,e,r)}:{done:!1}}));r(String.prototype,t,g[0]),r(c,d,g[1])}h&&l(c[d],"sham",!0)}},d81d:function(t,e,i){"use strict";var n=i("23e7"),r=i("b727").map,a=i("1dde"),o=a("map");n({target:"Array",proto:!0,forced:!o},{map:function(t){return r(this,t,arguments.length>1?arguments[1]:void 0)}})},d925:function(t,e,i){"use strict";t.exports=function(t){return/^([a-z][a-z\d\+\-\.]*:)?\/\//i.test(t)}},d998:function(t,e,i){var n=i("342f");t.exports=/MSIE|Trident/.test(n)},e01a:function(t,e,i){"use strict";var n=i("23e7"),r=i("83ab"),a=i("da84"),o=i("e330"),s=i("1a2d"),l=i("1626"),u=i("3a9b"),c=i("577e"),h=i("9bf2").f,d=i("e893"),p=a.Symbol,f=p&&p.prototype;if(r&&l(p)&&(!("description"in f)||void 0!==p().description)){var m={},g=function(){var t=arguments.length<1||void 0===arguments[0]?void 0:c(arguments[0]),e=u(f,this)?new p(t):void 0===t?p():p(t);return""===t&&(m[e]=!0),e};d(g,p),g.prototype=f,f.constructor=g;var y="Symbol(test)"==String(p("test")),_=o(f.toString),v=o(f.valueOf),b=/^Symbol\((.*)\)[^)]+$/,L=o("".replace),w=o("".slice);h(f,"description",{configurable:!0,get:function(){var t=v(this),e=_(t);if(s(m,t))return"";var i=y?w(e,7,-1):L(e,b,"$1");return""===i?void 0:i}}),n({global:!0,forced:!0},{Symbol:g})}},e48c:function(t,e,i){var n,r,a;(function(i,o){r=[],n=o,a="function"===typeof n?n.apply(e,r):n,void 0===a||(t.exports=a)})(0,(function(){var t={Period:{}};function e(t,e){var i,n=e||!1,r=[2,3,4,5,7,8,9],a=[0,0,0,0,0,0,0],o=[0,12,4,7,24,60,60];if(t=t.toUpperCase(),!t)return a;if("string"!==typeof t)throw new Error("Invalid iso8601 period string '"+t+"'");if(!(i=/^P((\d+Y)?(\d+M)?(\d+W)?(\d+D)?)?(T(\d+H)?(\d+M)?(\d+S)?)?$/.exec(t)))throw new Error("String '"+t+"' is not a valid ISO8601 period.");for(var s=0;s<r.length;s++){var l=r[s];a[s]=i[l]?+i[l].replace(/[A-Za-z]+/g,""):0}if(n)for(s=a.length-1;s>0;s--)a[s]>=o[s]&&(a[s-1]=a[s-1]+Math.floor(a[s]/o[s]),a[s]=a[s]%o[s]);return a}return t.version="0.2",t.Period.parse=function(t,i){return e(t,i)},t.Period.parseToTotalSeconds=function(t){for(var i=[31104e3,2592e3,604800,86400,3600,60,1],n=e(t),r=0,a=0;a<n.length;a++)r+=n[a]*i[a];return r},t.Period.isValid=function(t){try{return e(t),!0}catch(i){return!1}},t.Period.parseToString=function(t,i,n,r){var a=["","","","","","",""],o=e(t,r);i||(i=["year","month","week","day","hour","minute","second"]),n||(n=["years","months","weeks","days","hours","minutes","seconds"]);for(var s=0;s<o.length;s++)o[s]>0&&(1==o[s]?a[s]=o[s]+" "+i[s]:a[s]=o[s]+" "+n[s]);return a.join(" ").trim().replace(/[ ]{2,}/g," ")},t}))},e538:function(t,e,i){var n=i("b622");e.f=n},e683:function(t,e,i){"use strict";t.exports=function(t,e){return e?t.replace(/\/+$/,"")+"/"+e.replace(/^\/+/,""):t}},e8b5:function(t,e,i){var n=i("c6b6");t.exports=Array.isArray||function(t){return"Array"==n(t)}},e9c4:function(t,e,i){var n=i("23e7"),r=i("da84"),a=i("d066"),o=i("2ba4"),s=i("e330"),l=i("d039"),u=r.Array,c=a("JSON","stringify"),h=s(/./.exec),d=s("".charAt),p=s("".charCodeAt),f=s("".replace),m=s(1..toString),g=/[\uD800-\uDFFF]/g,y=/^[\uD800-\uDBFF]$/,_=/^[\uDC00-\uDFFF]$/,v=function(t,e,i){var n=d(i,e-1),r=d(i,e+1);return h(y,t)&&!h(_,r)||h(_,t)&&!h(y,n)?"\\u"+m(p(t,0),16):t},b=l((function(){return'"\\udf06\\ud834"'!==c("\udf06\ud834")||'"\\udead"'!==c("\udead")}));c&&n({target:"JSON",stat:!0,forced:b},{stringify:function(t,e,i){for(var n=0,r=arguments.length,a=u(r);n<r;n++)a[n]=arguments[n];var s=o(c,null,a);return"string"==typeof s?f(s,g,v):s}})},ea98:function(t,e,i){"use strict";var n=i("23e7"),r=i("e330"),a=i("1d80"),o=i("5926"),s=i("577e"),l=i("d039"),u=r("".charAt),c=l((function(){return"\ud842"!=="𠮷".at(-2)}));n({target:"String",proto:!0,forced:c},{at:function(t){var e=s(a(this)),i=e.length,n=o(t),r=n>=0?n:i+n;return r<0||r>=i?void 0:u(e,r)}})},f6b4:function(t,e,i){"use strict";var n=i("c532");function r(){this.handlers=[]}r.prototype.use=function(t,e,i){return this.handlers.push({fulfilled:t,rejected:e,synchronous:!!i&&i.synchronous,runWhen:i?i.runWhen:null}),this.handlers.length-1},r.prototype.eject=function(t){this.handlers[t]&&(this.handlers[t]=null)},r.prototype.forEach=function(t){n.forEach(this.handlers,(function(e){null!==e&&t(e)}))},t.exports=r},fb6a:function(t,e,i){"use strict";var n=i("23e7"),r=i("da84"),a=i("e8b5"),o=i("68ee"),s=i("861d"),l=i("23cb"),u=i("07fa"),c=i("fc6a"),h=i("8418"),d=i("b622"),p=i("1dde"),f=i("f36a"),m=p("slice"),g=d("species"),y=r.Array,_=Math.max;n({target:"Array",proto:!0,forced:!m},{slice:function(t,e){var i,n,r,d=c(this),p=u(d),m=l(t,p),v=l(void 0===e?p:e,p);if(a(d)&&(i=d.constructor,o(i)&&(i===y||a(i.prototype))?i=void 0:s(i)&&(i=i[g],null===i&&(i=void 0)),i===y||void 0===i))return f(d,m,v);for(n=new(void 0===i?y:i)(_(v-m,0)),r=0;m<v;m++,r++)m in d&&h(n,r,d[m]);return n.length=r,n}})},fce3:function(t,e,i){var n=i("d039"),r=i("da84"),a=r.RegExp;t.exports=n((function(){var t=a(".","s");return!(t.dotAll&&t.exec("\n")&&"s"===t.flags)}))}}]);
//# sourceMappingURL=chunk-d2739f82.a762a62d.js.map